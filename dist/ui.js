webpackJsonp([1],[function(e,t,n){"use strict";var r=n(1),i=n(35),o=(n(98),n(208)),s=n(148),a=n(151),u=new s,l=new a(u),c=n(152),p=n(153),h=i.Model(!0),f=i.Model(!1),d=i.Model.combine({isLocked:h,settingsVisible:f,gridSettings:l.gridSettingsModel}),m=r.createClass({displayName:"App",getInitialState:function(){return d.get()},render:function(){var e=function(e,t){return r.createElement("div",{key:e.key},e)},t=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;return r.createElement("div",null,r.createElement(c,{model:d,instrumentPanel:l}),this.state.settingsVisible?r.createElement(p,{instrumentPanel:l}):"",r.createElement(o,{className:"layout",layout:this.state.gridSettings.layout,children:this.state.gridSettings.activeWidgets.map(e),cols:Math.round(t/320*2),rowHeight:50,isDraggable:!this.state.isLocked,isResizable:!this.state.isLocked,onLayoutChange:l.onLayoutChange.bind(l)}),t,"px")},componentDidMount:function(){var e=this;this.unsubscribe=d.onValue(function(t){e.setState(t)})},componentWillUnmount:function(){this.unsubscribe&&this.unsubscribe()}});r.render(r.createElement(m,null),document.getElementById("content"))},,,,function(e,t){"use strict";function n(e){e||(e="");var t,n=arguments.length;if(n>1)for(var r=1;n>r;r++)t=arguments[r],t&&(e=(e?e+" ":"")+t);return e}e.exports=n},function(e,t){function n(e){return"object"==typeof e?Object.keys(e).filter(function(t){return e[t]}).join(" "):Array.prototype.join.call(arguments," ")}e.exports=n},function(e,t,n){var r=n(1),i=n(71),o={propTypes:{bsClass:r.PropTypes.oneOf(Object.keys(i.CLASSES)),bsStyle:r.PropTypes.oneOf(Object.keys(i.STYLES)),bsSize:r.PropTypes.oneOf(Object.keys(i.SIZES))},getBsClassSet:function(){var e={},t=this.props.bsClass&&i.CLASSES[this.props.bsClass];if(t){e[t]=!0;var n=t+"-",r=this.props.bsSize&&i.SIZES[this.props.bsSize];r&&(e[n+r]=!0);var o=this.props.bsStyle&&i.STYLES[this.props.bsStyle];this.props.bsStyle&&(e[n+o]=!0)}return e}};e.exports=o},,,,,function(e,t,n){function r(e){return function(t,n,r){t.hasOwnProperty(n)?t[n]=e(t[n],r):t[n]=r}}function i(){}function o(e,t){for(var n in t)if(t.hasOwnProperty(n)){var r=h[n];r&&h.hasOwnProperty(n)?r(e,n,t[n]):e.hasOwnProperty(n)||(e[n]=t[n])}return e}function s(e,t){return o(c({},e),t)}function a(e,t){var n=f.mergeProps(t,e.props);if(!n.hasOwnProperty(d)&&e.props.hasOwnProperty(d)&&(n.children=e.props.children),"0.12"===u.version.substr(0,4)){var r=function(){};return r.isReactLegacyFactory=!0,r.type=e.type,u.createElement(r,n)}return u.createElement(e.type,n)}var u=n(1),l=n(4),c=n(73),p=r(function(e,t){return c({},t,e)}),h={children:i,className:r(l),style:p},f={mergeProps:s},d="children";e.exports=a},function(e,t,n){function r(e,t,n){var r=0;return a.Children.map(e,function(e){if(a.isValidElement(e)){var i=r;return r++,t.call(n,e,i)}return e})}function i(e,t,n){var r=0;return a.Children.forEach(e,function(e){a.isValidElement(e)&&(t.call(n,e,r),r++)})}function o(e){var t=0;return a.Children.forEach(e,function(e){a.isValidElement(e)&&t++}),t}function s(e){var t=!1;return a.Children.forEach(e,function(e){!t&&a.isValidElement(e)&&(t=!0)}),t}var a=n(1);e.exports={map:r,forEach:i,numberOf:o,hasValidComponent:s}},,,,,,function(e,t){function n(e,t){var n="function"==typeof e,r="function"==typeof t;return n||r?n?r?function(){e.apply(this,arguments),t.apply(this,arguments)}:e:t:null}e.exports=n},,,,,,,,,function(e,t,n){var r=n(1),i=n(4),o=n(5),s=n(6),a=r.createClass({displayName:"Button",mixins:[s],propTypes:{active:r.PropTypes.bool,disabled:r.PropTypes.bool,block:r.PropTypes.bool,navItem:r.PropTypes.bool,navDropdown:r.PropTypes.bool,componentClass:r.PropTypes.node,href:r.PropTypes.string,target:r.PropTypes.string},getDefaultProps:function(){return{bsClass:"button",bsStyle:"default",type:"button"}},render:function(){var e,t=this.props.navDropdown?{}:this.getBsClassSet();return t.active=this.props.active,t["btn-block"]=this.props.block,this.props.navItem?this.renderNavItem(t):(e=this.props.href||this.props.target||this.props.navDropdown?"renderAnchor":"renderButton",this[e](t))},renderAnchor:function(e){var t=this.props.componentClass||"a",n=this.props.href||"#";return e.disabled=this.props.disabled,r.createElement(t,r.__spread({},this.props,{href:n,className:i(this.props.className,o(e)),role:"button"}),this.props.children)},renderButton:function(e){var t=this.props.componentClass||"button";return r.createElement(t,r.__spread({},this.props,{className:i(this.props.className,o(e))}),this.props.children)},renderNavItem:function(e){var t={active:this.props.active};return r.createElement("li",{className:o(t)},this.renderAnchor(e))}});e.exports=a},function(e,t,n){e.exports={Accordion:n(168),Affix:n(169),AffixMixin:n(109),Alert:n(170),BootstrapMixin:n(6),Badge:n(171),Button:n(27),ButtonGroup:n(65),ButtonToolbar:n(172),Carousel:n(173),CarouselItem:n(174),Col:n(175),CollapsableMixin:n(66),DropdownButton:n(176),DropdownMenu:n(67),DropdownStateMixin:n(68),FadeMixin:n(110),Glyphicon:n(177),Grid:n(178),Input:n(179),Interpolate:n(111),Jumbotron:n(180),Label:n(181),ListGroup:n(182),ListGroupItem:n(183),MenuItem:n(184),Modal:n(185),Nav:n(69),Navbar:n(187),NavItem:n(112),ModalTrigger:n(186),OverlayTrigger:n(188),OverlayMixin:n(70),PageHeader:n(189),Panel:n(192),PanelGroup:n(113),PageItem:n(190),Pager:n(191),Popover:n(193),ProgressBar:n(194),Row:n(195),SplitButton:n(196),SubNav:n(197),TabbedArea:n(199),Table:n(200),TabPane:n(198),Tooltip:n(201),Well:n(202)}},,,,,,,function(e,t,n){var r,i;(function(e,o){(function(){var s,a,u,l,c,p,h,f,d,m,g,v,y,b,_,w,E,x,N,C,M,S,T,D,P,k,O,A,j,R,I,L,V,U,F,B,z,H,W,$,q,K,G,Y,X,J,Q,Z,ee,te,ne,re,ie,oe,se,ae,ue,le,ce,pe,he,fe,de,me,ge,ve,ye,be,_e,we,Ee,xe,Ne,Ce={}.hasOwnProperty,Me=function(e,t){function n(){this.constructor=e}for(var r in t)Ce.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},Se=[].slice,Te=function(e,t){return function(){return e.apply(t,arguments)}};s={toString:function(){return"Bacon"}},s.version="0.7.73",v=("undefined"!=typeof e&&null!==e?e:this).Error,ce=function(){},ne=function(e,t){return t},X=function(e,t){return e},U=function(e){return e.slice(0)},k=function(e,t){if(!t)throw new v(e)},L=function(e){if(e instanceof w&&!(e instanceof E))throw new v("Observable is not a Property : "+e)},A=function(e){if(!(e instanceof g))throw new v("not an EventStream : "+e)},I=function(e){if(!(e instanceof w))throw new v("not an Observable : "+e)},j=function(e){return k("not a function : "+e,S.isFunction(e))},Z=function(e){return e instanceof Array},te=function(e){return e instanceof w},O=function(e){if(!Z(e))throw new v("not an array : "+e)},R=function(e){return k("no arguments supported",0===e.length)},V=function(e){if("string"!=typeof e)throw new v("not a string : "+e)},S={indexOf:Array.prototype.indexOf?function(e,t){return e.indexOf(t)}:function(e,t){var n,r,i,o;for(n=r=0,i=e.length;i>r;n=++r)if(o=e[n],t===o)return n;return-1},indexWhere:function(e,t){var n,r,i,o;for(n=r=0,i=e.length;i>r;n=++r)if(o=e[n],t(o))return n;return-1},head:function(e){return e[0]},always:function(e){return function(){return e}},negate:function(e){return function(t){return!e(t)}},empty:function(e){return 0===e.length},tail:function(e){return e.slice(1,e.length)},filter:function(e,t){var n,r,i,o;for(n=[],r=0,i=t.length;i>r;r++)o=t[r],e(o)&&n.push(o);return n},map:function(e,t){var n,r,i,o;for(i=[],n=0,r=t.length;r>n;n++)o=t[n],i.push(e(o));return i},each:function(e,t){var n,r;for(n in e)Ce.call(e,n)&&(r=e[n],t(n,r));return void 0},toArray:function(e){return Z(e)?e:[e]},contains:function(e,t){return-1!==S.indexOf(e,t)},id:function(e){return e},last:function(e){return e[e.length-1]},all:function(e,t){var n,r,i;for(null==t&&(t=S.id),n=0,r=e.length;r>n;n++)if(i=e[n],!t(i))return!1;return!0},any:function(e,t){var n,r,i;for(null==t&&(t=S.id),n=0,r=e.length;r>n;n++)if(i=e[n],t(i))return!0;return!1},without:function(e,t){return S.filter(function(t){return t!==e},t)},remove:function(e,t){var n;return n=S.indexOf(t,e),n>=0?t.splice(n,1):void 0},fold:function(e,t,n){var r,i,o;for(r=0,i=e.length;i>r;r++)o=e[r],t=n(t,o);return t},flatMap:function(e,t){return S.fold(t,[],function(t,n){return t.concat(e(n))})},cached:function(e){var t;return t=_,function(){return t===_&&(t=e(),e=void 0),t}},isFunction:function(e){return"function"==typeof e},toString:function(e){var t,n,r,i;try{return he++,null==e?"undefined":S.isFunction(e)?"function":Z(e)?he>5?"[..]":"["+S.map(S.toString,e).toString()+"]":null!=(null!=e?e.toString:void 0)&&e.toString!==Object.prototype.toString?e.toString():"object"==typeof e?he>5?"{..}":(n=function(){var n;n=[];for(r in e)Ce.call(e,r)&&(i=function(){try{return e[r]}catch(n){return t=n}}(),n.push(S.toString(r)+":"+S.toString(i)));return n}(),"{"+n+"}"):e}finally{he--}}},he=0,s._=S,M=s.UpdateBarrier=function(){var e,t,n,r,i,o,a,u,l,c,p,h,f,d;return c=void 0,p=[],h={},t=[],n=0,e=function(e){return c?t.push(e):e()},f=function(e,t){var n;return c?(n=h[e.id],null==n?(n=h[e.id]=[t],p.push(e)):n.push(t)):t()},i=function(){for(;p.length>0;)a(0);return void 0},a=function(e){var t,n,r,i,s,a;for(i=p[e],s=i.id,a=h[s],p.splice(e,1),delete h[s],o(i),n=0,r=a.length;r>n;n++)(t=a[n])();return void 0},o=function(e){var t,n,r,i,s;for(n=e.internalDeps(),i=0,s=n.length;s>i;i++)t=n[i],o(t),h[t.id]&&(r=S.indexOf(p,t),a(r));return void 0},l=function(e,r,o,s){var a,u;if(c)return o.apply(r,s);c=e;try{u=o.apply(r,s),i()}finally{for(c=void 0;n<t.length;)a=t[n],n++,a();n=0,t=[]}return u},r=function(){return c?c.id:void 0},d=function(t,n){var r,i,o,a;return a=!1,i=!1,r=function(){return i=!0},o=function(){return a=!0,r()},r=t.dispatcher.subscribe(function(t){return e(function(){var e;return a||(e=n(t),e!==s.noMore)?void 0:o()})}),i&&r(),o},u=function(){return p.length>0},{whenDoneWith:f,hasWaiters:u,inTransaction:l,currentEventId:r,wrappedSubscribe:d,afterTransaction:e}}(),C=function(){function e(e,t,n){this.obs=e,this.sync=t,this.lazy=null!=n?n:!1,this.queue=[]}return e.prototype.subscribe=function(e){return this.obs.dispatcher.subscribe(e)},e.prototype.toString=function(){return this.obs.toString()},e.prototype.markEnded=function(){return this.ended=!0},e.prototype.consume=function(){return this.lazy?{value:S.always(this.queue[0])}:this.queue[0]},e.prototype.push=function(e){return this.queue=[e]},e.prototype.mayHave=function(){return!0},e.prototype.hasAtLeast=function(){return this.queue.length},e.prototype.flatten=!0,e}(),c=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Me(t,e),t.prototype.consume=function(){return this.queue.shift()},t.prototype.push=function(e){return this.queue.push(e)},t.prototype.mayHave=function(e){return!this.ended||this.queue.length>=e},t.prototype.hasAtLeast=function(e){return this.queue.length>=e},t.prototype.flatten=!1,t}(C),a=function(e){function t(e){t.__super__.constructor.call(this,e,!0)}return Me(t,e),t.prototype.consume=function(){var e;return e=this.queue,this.queue=[],{value:function(){return e}}},t.prototype.push=function(e){return this.queue.push(e.value())},t.prototype.hasAtLeast=function(){return!0},t}(C),C.isTrigger=function(e){return e instanceof C?e.sync:e instanceof g},C.fromObservable=function(e){return e instanceof C?e:e instanceof E?new C(e,!1):new c(e,!0)},p=function(){function e(e,t,n){this.context=e,this.method=t,this.args=n}return e.prototype.deps=function(){return this.cached||(this.cached=K([this.context].concat(this.args)))},e.prototype.toString=function(){return S.toString(this.context)+"."+S.toString(this.method)+"("+S.map(S.toString,this.args)+")"},e}(),H=function(){var e,t,n;return t=arguments[0],n=arguments[1],e=3<=arguments.length?Se.call(arguments,2):[],(t||n)instanceof p?t||n:new p(t,n,e)},xe=function(e,t){return t.desc=e,t},K=function(e){return Z(e)?S.flatMap(K,e):te(e)?[e]:e instanceof C?[e.obs]:[]},s.Desc=p,s.Desc.empty=new s.Desc("","",[]),Ne=function(e){return function(){var t,n,r,i;return r=arguments[0],t=2<=arguments.length?Se.call(arguments,1):[],"object"==typeof r&&t.length&&(n=r,i=t[0],r=function(){return n[i].apply(n,arguments)},t=t.slice(1)),e.apply(null,[r].concat(Se.call(t)))}},oe=function(e){return e=Array.prototype.slice.call(e),se.apply(null,e)},pe=function(e,t){return function(){var n;return n=1<=arguments.length?Se.call(arguments,0):[],e.apply(null,t.concat(n))}},we=function(e){return function(t){return function(n){var r;return null==n?void 0:(r=n[t],S.isFunction(r)?r.apply(n,e):r)}}},ye=function(e,t){var n,r;return r=e.slice(1).split("."),n=S.map(we(t),r),function(t){var r,i;for(r=0,i=n.length;i>r;r++)e=n[r],t=e(t);return t}},ee=function(e){return"string"==typeof e&&e.length>1&&"."===e.charAt(0)},se=Ne(function(){var e,t;return t=arguments[0],e=2<=arguments.length?Se.call(arguments,1):[],S.isFunction(t)?e.length?pe(t,e):t:ee(t)?ye(t,e):S.always(t)}),ie=function(e,t){return se.apply(null,[e].concat(Se.call(t)))},z=function(e,t,n,r){var i;return t instanceof E?(i=t.sampledBy(e,function(e,t){return[e,t]}),r.call(i,function(e){var t,n;return t=e[0],n=e[1],t}).map(function(e){var t,n;return t=e[0],n=e[1]})):(t=ie(t,n),r.call(e,t))},ge=function(e){var t;if(S.isFunction(e))return e;if(ee(e))return t=be(e),function(e,n){return e[t](n)};throw new v("not a function or a field key: "+e)},be=function(e){return e.slice(1)},N=function(){function e(e){this.value=e}return e.prototype.getOrElse=function(){return this.value},e.prototype.get=function(){return this.value},e.prototype.filter=function(t){return t(this.value)?new e(this.value):_},e.prototype.map=function(t){return new e(t(this.value))},e.prototype.forEach=function(e){return e(this.value)},e.prototype.isDefined=!0,e.prototype.toArray=function(){return[this.value]},e.prototype.inspect=function(){return"Some("+this.value+")"},e.prototype.toString=function(){return this.inspect()},e}(),_={getOrElse:function(e){return e},filter:function(){return _},map:function(){return _},forEach:function(){},isDefined:!1,toArray:function(){return[]},inspect:function(){return"None"},toString:function(){return this.inspect()}},_e=function(e){return e instanceof N||e===_?e:new N(e)},s.noMore=["<no-more>"],s.more=["<more>"],$=0,m=function(){function e(){this.id=++$}return e.prototype.isEvent=function(){return!0},e.prototype.isEnd=function(){return!1},e.prototype.isInitial=function(){return!1},e.prototype.isNext=function(){return!1},e.prototype.isError=function(){return!1},e.prototype.hasValue=function(){return!1},e.prototype.filter=function(){return!0},e.prototype.inspect=function(){return this.toString()},e.prototype.log=function(){return this.toString()},e}(),b=function(e){function t(e,n){return this instanceof t?(t.__super__.constructor.call(this),void(!n&&S.isFunction(e)||e instanceof t?(this.valueF=e,this.valueInternal=void 0):(this.valueF=void 0,this.valueInternal=e))):new t(e,n)}return Me(t,e),t.prototype.isNext=function(){return!0},t.prototype.hasValue=function(){return!0},t.prototype.value=function(){return this.valueF instanceof t?(this.valueInternal=this.valueF.value(),this.valueF=void 0):this.valueF&&(this.valueInternal=this.valueF(),this.valueF=void 0),this.valueInternal},t.prototype.fmap=function(e){var t,n;return this.valueInternal?(n=this.valueInternal,this.apply(function(){return e(n)})):(t=this,this.apply(function(){return e(t.value())}))},t.prototype.apply=function(e){return new t(e)},t.prototype.filter=function(e){return e(this.value())},t.prototype.toString=function(){return S.toString(this.value())},t.prototype.log=function(){return this.value()},t}(m),y=function(e){function t(e,n){return this instanceof t?void t.__super__.constructor.call(this,e,n):new t(e,n)}return Me(t,e),t.prototype.isInitial=function(){return!0},t.prototype.isNext=function(){return!1},t.prototype.apply=function(e){return new t(e)},t.prototype.toNext=function(){return new b(this)},t}(b),f=function(e){function t(){return this instanceof t?void 0:new t}return Me(t,e),t.prototype.isEnd=function(){return!0},t.prototype.fmap=function(){return this},t.prototype.apply=function(){return this},t.prototype.toString=function(){return"<end>"},t}(m),d=function(e){function t(e){return this instanceof t?void(this.error=e):new t(e)}return Me(t,e),t.prototype.isError=function(){return!0},t.prototype.fmap=function(){return this},t.prototype.apply=function(){return this},t.prototype.toString=function(){return"<error> "+S.toString(this.error)},t}(m),s.Event=m,s.Initial=y,s.Next=b,s.End=f,s.Error=d,Q=function(e){return new y(e,!0)},le=function(e){return new b(e,!0)},W=function(){return new f},ve=function(e){return e instanceof m?e:le(e)},J=0,de=function(){},w=function(){function e(e){this.desc=e,this.id=++J,this.initialDesc=this.desc}return e.prototype.subscribe=function(e){return M.wrappedSubscribe(this,e)},e.prototype.subscribeInternal=function(e){return this.dispatcher.subscribe(e)},e.prototype.onValue=function(){var e;return e=oe(arguments),this.subscribe(function(t){return t.hasValue()?e(t.value()):void 0})},e.prototype.onValues=function(e){return this.onValue(function(t){return e.apply(null,t)})},e.prototype.onError=function(){var e;return e=oe(arguments),this.subscribe(function(t){return t.isError()?e(t.error):void 0})},e.prototype.onEnd=function(){var e;return e=oe(arguments),this.subscribe(function(t){return t.isEnd()?e():void 0})},e.prototype.name=function(e){return this._name=e,this},e.prototype.withDescription=function(){return this.desc=H.apply(null,arguments),this},e.prototype.toString=function(){return this._name?this._name:this.desc.toString()},e.prototype.internalDeps=function(){return this.initialDesc.deps()},e}(),w.prototype.assign=w.prototype.onValue,w.prototype.forEach=w.prototype.onValue,w.prototype.inspect=w.prototype.toString,s.Observable=w,l=function(){function e(e){var t,n,r;for(null==e&&(e=[]),this.unsubscribe=Te(this.unsubscribe,this),this.unsubscribed=!1,this.subscriptions=[],this.starting=[],t=0,n=e.length;n>t;t++)r=e[t],this.add(r)}return e.prototype.add=function(e){var t,n,r;if(!this.unsubscribed)return t=!1,n=ce,this.starting.push(e),r=function(r){return function(){return r.unsubscribed?void 0:(t=!0,r.remove(n),S.remove(e,r.starting))}}(this),n=e(this.unsubscribe,r),this.unsubscribed||t?n():this.subscriptions.push(n),S.remove(e,this.starting),n},e.prototype.remove=function(e){return this.unsubscribed?void 0:void 0!==S.remove(e,this.subscriptions)?e():void 0},e.prototype.unsubscribe=function(){var e,t,n,r;if(!this.unsubscribed){for(this.unsubscribed=!0,n=this.subscriptions,e=0,t=n.length;t>e;e++)(r=n[e])();return this.subscriptions=[],this.starting=[]}},e.prototype.count=function(){return this.unsubscribed?0:this.subscriptions.length+this.starting.length},e.prototype.empty=function(){return 0===this.count()},e}(),s.CompositeUnsubscribe=l,h=function(){function e(e,t){this._subscribe=e,this._handleEvent=t,this.subscribe=Te(this.subscribe,this),this.handleEvent=Te(this.handleEvent,this),this.subscriptions=[],this.queue=[]}return e.prototype.pushing=!1,e.prototype.ended=!1,e.prototype.prevError=void 0,e.prototype.unsubSrc=void 0,e.prototype.hasSubscribers=function(){return this.subscriptions.length>0},e.prototype.removeSub=function(e){return this.subscriptions=S.without(e,this.subscriptions)},e.prototype.push=function(e){return e.isEnd()&&(this.ended=!0),M.inTransaction(e,this,this.pushIt,[e])},e.prototype.pushToSubscriptions=function(e){var t,n,r,i,o,a;try{for(a=this.subscriptions,n=0,r=a.length;r>n;n++)o=a[n],i=o.sink(e),(i===s.noMore||e.isEnd())&&this.removeSub(o);return!0}catch(u){throw t=u,this.pushing=!1,this.queue=[],t}},e.prototype.pushIt=function(e){if(this.pushing)return this.queue.push(e),s.more;if(e!==this.prevError){for(e.isError()&&(this.prevError=e),this.pushing=!0,this.pushToSubscriptions(e),this.pushing=!1;this.queue.length;)e=this.queue.shift(),this.push(e);return this.hasSubscribers()?s.more:(this.unsubscribeFromSource(),s.noMore)}},e.prototype.handleEvent=function(e){return this._handleEvent?this._handleEvent(e):this.push(e)},e.prototype.unsubscribeFromSource=function(){return this.unsubSrc&&this.unsubSrc(),this.unsubSrc=void 0},e.prototype.subscribe=function(e){var t;return this.ended?(e(W()),ce):(j(e),t={sink:e},this.subscriptions.push(t),1===this.subscriptions.length&&(this.unsubSrc=this._subscribe(this.handleEvent),j(this.unsubSrc)),function(e){return function(){return e.removeSub(t),e.hasSubscribers()?void 0:e.unsubscribeFromSource()}}(this))},e}(),s.Dispatcher=h,g=function(e){function t(e,n,r){return this instanceof t?(S.isFunction(e)&&(r=n,n=e,e=p.empty),t.__super__.constructor.call(this,e),j(n),this.dispatcher=new h(n,r),void de(this)):new t(e,n,r)}return Me(t,e),t.prototype.toProperty=function(e){var t,n;return n=0===arguments.length?_:_e(function(){return e}),t=this.dispatcher,new E(new s.Desc(this,"toProperty",[e]),function(e){var r,i,o,a;return r=!1,a=ce,i=s.more,o=function(){return r?void 0:n.forEach(function(t){return r=!0,i=e(new y(t)),i===s.noMore?(a(),a=ce):void 0})},a=t.subscribe(function(t){return t.hasValue()?r&&t.isInitial()?s.more:(t.isInitial()||o(),r=!0,n=new N(t),e(t)):(t.isEnd()&&(i=o()),i!==s.noMore?e(t):void 0)}),o(),a})},t.prototype.toEventStream=function(){return this},t.prototype.withHandler=function(e){return new t(new s.Desc(this,"withHandler",[e]),this.dispatcher.subscribe,e)},t}(w),s.EventStream=g,s.never=function(){return new g(H(s,"never"),function(e){return e(W()),ce})},s.when=function(){var e,t,n,r,i,o,a,u,l,c,p,h,f,d,m,v,y,b,_,w;if(0===arguments.length)return s.never();for(a=arguments.length,w="when: expecting arguments in the form (Observable+,function)+",k(w,a%2===0),b=[],f=[],t=0,d=[];a>t;){for(d[t]=arguments[t],d[t+1]=arguments[t+1],h=S.toArray(arguments[t]),e=F(arguments[t+1]),p={f:e,ixs:[]},_=!1,i=0,u=h.length;u>i;i++){for(y=h[i],n=S.indexOf(b,y),_||(_=C.isTrigger(y)),0>n&&(b.push(y),n=b.length-1),m=p.ixs,o=0,l=m.length;l>o;o++)r=m[o],r.index===n&&r.count++;p.ixs.push({index:n,count:1})}k("At least one EventStream required",_||!h.length),h.length>0&&f.push(p),t+=2}return b.length?(b=S.map(C.fromObservable,b),c=S.any(b,function(e){return e.flatten})&&B(S.map(function(e){return e.obs},b)),v=new g(new s.Desc(s,"when",d),function(e){var n,r,i,o,a,u,l;return l=[],i=!1,o=function(e){var n,r,i;for(i=e.ixs,n=0,r=i.length;r>n;n++)if(t=i[n],!b[t.index].hasAtLeast(t.count))return!1;return!0},r=function(e){return!e.sync||e.ended},n=function(e){var n,r,i;for(i=e.ixs,n=0,r=i.length;r>n;n++)if(t=i[n],!b[t.index].mayHave(t.count))return!0},a=function(e){return!e.source.flatten},u=function(u){return function(p){var h,d,m;return d=function(){return M.whenDoneWith(v,h)},m=function(){var n,r,i,u,c,p;if(!(l.length>0))return s.more;for(c=s.more,p=l.pop(),r=0,i=f.length;i>r;r++)if(u=f[r],o(u))return n=function(){var e,n,r,i;for(r=u.ixs,i=[],n=0,e=r.length;e>n;n++)t=r[n],i.push(b[t.index].consume());return i}(),c=e(p.e.apply(function(){var e,t;return t=function(){var t,r,i;for(i=[],r=0,t=n.length;t>r;r++)e=n[r],i.push(e.value());return i}(),u.f.apply(u,t)})),l.length&&(l=S.filter(a,l)),c===s.noMore?c:m()},h=function(){var t;return t=m(),i&&(S.all(b,r)||S.all(f,n))&&(t=s.noMore,e(W())),t===s.noMore&&p(),t},u.subscribe(function(t){var n;return t.isEnd()?(i=!0,u.markEnded(),d()):t.isError()?n=e(t):(u.push(t),u.sync&&(l.push({source:u,e:t}),c||M.hasWaiters()?d():h())),n===s.noMore&&p(),n||s.more})}},new s.CompositeUnsubscribe(function(){var e,t,n;for(n=[],e=0,t=b.length;t>e;e++)y=b[e],n.push(u(y));return n}()).unsubscribe})):s.never()},B=function(e,t){var n;return null==t&&(t=[]),n=function(e){var r;return S.contains(t,e)?!0:(r=e.internalDeps(),r.length?(t.push(e),S.any(r,n)):(t.push(e),!1))},S.any(e,n)},F=function(e){return S.isFunction(e)?e:S.always(e)},s.groupSimultaneous=function(){var e,t,n;return n=1<=arguments.length?Se.call(arguments,0):[],1===n.length&&Z(n[0])&&(n=n[0]),t=function(){var t,r,i;for(i=[],t=0,r=n.length;r>t;t++)e=n[t],i.push(new a(e));return i}(),xe(new s.Desc(s,"groupSimultaneous",n),s.when(t,function(){var e;return e=1<=arguments.length?Se.call(arguments,0):[]}))},x=function(e){function t(e,n,r){this.property=e,this.subscribe=Te(this.subscribe,this),t.__super__.constructor.call(this,n,r),this.current=_,this.currentValueRootId=void 0,this.propertyEnded=!1}return Me(t,e),t.prototype.push=function(e){return e.isEnd()&&(this.propertyEnded=!0),e.hasValue()&&(this.current=new N(e),this.currentValueRootId=M.currentEventId()),t.__super__.push.call(this,e)},t.prototype.maybeSubSource=function(e,t){return t===s.noMore?ce:this.propertyEnded?(e(W()),ce):h.prototype.subscribe.call(this,e)},t.prototype.subscribe=function(e){var t,n,r,i;return n=!1,r=s.more,this.current.isDefined&&(this.hasSubscribers()||this.propertyEnded)?(t=M.currentEventId(),i=this.currentValueRootId,!this.propertyEnded&&i&&t&&t!==i?(M.whenDoneWith(this.property,function(t){return function(){return t.currentValueRootId===i?e(Q(t.current.get().value())):void 0}}(this)),this.maybeSubSource(e,r)):(M.inTransaction(void 0,this,function(){return r=e(Q(this.current.get().value()))},[]),this.maybeSubSource(e,r))):this.maybeSubSource(e,r)},t}(h),E=function(e){function t(e,n,r){t.__super__.constructor.call(this,e),j(n),this.dispatcher=new x(this,n,r),de(this)}return Me(t,e),t.prototype.changes=function(){return new g(new s.Desc(this,"changes",[]),function(e){return function(t){return e.dispatcher.subscribe(function(e){return e.isInitial()?void 0:t(e)})}}(this))},t.prototype.withHandler=function(e){return new t(new s.Desc(this,"withHandler",[e]),this.dispatcher.subscribe,e)},t.prototype.toProperty=function(){return R(arguments),this},t.prototype.toEventStream=function(){return new g(new s.Desc(this,"toEventStream",[]),function(e){return function(t){return e.dispatcher.subscribe(function(e){return e.isInitial()&&(e=e.toNext()),t(e)})}}(this))},t}(w),s.Property=E,s.constant=function(e){return new E(new s.Desc(s,"constant",[e]),function(t){return t(Q(e)),t(W()),ce})},s.fromBinder=function(e,t){return null==t&&(t=S.id),new g(new s.Desc(s,"fromBinder",[e,t]),function(n){var r,i,o,a;return a=!1,r=!1,i=function(){return a?void 0:"undefined"!=typeof o&&null!==o?(o(),a=!0):r=!0},o=e(function(){var e,r,o,a,u,l;for(e=1<=arguments.length?Se.call(arguments,0):[],l=t.apply(this,e),Z(l)&&S.last(l)instanceof m||(l=[l]),u=s.more,o=0,a=l.length;a>o;o++)if(r=l[o],u=n(r=ve(r)),u===s.noMore||r.isEnd())return i(),u;return u}),r&&i(),i})},q=[["addEventListener","removeEventListener"],["addListener","removeListener"],["on","off"],["bind","unbind"]],G=function(e){var t,n,r,i;for(t=0,n=q.length;n>t;t++)if(i=q[t],r=[e[i[0]],e[i[1]]],r[0]&&r[1])return r;throw new d("No suitable event methods in "+e)},s.fromEventTarget=function(e,t,n){var r,i,o;return r=G(e),i=r[0],o=r[1],xe(new s.Desc(s,"fromEvent",[e,t]),s.fromBinder(function(n){return i.call(e,t,n),function(){return o.call(e,t,n)}},n))},s.fromEvent=s.fromEventTarget,s.Observable.prototype.map=function(){var e,t;return t=arguments[0],e=2<=arguments.length?Se.call(arguments,1):[],z(this,t,e,function(e){return xe(new s.Desc(this,"map",[e]),this.withHandler(function(t){return this.push(t.fmap(e))}))})},D=function(e){return Z(e[0])?e[0]:Array.prototype.slice.call(e)},P=function(e){return S.isFunction(e[0])?[D(Array.prototype.slice.call(e,1)),e[0]]:[D(Array.prototype.slice.call(e,0,e.length-1)),S.last(e)]},s.combineAsArray=function(){var e,t,n,r,i,o,a;for(a=D(arguments),e=t=0,n=a.length;n>t;e=++t)o=a[e],te(o)||(a[e]=s.constant(o));return a.length?(i=function(){var e,t,n;for(n=[],e=0,t=a.length;t>e;e++)r=a[e],n.push(new C(r,!0));return n}(),xe(new s.Desc(s,"combineAsArray",a),s.when(i,function(){var e;return e=1<=arguments.length?Se.call(arguments,0):[]}).toProperty())):s.constant([])},s.onValues=function(){var e,t,n;return n=2<=arguments.length?Se.call(arguments,0,t=arguments.length-1):(t=0,[]),e=arguments[t++],s.combineAsArray(n).onValues(e)},s.combineWith=function(){var e,t,n;return t=P(arguments),n=t[0],e=t[1],xe(new s.Desc(s,"combineWith",[e].concat(Se.call(n))),s.combineAsArray(n).map(function(t){return e.apply(null,t)}))},s.Observable.prototype.combine=function(e,t){var n;return n=ge(t),xe(new s.Desc(this,"combine",[e,t]),s.combineAsArray(this,e).map(function(e){return n(e[0],e[1])}))},s.Observable.prototype.withStateMachine=function(e,t){var n;return n=e,xe(new s.Desc(this,"withStateMachine",[e,t]),this.withHandler(function(e){var r,i,o,a,u,l,c;for(r=t(n,e),a=r[0],l=r[1],n=a,c=s.more,i=0,o=l.length;o>i;i++)if(u=l[i],c=this.push(u),c===s.noMore)return c;return c}))},s.Observable.prototype.skipDuplicates=function(e){return null==e&&(e=function(e,t){return e===t}),xe(new s.Desc(this,"skipDuplicates",[]),this.withStateMachine(_,function(t,n){return n.hasValue()?n.isInitial()||t===_||!e(t.get(),n.value())?[new N(n.value()),[n]]:[t,[]]:[t,[n]]}))},s.Observable.prototype.awaiting=function(e){return xe(new s.Desc(this,"awaiting",[e]),s.groupSimultaneous(this,e).map(function(e){var t,n;return t=e[0],n=e[1],0===n.length}).toProperty(!1).skipDuplicates())},s.Observable.prototype.not=function(){return xe(new s.Desc(this,"not",[]),this.map(function(e){return!e}))},s.Property.prototype.and=function(e){return xe(new s.Desc(this,"and",[e]),this.combine(e,function(e,t){return e&&t}))},s.Property.prototype.or=function(e){return xe(new s.Desc(this,"or",[e]),this.combine(e,function(e,t){return e||t}))},s.scheduler={setTimeout:function(e,t){return setTimeout(e,t)},setInterval:function(e,t){return setInterval(e,t)},clearInterval:function(e){return clearInterval(e)},clearTimeout:function(e){return clearTimeout(e)},now:function(){return(new Date).getTime()}},s.EventStream.prototype.bufferWithTime=function(e){return xe(new s.Desc(this,"bufferWithTime",[e]),this.bufferWithTimeOrCount(e,Number.MAX_VALUE))},s.EventStream.prototype.bufferWithCount=function(e){return xe(new s.Desc(this,"bufferWithCount",[e]),this.bufferWithTimeOrCount(void 0,e))},s.EventStream.prototype.bufferWithTimeOrCount=function(e,t){var n;return n=function(n){return n.values.length===t?n.flush():void 0!==e?n.schedule():void 0},xe(new s.Desc(this,"bufferWithTimeOrCount",[e,t]),this.buffer(e,n,n))},s.EventStream.prototype.buffer=function(e,t,n){var r,i,o;return null==t&&(t=ce),null==n&&(n=ce),r={scheduled:null,end:void 0,values:[],flush:function(){var e,t;if(this.scheduled&&(s.scheduler.clearTimeout(this.scheduled),this.scheduled=null),this.values.length>0){if(t=this.values,this.values=[],e=this.push(le(t)),null!=this.end)return this.push(this.end);if(e!==s.noMore)return n(this)}else if(null!=this.end)return this.push(this.end)},schedule:function(){return this.scheduled?void 0:this.scheduled=e(function(e){return function(){return e.flush()}}(this))}},o=s.more,S.isFunction(e)||(i=e,e=function(e){return s.scheduler.setTimeout(e,i)}),xe(new s.Desc(this,"buffer",[]),this.withHandler(function(e){return r.push=function(e){return function(t){return e.push(t)}}(this),e.isError()?o=this.push(e):e.isEnd()?(r.end=e,r.scheduled||r.flush()):(r.values.push(e.value()),t(r)),o}))},s.Observable.prototype.filter=function(){var e,t;return t=arguments[0],e=2<=arguments.length?Se.call(arguments,1):[],L(t),z(this,t,e,function(e){return xe(new s.Desc(this,"filter",[e]),this.withHandler(function(t){return t.filter(e)?this.push(t):s.more}))})},s.once=function(e){return new g(new p(s,"once",[e]),function(t){return t(ve(e)),t(W()),ce})},s.EventStream.prototype.concat=function(e){var t;return t=this,new g(new s.Desc(t,"concat",[e]),function(n){var r,i;return i=ce,r=t.dispatcher.subscribe(function(t){return t.isEnd()?i=e.dispatcher.subscribe(n):n(t)}),function(){return r(),i()}})},s.Observable.prototype.flatMap=function(){return Y(this,ue(arguments))},s.Observable.prototype.flatMapFirst=function(){return Y(this,ue(arguments),!0)},Y=function(e,t,n,r){var i,o,a;return a=[e],i=[],o=new g(new s.Desc(e,"flatMap"+(n?"First":""),[t]),function(o){var a,u,c,p,h;return c=new l,
p=[],h=function(e){var n;return n=ae(t(e.value())),i.push(n),c.add(function(e,t){return n.dispatcher.subscribe(function(r){var l;return r.isEnd()?(S.remove(n,i),u(),a(t),s.noMore):(r instanceof y&&(r=r.toNext()),l=o(r),l===s.noMore&&e(),l)})})},u=function(){var e;return e=p.shift(),e?h(e):void 0},a=function(e){return e(),c.empty()?o(W()):void 0},c.add(function(t,i){return e.dispatcher.subscribe(function(e){return e.isEnd()?a(i):e.isError()?o(e):n&&c.count()>1?s.more:c.unsubscribed?s.noMore:r&&c.count()>r?p.push(e):h(e)})}),c.unsubscribe}),o.internalDeps=function(){return i.length?a.concat(i):a},o},ue=function(e){return 1===e.length&&te(e[0])?S.always(e[0]):oe(e)},ae=function(e){return te(e)?e:s.once(e)},s.Observable.prototype.flatMapWithConcurrencyLimit=function(){var e,t;return t=arguments[0],e=2<=arguments.length?Se.call(arguments,1):[],xe(new s.Desc(this,"flatMapWithConcurrencyLimit",[t].concat(Se.call(e))),Y(this,ue(e),!1,t))},s.Observable.prototype.flatMapConcat=function(){return xe(new s.Desc(this,"flatMapConcat",Array.prototype.slice.call(arguments,0)),this.flatMapWithConcurrencyLimit.apply(this,[1].concat(Se.call(arguments))))},s.later=function(e,t){return xe(new s.Desc(s,"later",[e,t]),s.fromBinder(function(n){var r,i;return i=function(){return n([t,W()])},r=s.scheduler.setTimeout(i,e),function(){return s.scheduler.clearTimeout(r)}}))},s.Observable.prototype.bufferingThrottle=function(e){return xe(new s.Desc(this,"bufferingThrottle",[e]),this.flatMapConcat(function(t){return s.once(t).concat(s.later(e).filter(!1))}))},s.Property.prototype.bufferingThrottle=function(){return s.Observable.prototype.bufferingThrottle.apply(this,arguments).toProperty()},u=function(e){function t(){return this.guardedSink=Te(this.guardedSink,this),this.subscribeAll=Te(this.subscribeAll,this),this.unsubAll=Te(this.unsubAll,this),this instanceof t?(this.sink=void 0,this.subscriptions=[],this.ended=!1,void t.__super__.constructor.call(this,new s.Desc(s,"Bus",[]),this.subscribeAll)):new t}return Me(t,e),t.prototype.unsubAll=function(){var e,t,n,r;for(n=this.subscriptions,e=0,t=n.length;t>e;e++)r=n[e],"function"==typeof r.unsub&&r.unsub();return void 0},t.prototype.subscribeAll=function(e){var t,n,r,i;if(this.ended)e(W());else for(this.sink=e,r=U(this.subscriptions),t=0,n=r.length;n>t;t++)i=r[t],this.subscribeInput(i);return this.unsubAll},t.prototype.guardedSink=function(e){return function(t){return function(n){return n.isEnd()?(t.unsubscribeInput(e),s.noMore):t.sink(n)}}(this)},t.prototype.subscribeInput=function(e){return e.unsub=e.input.dispatcher.subscribe(this.guardedSink(e.input))},t.prototype.unsubscribeInput=function(e){var t,n,r,i,o;for(i=this.subscriptions,t=n=0,r=i.length;r>n;t=++n)if(o=i[t],o.input===e)return"function"==typeof o.unsub&&o.unsub(),void this.subscriptions.splice(t,1)},t.prototype.plug=function(e){var t;return I(e),this.ended?void 0:(t={input:e},this.subscriptions.push(t),null!=this.sink&&this.subscribeInput(t),function(t){return function(){return t.unsubscribeInput(e)}}(this))},t.prototype.end=function(){return this.ended=!0,this.unsubAll(),"function"==typeof this.sink?this.sink(W()):void 0},t.prototype.push=function(e){return this.ended?void 0:"function"==typeof this.sink?this.sink(le(e)):void 0},t.prototype.error=function(e){return"function"==typeof this.sink?this.sink(new d(e)):void 0},t}(g),s.Bus=u,re=function(e,t){return Ne(function(){var n,r,i;return r=arguments[0],n=2<=arguments.length?Se.call(arguments,1):[],i=pe(t,[function(e,t){return r.apply(null,Se.call(e).concat([t]))}]),xe(new s.Desc(s,e,[r].concat(Se.call(n))),s.combineAsArray(n).flatMap(i))})},s.fromCallback=re("fromCallback",function(){var e,t;return t=arguments[0],e=2<=arguments.length?Se.call(arguments,1):[],s.fromBinder(function(n){return ie(t,e)(n),ce},function(e){return[e,W()]})}),s.fromNodeCallback=re("fromNodeCallback",function(){var e,t;return t=arguments[0],e=2<=arguments.length?Se.call(arguments,1):[],s.fromBinder(function(n){return ie(t,e)(n),ce},function(e,t){return e?[new d(e),W()]:[t,W()]})}),s.combineTemplate=function(e){var t,n,r,i,o,a,u,l,c,p,h;return u=[],h=[],a=function(e){return e[e.length-1]},p=function(e,t,n){return a(e)[t]=n},t=function(e,t){return function(n,r){return p(n,e,r[t])}},o=function(e,t){return function(n){return p(n,e,t)}},l=function(e){return Z(e)?[]:{}},c=function(e,t){return function(n){var r;return r=l(t),p(n,e,r),n.push(r)}},r=function(e,n){var r;return te(n)?(h.push(n),u.push(t(e,h.length-1))):n!==Object(n)||"function"==typeof n||n instanceof RegExp||n instanceof Date?u.push(o(e,n)):(r=function(e){return e.pop()},u.push(c(e,n)),i(n),u.push(r))},i=function(e){return S.each(e,r)},i(e),n=function(t){var n,r,i,o,s;for(s=l(e),n=[s],i=0,o=u.length;o>i;i++)(r=u[i])(n,t);return s},xe(new s.Desc(s,"combineTemplate",[e]),s.combineAsArray(h).map(n))},T=function(e,t){var n;return n=new g(H(e,"justInitValue"),function(t){var r,i;return i=void 0,r=e.dispatcher.subscribe(function(e){return e.isEnd()||(i=e),s.noMore}),M.whenDoneWith(n,function(){return null!=i&&t(i),t(W())}),r}),n.concat(t).toProperty()},s.Observable.prototype.mapEnd=function(){var e;return e=oe(arguments),xe(new s.Desc(this,"mapEnd",[e]),this.withHandler(function(t){return t.isEnd()?(this.push(le(e(t))),this.push(W()),s.noMore):this.push(t)}))},s.Observable.prototype.skipErrors=function(){return xe(new s.Desc(this,"skipErrors",[]),this.withHandler(function(e){return e.isError()?s.more:this.push(e)}))},s.EventStream.prototype.takeUntil=function(e){var t;return t={},xe(new s.Desc(this,"takeUntil",[e]),s.groupSimultaneous(this.mapEnd(t),e.skipErrors()).withHandler(function(n){var r,i,o,a,u,l;if(n.hasValue()){if(a=n.value(),r=a[0],e=a[1],e.length)return this.push(W());for(u=s.more,i=0,o=r.length;o>i;i++)l=r[i],u=l===t?this.push(W()):this.push(le(l));return u}return this.push(n)}))},s.Property.prototype.takeUntil=function(e){var t;return t=this.changes().takeUntil(e),xe(new s.Desc(this,"takeUntil",[e]),T(this,t))},s.Observable.prototype.flatMapLatest=function(){var e,t;return e=ue(arguments),t=this.toEventStream(),xe(new s.Desc(this,"flatMapLatest",[e]),t.flatMap(function(n){return ae(e(n)).takeUntil(t)}))},s.Property.prototype.delayChanges=function(e,t){return xe(e,T(this,t(this.changes())))},s.EventStream.prototype.delay=function(e){return xe(new s.Desc(this,"delay",[e]),this.flatMap(function(t){return s.later(e,t)}))},s.Property.prototype.delay=function(e){return this.delayChanges(new s.Desc(this,"delay",[e]),function(t){return t.delay(e)})},s.EventStream.prototype.debounce=function(e){return xe(new s.Desc(this,"debounce",[e]),this.flatMapLatest(function(t){return s.later(e,t)}))},s.Property.prototype.debounce=function(e){return this.delayChanges(new s.Desc(this,"debounce",[e]),function(t){return t.debounce(e)})},s.EventStream.prototype.debounceImmediate=function(e){return xe(new s.Desc(this,"debounceImmediate",[e]),this.flatMapFirst(function(t){return s.once(t).concat(s.later(e).filter(!1))}))},s.Observable.prototype.decode=function(e){return xe(new s.Desc(this,"decode",[e]),this.combine(s.combineTemplate(e),function(e,t){return t[e]}))},s.Observable.prototype.scan=function(e,t){var n,r,i,o;return t=ge(t),n=_e(e),r=!1,o=function(e){return function(o){var a,u,l,c;return a=!1,c=ce,u=s.more,l=function(){return a?void 0:n.forEach(function(e){return a=r=!0,u=o(new y(function(){return e})),u===s.noMore?(c(),c=ce):void 0})},c=e.dispatcher.subscribe(function(e){var i,c;return e.hasValue()?r&&e.isInitial()?s.more:(e.isInitial()||l(),a=r=!0,c=n.getOrElse(void 0),i=t(c,e.value()),n=new N(i),o(e.apply(function(){return i}))):(e.isEnd()&&(u=l()),u!==s.noMore?o(e):void 0)}),M.whenDoneWith(i,l),c}}(this),i=new E(new s.Desc(this,"scan",[e,t]),o)},s.Observable.prototype.diff=function(e,t){return t=ge(t),xe(new s.Desc(this,"diff",[e,t]),this.scan([e],function(e,n){return[n,t(e[0],n)]}).filter(function(e){return 2===e.length}).map(function(e){return e[1]}))},s.Observable.prototype.doAction=function(){var e;return e=oe(arguments),xe(new s.Desc(this,"doAction",[e]),this.withHandler(function(t){return t.hasValue()&&e(t.value()),this.push(t)}))},s.Observable.prototype.doError=function(){var e;return e=oe(arguments),xe(new s.Desc(this,"doError",[e]),this.withHandler(function(t){return t.isError()&&e(t.error),this.push(t)}))},s.Observable.prototype.doLog=function(){var e;return e=1<=arguments.length?Se.call(arguments,0):[],xe(new s.Desc(this,"doLog",e),this.withHandler(function(t){return"undefined"!=typeof console&&null!==console&&"function"==typeof console.log&&console.log.apply(console,Se.call(e).concat([t.log()])),this.push(t)}))},s.Observable.prototype.endOnError=function(){var e,t;return t=arguments[0],e=2<=arguments.length?Se.call(arguments,1):[],null==t&&(t=!0),z(this,t,e,function(e){return xe(new s.Desc(this,"endOnError",[]),this.withHandler(function(t){return t.isError()&&e(t.error)?(this.push(t),this.push(W())):this.push(t)}))})},w.prototype.errors=function(){return xe(new s.Desc(this,"errors",[]),this.filter(function(){return!1}))},Ee=function(e){return[e,W()]},s.fromPromise=function(e,t,n){return null==n&&(n=Ee),xe(new s.Desc(s,"fromPromise",[e]),s.fromBinder(function(n){var r;return null!=(r=e.then(n,function(e){return n(new d(e))}))&&"function"==typeof r.done&&r.done(),function(){return t&&"function"==typeof e.abort?e.abort():void 0}},n))},s.Observable.prototype.mapError=function(){var e;return e=oe(arguments),xe(new s.Desc(this,"mapError",[e]),this.withHandler(function(t){return t.isError()?this.push(le(e(t.error))):this.push(t)}))},s.Observable.prototype.flatMapError=function(e){return xe(new s.Desc(this,"flatMapError",[e]),this.mapError(function(e){return new d(e)}).flatMap(function(t){return t instanceof d?e(t.error):s.once(t)}))},s.EventStream.prototype.sampledBy=function(e,t){return xe(new s.Desc(this,"sampledBy",[e,t]),this.toProperty().sampledBy(e,t))},s.Property.prototype.sampledBy=function(e,t){var n,r,i,o,a;return null!=t?t=ge(t):(n=!0,t=function(e){return e.value()}),a=new C(this,!1,n),i=new C(e,!0,n),o=s.when([a,i],t),r=e instanceof E?o.toProperty():o,xe(new s.Desc(this,"sampledBy",[e,t]),r)},s.Property.prototype.sample=function(e){return xe(new s.Desc(this,"sample",[e]),this.sampledBy(s.interval(e,{})))},s.Observable.prototype.map=function(){var e,t;return t=arguments[0],e=2<=arguments.length?Se.call(arguments,1):[],t instanceof E?t.sampledBy(this,X):z(this,t,e,function(e){return xe(new s.Desc(this,"map",[e]),this.withHandler(function(t){return this.push(t.fmap(e))}))})},s.Observable.prototype.fold=function(e,t){return xe(new s.Desc(this,"fold",[e,t]),this.scan(e,t).sampledBy(this.filter(!1).mapEnd().toProperty()))},w.prototype.reduce=w.prototype.fold,s.fromPoll=function(e,t){return xe(new s.Desc(s,"fromPoll",[e,t]),s.fromBinder(function(t){var n;return n=s.scheduler.setInterval(t,e),function(){return s.scheduler.clearInterval(n)}},t))},s.Observable.prototype.groupBy=function(e,t){var n,r;return null==t&&(t=s._.id),r={},n=this,n.filter(function(t){return!r[e(t)]}).map(function(i){var o,a,u,l;return a=e(i),l=n.filter(function(t){return e(t)===a}),o=s.once(i).concat(l),u=t(o,i).withHandler(function(e){return this.push(e),e.isEnd()?delete r[a]:void 0}),r[a]=u})},s.fromArray=function(e){var t;return O(e),e.length?(t=0,new g(new s.Desc(s,"fromArray",[e]),function(n){var r,i,o,a,u;return u=!1,a=s.more,o=!1,i=!1,r=function(){var l;if(i=!0,!o){for(o=!0;i;)i=!1,a===s.noMore||u||(l=e[t++],a=n(ve(l)),a!==s.noMore&&(t===e.length?n(W()):M.afterTransaction(r)));return o=!1}},r(),function(){return u=!0}})):xe(new s.Desc(s,"fromArray",e),s.never())},s.EventStream.prototype.holdWhen=function(e){var t,n,r;return n=!1,t=[],r=this,new g(new s.Desc(this,"holdWhen",[e]),function(i){var o,s,a;return o=new l,a=!1,s=function(e){return"function"==typeof e&&e(),o.empty()&&a?i(W()):void 0},o.add(function(r,o){return e.subscribeInternal(function(e){var r,a,u,l,c;if(!e.hasValue())return e.isEnd()?s(o):i(e);if(n=e.value(),!n){for(l=t,t=[],u=[],r=0,a=l.length;a>r;r++)c=l[r],u.push(i(le(c)));return u}})}),o.add(function(e,o){return r.subscribeInternal(function(e){return n&&e.hasValue()?t.push(e.value()):e.isEnd()&&t.length?s(o):i(e)})}),a=!0,s(),o.unsubscribe})},s.interval=function(e,t){return null==t&&(t={}),xe(new s.Desc(s,"interval",[e,t]),s.fromPoll(e,function(){return le(t)}))},s.$={},s.$.asEventStream=function(e,t,n){var r;return S.isFunction(t)&&(r=[t,void 0],n=r[0],t=r[1]),xe(new s.Desc(this.selector||this,"asEventStream",[e]),s.fromBinder(function(n){return function(r){return n.on(e,t,r),function(){return n.off(e,t,r)}}}(this),n))},null!=(fe="undefined"!=typeof jQuery&&null!==jQuery?jQuery:"undefined"!=typeof Zepto&&null!==Zepto?Zepto:void 0)&&(fe.fn.asEventStream=s.$.asEventStream),s.Observable.prototype.log=function(){var e;return e=1<=arguments.length?Se.call(arguments,0):[],this.subscribe(function(t){return"undefined"!=typeof console&&null!==console&&"function"==typeof console.log?console.log.apply(console,Se.call(e).concat([t.log()])):void 0}),this},s.EventStream.prototype.merge=function(e){var t;return A(e),t=this,xe(new s.Desc(t,"merge",[e]),s.mergeAll(this,e))},s.mergeAll=function(){var e;return e=D(arguments),e.length?new g(new s.Desc(s,"mergeAll",e),function(t){var n,r,i;return n=0,i=function(r){return function(i){return r.dispatcher.subscribe(function(r){var o;return r.isEnd()?(n++,n===e.length?t(W()):s.more):(o=t(r),o===s.noMore&&i(),o)})}},r=S.map(i,e),new s.CompositeUnsubscribe(r).unsubscribe}):s.never()},s.repeatedly=function(e,t){var n;return n=0,xe(new s.Desc(s,"repeatedly",[e,t]),s.fromPoll(e,function(){return t[n++%t.length]}))},s.repeat=function(e){var t;return t=0,s.fromBinder(function(n){var r,i,o,a,u;return r=!1,o=s.more,u=function(){},i=function(e){return e.isEnd()?r?a():r=!0:o=n(e)},a=function(){var a;for(r=!0;r&&o!==s.noMore;)a=e(t++),r=!1,a?u=a.subscribeInternal(i):n(W());return r=!0},a(),function(){return u()}})},s.retry=function(e){var t,n,r,i,o,a,u;if(!S.isFunction(e.source))throw new v("'source' option has to be a function");return u=e.source,a=e.retries||0,o=e.maxRetries||a,t=e.delay||function(){return 0},i=e.isRetryable||function(){return!0},r=!1,n=null,xe(new s.Desc(s,"retry",[e]),s.repeat(function(){var e,l,c;return r?null:(c=function(){return u().endOnError().withHandler(function(e){return e.isError()?(n=e,i(n.error)&&a>0?void 0:(r=!0,this.push(e))):(e.hasValue()&&(n=null,r=!0),this.push(e))})},n?(e={error:n.error,retriesDone:o-a},l=s.later(t(e)).filter(!1),a-=1,l.concat(s.once().flatMap(c))):c())}))},s.sequentially=function(e,t){var n;return n=0,xe(new s.Desc(s,"sequentially",[e,t]),s.fromPoll(e,function(){var e;return e=t[n++],n<t.length?e:n===t.length?[e,W()]:W()}))},s.Observable.prototype.skip=function(e){return xe(new s.Desc(this,"skip",[e]),this.withHandler(function(t){return t.hasValue()&&e>0?(e--,s.more):this.push(t)}))},s.Observable.prototype.take=function(e){return 0>=e?s.never():xe(new s.Desc(this,"take",[e]),this.withHandler(function(t){return t.hasValue()?(e--,e>0?this.push(t):(0===e&&this.push(t),this.push(W()),s.noMore)):this.push(t)}))},s.EventStream.prototype.skipUntil=function(e){var t;return t=e.take(1).map(!0).toProperty(!1),xe(new s.Desc(this,"skipUntil",[e]),this.filter(t))},s.EventStream.prototype.skipWhile=function(){var e,t,n;return t=arguments[0],e=2<=arguments.length?Se.call(arguments,1):[],L(t),n=!1,z(this,t,e,function(e){return xe(new s.Desc(this,"skipWhile",[e]),this.withHandler(function(t){return!n&&t.hasValue()&&e(t.value())?s.more:(t.hasValue()&&(n=!0),this.push(t))}))})},s.Observable.prototype.slidingWindow=function(e,t){return null==t&&(t=0),xe(new s.Desc(this,"slidingWindow",[e,t]),this.scan([],function(t,n){return t.concat([n]).slice(-e)}).filter(function(e){return e.length>=t}))},s.spy=function(e){return me.push(e)},me=[],de=function(e){var t,n,r;if(me.length&&!de.running)try{for(de.running=!0,t=0,n=me.length;n>t;t++)(r=me[t])(e)}finally{delete de.running}return void 0},s.Property.prototype.startWith=function(e){return xe(new s.Desc(this,"startWith",[e]),this.scan(e,function(e,t){return t}))},s.EventStream.prototype.startWith=function(e){return xe(new s.Desc(this,"startWith",[e]),s.once(e).concat(this))},s.Observable.prototype.takeWhile=function(){var e,t;return t=arguments[0],e=2<=arguments.length?Se.call(arguments,1):[],L(t),z(this,t,e,function(e){return xe(new s.Desc(this,"takeWhile",[e]),this.withHandler(function(t){return t.filter(e)?this.push(t):(this.push(W()),s.noMore)}))})},s.update=function(){var e,t,n,r;for(t=arguments[0],r=2<=arguments.length?Se.call(arguments,1):[],n=function(e){return function(){var t;return t=1<=arguments.length?Se.call(arguments,0):[],function(n){return e.apply(null,[n].concat(t))}}},e=r.length-1;e>0;)r[e]instanceof Function||(r[e]=function(e){return function(){return e}}(r[e])),r[e]=n(r[e]),e-=2;return xe(new s.Desc(s,"update",[t].concat(Se.call(r))),s.when.apply(s,r).scan(t,function(e,t){return t(e)}))},s.zipAsArray=function(){var e;return e=D(arguments),xe(new s.Desc(s,"zipAsArray",e),s.zipWith(e,function(){var e;return e=1<=arguments.length?Se.call(arguments,0):[]}))},s.zipWith=function(){var e,t,n;return t=P(arguments),n=t[0],e=t[1],n=S.map(function(e){return e.toEventStream()},n),xe(new s.Desc(s,"zipWith",[e].concat(Se.call(n))),s.when(n,e))},s.Observable.prototype.zip=function(e,t){return null==t&&(t=Array),xe(new s.Desc(this,"zip",[e]),s.zipWith([this,e],t))},s.Observable.prototype.first=function(){return xe(new s.Desc(this,"first",[]),this.take(1))},s.Observable.prototype.last=function(){var e;return xe(new s.Desc(this,"last",[]),this.withHandler(function(t){return t.isEnd()?(e&&this.push(e),this.push(W()),s.noMore):void(e=t)}))},s.EventStream.prototype.throttle=function(e){return xe(new s.Desc(this,"throttle",[e]),this.bufferWithTime(e).map(function(e){return e[e.length-1]}))},s.Property.prototype.throttle=function(e){return this.delayChanges(new s.Desc(this,"throttle",[e]),function(t){return t.throttle(e)})},w.prototype.firstToPromise=function(e){var t=this;if("function"!=typeof e){if("function"!=typeof Promise)throw new v("There isn't default Promise, use shim or parameter");e=Promise}return new e(function(e,n){return t.subscribe(function(t){return t.hasValue()&&e(t.value()),t.isError()&&n(t.error),s.noMore})})},w.prototype.toPromise=function(e){return this.last().firstToPromise(e)},null!==n(287)&&null!=n(288)?(r=[],i=function(){return s}.apply(t,r),!(void 0!==i&&(o.exports=i)),"undefined"!=typeof this&&null!==this&&(this.Bacon=s)):"undefined"!=typeof o&&null!==o&&null!=o.exports?(o.exports=s,s.Bacon=s):this.Bacon=s}).call(this)}).call(t,function(){return this}(),n(93)(e))},,,,function(e,t,n){(function(e,r){function i(e,n){var r={seen:[],stylize:s};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),m(n)?r.showHidden=n:n&&t._extend(r,n),w(r.showHidden)&&(r.showHidden=!1),w(r.depth)&&(r.depth=2),w(r.colors)&&(r.colors=!1),w(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=o),u(r,e,r.depth)}function o(e,t){var n=i.styles[t];return n?"["+i.colors[n][0]+"m"+e+"["+i.colors[n][1]+"m":e}function s(e,t){return e}function a(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}function u(e,n,r){if(e.customInspect&&n&&M(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,e);return b(i)||(i=u(e,i,r)),i}var o=l(e,n);if(o)return o;var s=Object.keys(n),m=a(s);if(e.showHidden&&(s=Object.getOwnPropertyNames(n)),C(n)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return c(n);if(0===s.length){if(M(n)){var g=n.name?": "+n.name:"";return e.stylize("[Function"+g+"]","special")}if(E(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(N(n))return e.stylize(Date.prototype.toString.call(n),"date");if(C(n))return c(n)}var v="",y=!1,_=["{","}"];if(d(n)&&(y=!0,_=["[","]"]),M(n)){var w=n.name?": "+n.name:"";v=" [Function"+w+"]"}if(E(n)&&(v=" "+RegExp.prototype.toString.call(n)),N(n)&&(v=" "+Date.prototype.toUTCString.call(n)),C(n)&&(v=" "+c(n)),0===s.length&&(!y||0==n.length))return _[0]+v+_[1];if(0>r)return E(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special");e.seen.push(n);var x;return x=y?p(e,n,r,m,s):s.map(function(t){return h(e,n,r,m,t,y)}),e.seen.pop(),f(x,v,_)}function l(e,t){if(w(t))return e.stylize("undefined","undefined");if(b(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return y(t)?e.stylize(""+t,"number"):m(t)?e.stylize(""+t,"boolean"):g(t)?e.stylize("null","null"):void 0}function c(e){return"["+Error.prototype.toString.call(e)+"]"}function p(e,t,n,r,i){for(var o=[],s=0,a=t.length;a>s;++s)k(t,String(s))?o.push(h(e,t,n,r,String(s),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(h(e,t,n,r,i,!0))}),o}function h(e,t,n,r,i,o){var s,a,l;if(l=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]},l.get?a=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(a=e.stylize("[Setter]","special")),k(r,i)||(s="["+i+"]"),a||(e.seen.indexOf(l.value)<0?(a=g(n)?u(e,l.value,null):u(e,l.value,n-1),a.indexOf("\n")>-1&&(a=o?a.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+a.split("\n").map(function(e){return"   "+e}).join("\n"))):a=e.stylize("[Circular]","special")),w(s)){if(o&&i.match(/^\d+$/))return a;s=JSON.stringify(""+i),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+a}function f(e,t,n){var r=0,i=e.reduce(function(e,t){return r++,t.indexOf("\n")>=0&&r++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function d(e){return Array.isArray(e)}function m(e){return"boolean"==typeof e}function g(e){return null===e}function v(e){return null==e}function y(e){return"number"==typeof e}function b(e){return"string"==typeof e}function _(e){return"symbol"==typeof e}function w(e){return void 0===e}function E(e){return x(e)&&"[object RegExp]"===T(e)}function x(e){return"object"==typeof e&&null!==e}function N(e){return x(e)&&"[object Date]"===T(e)}function C(e){return x(e)&&("[object Error]"===T(e)||e instanceof Error)}function M(e){return"function"==typeof e}function S(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function T(e){return Object.prototype.toString.call(e)}function D(e){return 10>e?"0"+e.toString(10):e.toString(10)}function P(){var e=new Date,t=[D(e.getHours()),D(e.getMinutes()),D(e.getSeconds())].join(":");return[e.getDate(),R[e.getMonth()],t].join(" ")}function k(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var O=/%[sdj%]/g;t.format=function(e){if(!b(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(i(arguments[n]));return t.join(" ")}for(var n=1,r=arguments,o=r.length,s=String(e).replace(O,function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return e}}),a=r[n];o>n;a=r[++n])s+=g(a)||!x(a)?" "+a:" "+i(a);return s},t.deprecate=function(n,i){function o(){if(!s){if(r.throwDeprecation)throw new Error(i);r.traceDeprecation?console.trace(i):console.error(i),s=!0}return n.apply(this,arguments)}if(w(e.process))return function(){return t.deprecate(n,i).apply(this,arguments)};if(r.noDeprecation===!0)return n;var s=!1;return o};var A,j={};t.debuglog=function(e){if(w(A)&&(A=r.env.NODE_DEBUG||""),e=e.toUpperCase(),!j[e])if(new RegExp("\\b"+e+"\\b","i").test(A)){var n=r.pid;j[e]=function(){var r=t.format.apply(t,arguments);console.error("%s %d: %s",e,n,r)}}else j[e]=function(){};return j[e]},t.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=d,t.isBoolean=m,t.isNull=g,t.isNullOrUndefined=v,t.isNumber=y,t.isString=b,t.isSymbol=_,t.isUndefined=w,t.isRegExp=E,t.isObject=x,t.isDate=N,t.isError=C,t.isFunction=M,t.isPrimitive=S,t.isBuffer=n(290);var R=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];t.log=function(){console.log("%s - %s",P(),t.format.apply(t,arguments))},t.inherits=n(289),t._extend=function(e,t){if(!t||!x(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}}).call(t,function(){return this}(),n(2))},function(e,t,n){"use strict";function r(e,t,n,r){this.instrumentPanel=r}var i=n(285);r.prototype.setActive=function(e){this.options.active=e,this.instrumentPanel.onWidgetChange(this)},r.prototype.getLabelForPath=function(e){var t=i.i18n.en[e];return t?t.shortName||t.longName||"??":e},r.prototype.getUnitForPath=function(e){var t=i.i18n.en[e];return t?t.unit:void 0},r.prototype.displayValue=function(e){if("number"==typeof e){var t=Math.abs(e);return t>=50?e.toFixed(0):t>=10?e.toFixed(1):e.toFixed(2)}return e},e.exports=r},function(e,t){e.exports={type:"object",$schema:"http://json-schema.org/draft-03/schema",id:"https://signalk.github.io/specification/schemas/definitions.json#",title:"definitions",description:"Reusable definitions of core object types",definitions:{timestamp:{type:"string",required:!1,description:"ISO-8601 (UTC) string representing date and time.",units:"ISO-8601 (UTC)",example:"2014-04-10T08:33:53Z"},source:{type:"object",description:"Source of data. An object containing at least the properties defined in 'properties', but can contain anything beyond that.",required:["label","type"],properties:{label:{type:"string"},type:{type:"string","default":"NMEA2000"},src:{type:"string",description:"NMEA2000 src value or any similar value for encapsulating the original source of the data"},pgn:{type:"string",description:"NMEA2000 pgn of the source message"}}},version:{type:"string",description:"Version of the Signal K root object.",example:"0.1"},mmsi:{type:"string",description:"Maritime Mobile Service Identity (MMSI). Has to be 9 digits. See http://en.wikipedia.org/wiki/Maritime_Mobile_Service_Identity for information.",required:!1,maxLength:9,minLength:9},uuid:{type:"string",description:"UUID assigned by the implementation of the Signal K server to vessels that don't have a MMSI. Has to be 8 characters (chosen so one could use the first block in a RFC4122 UUID), to distinguish from MMSI.",maxLength:8,minLength:8,example:"550E8AB0"},sail:{type:"object",description:"'sail' data type.",properties:{name:{type:"string",required:!0,description:"An unique identifier by which the crew identifies a sail",example:"J1"},type:{type:"string",required:!0,description:"The type of sail",example:"Genaker"},material:{type:"string",required:!1,description:"The material the sail is made from (optional)",example:"canvas"},brand:{type:"string",required:!1,description:"The brand of the sail (optional)",example:"North Sails"},active:{type:"boolean",required:!0,description:"Indicates wether this sail is currently in use or not"},area:{type:"number",required:!0,description:"The total area of this sail in square meters (m2)"},minimumWind:{type:"number",description:"The minimum wind speed this sail can be used with, measured in m/s","default":0},maximumWind:{type:"number",description:"The maximum wind speed this sail can be used with, measured in m/s","default":666},timestamp:{description:"timestamp of the last update to this data",$ref:"#/definitions/timestamp"},source:{$ref:"#/definitions/source"},_attr:{$ref:"#/definitions/_attr"},meta:{$ref:"#/definitions/meta"}}},stringValue:{type:"object",description:"Data should be of type string.",properties:{value:{type:"string"},timestamp:{description:"timestamp of the last update to this data",$ref:"#/definitions/timestamp"},source:{$ref:"#/definitions/source"},_attr:{$ref:"#/definitions/_attr"},meta:{$ref:"#/definitions/meta"}}},numberValue:{type:"object",description:"Data should be of type number.",properties:{value:{type:"number"},timestamp:{description:"timestamp of the last update to this data",$ref:"#/definitions/timestamp"},source:{$ref:"#/definitions/source"},_attr:{$ref:"#/definitions/_attr"},meta:{$ref:"#/definitions/meta"}}},floatValue:{type:"object",description:"Data should be of type float/double.",properties:{value:{type:"number"},timestamp:{description:"timestamp of the last update to this data",$ref:"#/definitions/timestamp"},source:{description:"Source of this data",$ref:"#/definitions/source"},_attr:{$ref:"#/definitions/_attr"},meta:{$ref:"#/definitions/meta"}}},nullValue:{type:"object",description:"Data should be of type NULL.",properties:{value:{type:"null"},timestamp:{description:"timestamp of the last update to this data",$ref:"#/definitions/timestamp"},source:{description:"Source of this data",$ref:"#/definitions/source"},_attr:{$ref:"#/definitions/_attr"},meta:{$ref:"#/definitions/meta"}}},_attr:{type:"object",title:"_attr schema.",description:"Filesystem specific data, eg security, possibly more later.",properties:{_mode:{type:"integer",title:"_mode schema.",description:"Unix style permissions, often written in `owner:group:other` form, `-rw-r--r--`","default":644},_owner:{type:"string",title:"_owner schema.",description:"The owner of this resource.","default":"self"},_group:{type:"string",title:"_group schema.",description:"The group owning this resource.","default":"self"}}},meta:{type:"object",title:"Meta schema.",description:"Provides meta data to enable alarm and display configuration.",properties:{displayName:{type:"string",title:"DisplayName schema.",description:"A display name for this value.",example:"Tachometer, Engine 1"},longName:{type:"string",title:"LongName schema.",description:"A long name for this value.",example:"Tachometer, Engine 1"},shortName:{type:"string",title:"ShortName schema.",description:"A short name for this value.",example:"RPM"},guageType:{type:"string",title:"guageType schema.",description:"The type of gauge necessary to display this value.",example:"sparkline"},unit:{type:"string",title:"unit schema.",description:"The SI unit of this value.",example:"m/s"},warnMethod:{type:"string",title:"WarnMethod schema.",description:"The method to use to raise the warning.","default":"visual","enum":["visual","sound"]},alarmMethod:{type:"string",title:"AlarmMethod schema.",description:"The method to use to raise the alarm","default":"sound","enum":["visual","sound"]},zones:{type:"array",title:"Zones schema.",description:"The zones defining the range of values for this signalk value.",items:[{type:"array",title:"zone",description:"A zone used to define the display and alarm state when the value is in between bottom and top.",items:[{id:"bottom",type:"number",title:"Bottom",description:"The lowest number in this zone",name:"bottom",example:3500},{id:"top",type:"number",title:"top",description:"The highest value in this zone",name:"1",example:4e3},{id:"alarmState",type:"string",title:"alarmState",description:"The alarm state when the value is in this zone.",name:"alarmState","default":"normal","enum":["normal","warn","alarm"]},{id:"message",type:"string",title:"message",description:"The message to display for the alarm.","default":"Warning"}]}]}}}}}},function(e,t){e.exports={type:"object",$schema:"http://json-schema.org/draft-03/schema",id:"https://signalk.github.io/specification/schemas/vessel.json#",description:"An object describing an individual vessel. It should be an object in vessels, named using MMSI or a UUID",title:"vessel",properties:{mmsi:{description:"MMSI number of the vessel, if available.",$ref:"definitions.json#/definitions/mmsi"},uuid:{description:"A unique ID in UUID v4 format if a MMSI isn't available.",
$ref:"definitions.json#/definitions/uuid"},name:{type:"string",description:"The common name of the vessel"},communication:{description:"Communication data",$ref:"groups/communication.json#"},environment:{description:"Environmental data",$ref:"groups/environment.json#"},navigation:{description:"Navigation data",$ref:"groups/navigation.json#"},propulsion:{type:"object",id:"https://signalk.github.io/specification/schemas/groups/propulsion.json#",title:"propulsion",description:"Engine data",required:!1,patternProperties:{"(^[A-Za-z0-9]+$)":{description:"This regex pattern is used for validation UUID identifier for the tank",$ref:"groups/propulsion.json#"}}},electrical:{type:"object",description:"Electrical data",properties:{ac:{description:"AC electrical data",$ref:"groups/electrical_ac.json#"}}},alarms:{type:"object",id:"https://signalk.github.io/specification/schemas/groups/alarms.json#",title:"alarms",description:"Alarms currently raised",required:!1,patternProperties:{"(^[A-Za-z0-9]+$)":{description:"This regex pattern is used for validation of the path of the alarm",$ref:"groups/alarms.json#"}}},steering:{description:"Vessel steering data",$ref:"groups/steering.json#"},tanks:{type:"object",id:"https://signalk.github.io/specification/schemas/groups/tanks.json#",title:"tanks",description:"Tanks on this vessel",required:!1,patternProperties:{"(^[A-Za-z0-9]+$)":{description:"This regex pattern is used for validation UUID identifier for the tank",$ref:"groups/tanks.json#"}}},design:{description:"Design data of this vessel",$ref:"groups/design.json#"},sensors:{type:"object",id:"https://signalk.github.io/specification/schemas/groups/sensors.json#",title:"sensors",description:"Sensors, their state, and data.",required:!1,patternProperties:{"(^[A-Za-z0-9]+$)":{description:"This regex pattern is used for validation UUID identifier for the sensor",$ref:"groups/sensors.json#"}}},performance:{description:"Performance data",$ref:"groups/performance.json#"}}}},function(e,t){function n(e){return e.ownerDocument.defaultView.getComputedStyle(e,null)}function r(e){if(window.jQuery)return window.jQuery(e).offset();var t=document.documentElement,n={top:0,left:0};return"undefined"!=typeof e.getBoundingClientRect&&(n=e.getBoundingClientRect()),{top:n.top+window.pageYOffset-t.clientTop,left:n.left+window.pageXOffset-t.clientLeft}}function i(e,t){if(window.jQuery)return window.jQuery(e).position();var i,o={top:0,left:0};return"fixed"===n(e).position?i=e.getBoundingClientRect():(t||(t=t(e)),i=r(e),"HTML"!==t.nodeName&&(o=r(t)),o.top+=parseInt(n(t).borderTopWidth,10),o.left+=parseInt(n(t).borderLeftWidth,10)),{top:i.top-o.top-parseInt(n(e).marginTop,10),left:i.left-o.left-parseInt(n(e).marginLeft,10)}}function o(e){for(var t=document.documentElement,r=e.offsetParent||t;r&&"HTML"!==r.nodeName&&"static"===n(r).position;)r=r.offsetParent;return r||t}e.exports={getComputedStyles:n,getOffset:r,getPosition:i,offsetParent:o}},function(e,t,n){"use strict";var r=n(116),i=e.exports={bottom:function(e){for(var t,n=0,r=0,i=e.length;i>r;r++)t=e[r].y+e[r].h,t>n&&(n=t);return n},collides:function(e,t){return e===t?!1:e.x+e.w<=t.x?!1:e.x>=t.x+t.w?!1:e.y+e.h<=t.y?!1:e.y>=t.y+t.h?!1:!0},compact:function(e){for(var t=i.getStatics(e),n=[],r=i.sortLayoutItemsByRowCol(e),o=0,s=r.length;s>o;o++){var a=r[o];a["static"]||(a=i.compactItem(t,a),t.push(a)),n[e.indexOf(a)]=a,delete a.moved}return n},compactItem:function(e,t){for(;t.y>0&&!i.getFirstCollision(e,t);)t.y--;for(var n;n=i.getFirstCollision(e,t);)t.y=n.y+n.h;return t},correctBounds:function(e,t){for(var n=i.getStatics(e),r=0,o=e.length;o>r;r++){var s=e[r];if(s.x+s.w>t.cols&&(s.x=t.cols-s.w),s.x<0&&(s.x=0,s.w=t.cols),s["static"])for(;i.getFirstCollision(n,s);)s.y++;else n.push(s)}return e},getLayoutItem:function(e,t){t=""+t;for(var n=0,r=e.length;r>n;n++)if(""+e[n].i===t)return e[n]},getFirstCollision:function(e,t){for(var n=0,r=e.length;r>n;n++)if(i.collides(e[n],t))return e[n]},getAllCollisions:function(e,t){for(var n=[],r=0,o=e.length;o>r;r++)i.collides(e[r],t)&&n.push(e[r]);return n},getStatics:function(e){for(var t=[],n=0,r=e.length;r>n;n++)e[n]["static"]&&t.push(e[n]);return t},moveElement:function(e,t,n,r,o){if(t["static"])return e;if(t.y===r&&t.x===n)return e;var s=t.y>r;void 0!==n&&(t.x=n),void 0!==r&&(t.y=r),t.moved=!0;var a=i.sortLayoutItemsByRowCol(e);s&&(a=a.reverse());for(var u=i.getAllCollisions(a,t),l=0,c=u.length;c>l;l++){var p=u[l];p.moved||t.y>p.y&&t.y-p.y>p.h/4||(e=p["static"]?i.moveElementAwayFromCollision(e,p,t,o):i.moveElementAwayFromCollision(e,t,p,o))}return e},moveElementAwayFromCollision:function(e,t,n,r){if(r){var o={x:n.x,y:n.y,w:n.w,h:n.h};if(o.y=Math.max(t.y-n.h,0),!i.getFirstCollision(e,o))return i.moveElement(e,n,void 0,o.y)}return i.moveElement(e,n,void 0,n.y+1)},perc:function(e){return 100*e+"%"},setTransform:function(e,t){var n=(""+t[0]).replace(/(\d)$/,"$1px"),r=(""+t[1]).replace(/(\d)$/,"$1px");return e.transform="translate("+n+","+r+")",e.WebkitTransform="translate("+n+","+r+")",e.MozTransform="translate("+n+","+r+")",e.msTransform="translate("+n+","+r+")",e.OTransform="translate("+n+","+r+")",e},sortLayoutItemsByRowCol:function(e){return[].concat(e).sort(function(e,t){return e.y>t.y||e.y===t.y&&e.x>t.x?1:-1})},synchronizeLayoutWithChildren:function(e,t,n){t=[].concat(t),e=e||[];for(var o=[],s=0,a=t.length;a>s;s++){var u=t[s],l=i.getLayoutItem(e,u.key);if(l)l.i=""+l.i,o.push(l);else{var c=u.props._grid;c?(i.validateLayout([c],"ReactGridLayout.child"),o.push(r({},c,{y:Math.min(i.bottom(o),c.y),i:u.key}))):o.push({w:1,h:1,x:0,y:i.bottom(o),i:u.key})}}return o=i.correctBounds(o,{cols:n}),o=i.compact(o)},validateLayout:function(e,t){t=t||"Layout";var n=["x","y","w","h"];if(!Array.isArray(e))throw new Error(t+" must be an array!");for(var r=0,i=e.length;i>r;r++){for(var o=0;o<n.length;o++)if("number"!=typeof e[r][n[o]])throw new Error("ReactGridLayout: "+t+"["+r+"]."+n[o]+" must be a Number!");if(void 0!==e[r]["static"]&&"boolean"!=typeof e[r]["static"])throw new Error("ReactGridLayout: "+t+"["+r+"].static must be a Boolean!")}}}},,function(e,t,n){"use strict";var r=n(146),i={shouldComponentUpdate:function(e,t){return!r(this.props,e)||!r(this.state,t)}};e.exports=i},,,,function(e,t,n){(function(t){"use strict";function r(e,n){"production"!==t.env.NODE_ENV&&("production"!==t.env.NODE_ENV?a(!e.ref,"You are calling cloneWithProps() on a child with a ref. This is dangerous because you're creating a new child which will not be added as a ref to its parent."):null);var r=o.mergeProps(n,e.props);return!r.hasOwnProperty(u)&&e.props.hasOwnProperty(u)&&(r.children=e.props.children),i.createElement(e.type,r)}var i=n(8),o=n(128),s=n(17),a=n(9),u=s({children:null});e.exports=r}).call(t,n(2))},,,function(e,t,n){"use strict";function r(e,t,n,r){o.call(this,e,t,n,r),this.options=t,this.widget=i.createElement(this.createClass(this.displayValue,this.render),{key:e,unit:this.getUnitForPath(t.path)||"",value:n.getStream(t.path),label:this.getLabelForPath(t.path)})}var i=n(1),o=n(40);n(39).inherits(r,o),r.prototype.createClass=function(e,t){return i.createClass({mixins:[n(155)],displayValue:e,render:t})},r.prototype.render=function(){return i.createElement("svg",{height:"100%",width:"100%",viewBox:"0 0 20 40"},i.createElement("text",{x:"10",y:"8",textAnchor:"middle",fontSize:"5","dominant-baseline":"middle"},this.state.label),i.createElement("g",{transform:"translate(10, 0)"},i.createElement("text",{textAnchor:"middle",y:"32",fontSize:"26","dominant-baseline":"middle"},this.state.value),i.createElement("text",{textAnchor:"end",x:"40",y:"32",fontSize:"8","dominant-baselie":"middle"},this.state.unit)))},r.prototype.displayValue=function(e){if("number"==typeof e){var t=Math.abs(e);return t>=50?e.toFixed(0):t>=10?e.toFixed(1):e.toFixed(2)}return e},r.prototype.getReactElement=function(){return this.widget},r.prototype.getType=function(){return"digital"},r.prototype.getOptions=function(){return this.options},r.prototype.getHandledPaths=function(){return[this.options.path]},e.exports={constructor:r,type:"digital",paths:[]}},,function(e,t){e.exports={type:"object",$schema:"http://json-schema.org/draft-03/schema",id:"https://signalk.github.io/specification/schemas/delta.json#",title:"SignalK Delta message schema",description:"Schema for defining updates to parts of a SignalK data model, for example for communicating updates of data",properties:{context:{type:"string",description:"The context path of the updates, eg. the path from the root of the SignalK data model where the paths in the updates section start.",required:!0},updates:{type:"array",description:"The updates",items:{type:"object",properties:{source:{$ref:"./definitions.json#/definitions/source"},timestamp:{$ref:"./definitions.json#/definitions/timestamp"},values:{type:"array",items:{type:"object",properties:{path:{type:"string",required:!0},value:{type:["string","number","object","boolean","null"],required:!0,additionalProperties:!0}}}}}}}}}},function(e,t){e.exports={type:"object",$schema:"http://json-schema.org/draft-03/schema",id:"https://signalk.github.io/specification/schemas/groups/environmental.json#",description:"Schema describing the environmental child-object of a Vessel.",title:"environment",properties:{airPressureChangeRateAlarm:{description:"Change per hour which will cause an alarm in kPa",$ref:"../definitions.json#/definitions/numberValue"},airPressure:{description:"Current air pressure in kPa",$ref:"../definitions.json#/definitions/numberValue"},airTemp:{description:"Current air temperature in degrees Centigrade",$ref:"../definitions.json#/definitions/numberValue"},depth:{title:"depth",type:"object",description:"Depth related data",properties:{belowKeel:{description:"Depth below keel in meters",$ref:"../definitions.json#/definitions/numberValue"},belowTransducer:{description:"Depth below Transducer in meters",$ref:"../definitions.json#/definitions/numberValue"},belowSurface:{description:"Depth from surface in meters",$ref:"../definitions.json#/definitions/numberValue"},transducerToKeel:{description:"Depth in meters from the transducer to the bottom of the keel.",$ref:"../definitions.json#/definitions/numberValue"},surfaceToTransducer:{description:"Depth transducer is below the water in meters",$ref:"../definitions.json#/definitions/numberValue"}}},humidity:{description:"Current relative humidity as percentage",$ref:"../definitions.json#/definitions/numberValue"},salinity:{description:"Water salinity",$ref:"../definitions.json#/definitions/numberValue"},tide:{type:"object",title:"tide",description:"Tide data",properties:{heightHigh:{description:"Next high tide in meters",$ref:"../definitions.json#/definitions/numberValue"},heightNow:{description:"The current tide height in meters",$ref:"../definitions.json#/definitions/numberValue"},heightLow:{description:"The next low tide height in meters",$ref:"../definitions.json#/definitions/numberValue"},timeLow:{description:"Time of the next low tide in UTC",$ref:"../definitions.json#/definitions/stringValue"},timeHigh:{description:"Time of next high tide in UTC",$ref:"../definitions.json#/definitions/stringValue"}}},waterTemp:{description:"Current water temperature in degrees Centigrade",$ref:"../definitions.json#/definitions/numberValue"},wind:{type:"object",title:"wind",description:"Wind data.",properties:{angleApparent:{description:"Apparent wind angle, -180 to +180 degrees from the bow. Negative numbers to port.",$ref:"../definitions.json#/definitions/numberValue"},angleTrue:{description:"'True' wind angle, -180 to +180 degrees from the bow. Negative numbers to port.",$ref:"../definitions.json#/definitions/numberValue"},directionChangeAlarm:{description:"The number of degrees the wind needs to shift to raise an alarm",$ref:"../definitions.json#/definitions/numberValue"},directionTrue:{description:"The wind direction relative to true north, in compass degrees, 0 = North",$ref:"../definitions.json#/definitions/numberValue"},directionMagnetic:{description:"The wind direction relative to magnetic north, in compass degrees, 0 = North",$ref:"../definitions.json#/definitions/numberValue"},speedAlarm:{description:"The speed in m/s above which a wind alarm will be raised",$ref:"../definitions.json#/definitions/numberValue"},speedTrue:{description:"Wind speed over water in m/s (as calculated from speedApparent and vessel's speed through water)",$ref:"../definitions.json#/definitions/numberValue"},speedOverGround:{description:"Wind speed over ground in m/s (as calculated from speedApparent and vessel's speed over ground)",$ref:"../definitions.json#/definitions/numberValue"},speedApparent:{description:"Apparent wind speed in m/s",$ref:"../definitions.json#/definitions/numberValue"}}}}}},function(e,t){e.exports={type:"object",$schema:"http://json-schema.org/draft-03/schema",id:"https://signalk.github.io/specification/schemas/groups/navigation.json#",description:"Schema describing the navigation child-object of a Vessel.",title:"navigation",properties:{courseOverGroundMagnetic:{description:"",$ref:"../definitions.json#/definitions/numberValue"},courseOverGroundTrue:{description:"",$ref:"../definitions.json#/definitions/numberValue"},activeRoute:{type:"object",title:"Active Route",description:"The currently active route",properties:{timestamp:{$ref:"../definitions.json#/definitions/timestamp",description:"Time of last update to active route"},source:{$ref:"../definitions.json#/definitions/source",description:"Source of last update to active route"},bearingActual:{type:"number",description:"The current bearing of the next waypoint in degrees true"},distanceActual:{type:"number",description:"The current distance to the next waypoint in meters"},bearingDirect:{type:"number",description:"The bearing in degrees true from last waypoint to the next waypoint"},courseRequired:{type:"number",description:"The course required to make the next waypoint in degrees true"},eta:{$ref:"../definitions.json#/definitions/timestamp",description:"The estimated time of arrival at the end of the current route"},route:{type:"string",description:"A pointer to the current route, found in the routes list"},startTime:{$ref:"../definitions.json#/definitions/timestamp",description:"The time this route was activated in UTC"},waypoint:{type:"object",title:"waypoint",description:"The last and next waypoints data",properties:{lastTime:{$ref:"../definitions.json#/definitions/timestamp",description:"The time the last waypoint was reached in UTC"},last:{type:"string",description:"The last waypoint, a pointer to the list of waypoints"},nextEta:{$ref:"../definitions.json#/definitions/timestamp",description:"Estimated time of arrival at the next waypoint",example:"2014-03-24T00:15:41Z"},next:{type:"string",description:"A pointer to the next waypoint, found in the waypoints list"},xte:{type:"number",description:"Cross track error in meters"}}}}},magneticVariation:{$ref:"../definitions.json#/definitions/numberValue",description:"The magnetic variation (declination) at the current position"},destination:{title:"destination",description:"The intended destination of this trip",type:"object",properties:{eta:{$ref:"../definitions.json#/definitions/timestamp"},source:{description:"Source of this data",$ref:"../definitions.json#/definitions/source"},timestamp:{description:"timestamp of the last update to this data",$ref:"../definitions.json#/definitions/timestamp"},longitude:{type:"number",description:"Longitude of the destination in decimal degrees",example:4.98765245},latitude:{type:"number",description:"Latitude of the destination in decimal degrees",example:52.0987654},altitude:{type:"number",description:"Altitude of the destination in meters"}}},current:{type:"object",title:"current",description:"Direction and strength of current affecting the vessel",properties:{timestamp:{$ref:"../defintions.json#/definitions/timestamp"},source:{$ref:"../definitions.json#/definitions/source"},drift:{type:"number",description:"The speed component of the water current vector in m/s",example:3.12},setTrue:{type:"number",description:"The direction component of the water current vector in decimal degrees referenced to true (geographic) north",example:123.45},setMagnetic:{type:"number",description:"The direction component of the water current vector in decimal degrees referenced to magnetic north",example:131.22}}},gnss:{type:"object",title:"gnss",description:"Global satellite navigation meta information",properties:{source:{description:"Source of this data",$ref:"../definitions.json#/definitions/source"},timestamp:{description:"timestamp of the last update to this data",$ref:"../definitions.json#/definitions/timestamp"},quality:{$ref:"../definitions.json#/definitions/numberValue",description:"Quality of the satellite fix"},satellites:{$ref:"../definitions.json#/definitions/numberValue",description:"Number of satellites"},antennaAltitude:{$ref:"../definitions.json#/definitions/numberValue",description:"Altitude of antenna in meters"},horizontalDilution:{$ref:"../definitions.json#/definitions/numberValue",description:"Horizontal position error"},geoidalSeparation:{$ref:"../definitions.json#/definitions/numberValue",description:"Difference between WGS84 earth ellipsoid and mean sea level"},differentialAge:{$ref:"../definitions.json#/definitions/numberValue",description:"Age of DGPS data in seconds"},differentialReference:{$ref:"../definitions.json#/definitions/numberValue",description:"ID of DGPS base station"}}},headingMagnetic:{$ref:"../definitions.json#/definitions/numberValue",description:"Current magnetic heading of the vessels in degrees"},headingTrue:{$ref:"../definitions.json#/definitions/numberValue",description:"The current true heading of the vessel in degrees"},position:{type:"object",title:"position",description:"The position of the vessel in 3 dimensions",properties:{source:{description:"Source of this data",$ref:"../definitions.json#/definitions/source"},timestamp:{description:"timestamp of the last update to this data",$ref:"../definitions.json#/definitions/timestamp"},longitude:{type:"number",description:"Longitude of boat in decimal degrees",example:4.98765245},latitude:{type:"number",description:"Latitude of boat in decimal degrees",example:52.0987654},altitude:{type:"number",description:"Altitude of boat in meters"}}},attitude:{type:"object",title:"Attitude",description:"Vessel attitude: roll, pitch and yaw",properties:{roll:{type:"number",description:"Vessel roll in degrees looking to the bow, level = 0, clockwise is +ve"},pitch:{type:"number",description:"Pitch in degrees, 0 is horizontal, +ve is bow up"},yaw:{type:"number",description:"Yaw in degrees"},source:{description:"Source of this data",$ref:"../definitions.json#/definitions/source"},timestamp:{description:"timestamp of the last update to this data",$ref:"../definitions.json#/definitions/timestamp"}}},rateOfTurn:{$ref:"../definitions.json#/definitions/numberValue",description:"Rate of turn in degrees per second"},roll:{$ref:"../definitions.json#/definitions/numberValue",description:"Vessel roll in degrees looking to the bow, level = 0, clockwise is +ve"},set:{$ref:"../definitions.json#/definitions/numberValue",description:"Tidal set in m/s"},speedOverGround:{$ref:"../definitions.json#/definitions/numberValue",description:"Vessel speed over ground, in m/s"},speedThroughWater:{$ref:"../definitions.json#/definitions/numberValue",description:"Vessel speed through the water in m/s"},log:{$ref:"../definitions.json#/definitions/numberValue",description:"Log value in meters"},logTrip:{$ref:"../definitions.json#/definitions/numberValue",description:"Trip log value in meters"},state:{type:"object",title:"state",description:"Current navigational state of the vessel",properties:{source:{description:"Source of this data",$ref:"../definitions.json#/definitions/source"},timestamp:{description:"timestamp of the last update to this data",$ref:"../definitions.json#/definitions/timestamp"},value:{type:"string","enum":["under way using engine","at anchor","not under command","restricted maneuverability","constrained by her draught","moored","aground","engaged in fishing","under way sailing","not defined (example)"]}}},anchor:{type:"object",title:"anchor",description:"The anchor data, for anchor watch etc",properties:{source:{description:"Source of this data",$ref:"../definitions.json#/definitions/source"},timestamp:{description:"timestamp of the last update to this data",$ref:"../definitions.json#/definitions/timestamp"},maxRadius:{$ref:"../definitions.json#/definitions/numberValue",description:"Radius of anchor alarm boundary in meters. The distance from anchor to the center of the boat"},currentRadius:{$ref:"../definitions.json#/definitions/numberValue",description:"Current distance to anchor in meters"},position:{type:"object",title:"position",description:"The actual anchor position of the vessel in 3 dimensions, probably an estimate at best",properties:{source:{description:"Source of this data",$ref:"../definitions.json#/definitions/source"},timestamp:{description:"timestamp of the last update to this data",$ref:"../definitions.json#/definitions/timestamp"},longitude:{type:"number",description:"Longitude of the anchor in decimal degrees",example:4.98765245},latitude:{type:"number",description:"Latitude of the anchor in decimal degrees",example:52.0987654},altitude:{type:"number",description:"Altitude of the anchor in meters"}}}}}}}},function(e,t){e.exports={type:"object",$schema:"http://json-schema.org/draft-03/schema",id:"https://signalk.github.io/specification/schemas/groups/propulsion.json#",title:"propulsion",description:"An engine, named by a unique name within this vessel",properties:{engineType:{type:"string",description:"The type of engine","enum":["diesel inboard","petrol inboard","petrol outboard","electric"]},state:{type:"string",description:"The current state of the engine","enum":["stopped","started","unusable"]},rpm:{description:"Engine rpm",$ref:"../definitions.json#/definitions/numberValue"},engineTemperature:{description:"Engine temperature in degrees C",$ref:"../definitions.json#/definitions/numberValue"},oilTemperature:{description:"Oil temperature in degrees C",$ref:"../definitions.json#/definitions/numberValue"},oilPressure:{description:"Oil pressure in kPa",$ref:"../definitions.json#/definitions/numberValue"},waterTemp:{description:"Water temperature in degrees C",$ref:"../definitions.json#/definitions/numberValue"},exhaustTemp:{description:"Exhaust temperature in degrees C",$ref:"../definitions.json#/definitions/numberValue"},fuelUsageRate:{description:"Fuel usage in liters/hour",$ref:"../definitions.json#/definitions/numberValue"}}}},function(e,t){e.exports={type:"object",$schema:"http://json-schema.org/draft-03/schema",id:"https://signalk.github.io/specification/schemas/groups/resources.json#",title:"resources",description:"Resources to aid in navigation and operation of the vessel",properties:{charts:{type:"object",title:"chart",description:"A holder for charts, each named with their chart code",patternProperties:{"(^[2-7][0-9]{8,8}$|^[A-F0-9]{8,8}$)":{type:"object",description:"A chart",properties:{name:{type:"string",description:"Chart common name"},identifier:{type:"string",description:"Chart number"},description:{type:"string",description:"A description of the chart"},tilemapUrl:{type:"string",description:"A url to the tilemap of the chart for use in TMS chartplotting apps"},chartUrl:{type:"string",description:"A url to the chart file's storage location"},chartFormat:{type:"string",description:"The format of the chart","enum":["gif","geotiff","kap","png","jpg","kml","wkt","topojson","geojson","gpx"]},timestamp:{description:"timestamp of the last update to this data",$ref:"../definitions.json#/definitions/timestamp"},source:{description:"Source of this data",$ref:"../definitions.json#/definitions/source"}}}}},routes:{type:"object",title:"route",description:"A holder for routes, each named with a UUID",patternProperties:{"(^[2-7][0-9]{8,8}$|^[A-F0-9]{8,8}$)":{type:"object",description:"A route, named with a UUID",properties:{name:{type:"string",description:"Route's common name"},description:{type:"string",description:"A description of the route"},distance:{description:"Total distance from start to end",$ref:"../definitions.json#/definitions/numberValue"},waypoints:{type:"array",items:{type:"string",description:"Pointers to waypoint UUIDs"}},timestamp:{description:"timestamp of the last update to this data",$ref:"../definitions.json#/definitions/timestamp"},source:{description:"Source of this data",$ref:"../definitions.json#/definitions/source"}}}}},notes:{type:"object",title:"notes",description:"A holder for notes about regions, each named with a UUID. Notes might include navigation or cruising info, images, or anything",patternProperties:{"(^[2-7][0-9]{8,8}$|^[A-F0-9]{8,8}$)":{type:"object",description:"A note about a region, named with a UUID. Notes might include navigation or cruising info, images, or anything",properties:{title:{type:"string",description:"Note's common name"},description:{type:"string",description:"A textual description of the note"},region:{type:"string",description:"Pointer to region UUID"},mimeType:{type:"string",description:"MIME type of the note"},url:{type:"string",description:"Location of the note"},timestamp:{description:"timestamp of the last update to this data",$ref:"../definitions.json#/definitions/timestamp"},source:{description:"Source of this data",$ref:"../definitions.json#/definitions/source"}}}}},regions:{type:"object",title:"region",description:"A holder for regions, each named with a UUID",patternProperties:{"(^[2-7][0-9]{8,8}$|^[A-F0-9]{8,8}$)":{type:"object",description:"A region of interest, named with a UUID",properties:{name:{type:"string",description:"Region's common name"},description:{type:"string",description:"A description of the region"},waypoints:{type:"array",description:"The set of waypoints that define the edges of the region",items:{type:"string",description:"Pointer to waypoint UUID"}},timestamp:{description:"timestamp of the last update to this data",$ref:"../definitions.json#/definitions/timestamp"},source:{description:"Source of this data",$ref:"../definitions.json#/definitions/source"}}}}},waypoints:{type:"object",title:"waypoint",description:"A holder for waypoints, each named with a UUID",patternProperties:{"(^[2-7][0-9]{8,8}$|^[A-F0-9]{8,8}$)":{type:"object",description:"A waypoint, named with a UUID",properties:{name:{type:"string",description:"Waypoint's common name"},position:{type:"object",description:"The position of the waypoint in 3 dimensions",properties:{source:{description:"Source of this data",$ref:"../definitions.json#/definitions/source"},timestamp:{description:"timestamp of the last update to this data",$ref:"../definitions.json#/definitions/timestamp"},longitude:{type:"number",description:"In decimal notation (4.98765245)"},latitude:{type:"number",description:"In decimal notation (52.0987654)"},altitude:{type:"number",description:"In meters"}}},description:{type:"string",description:"A description of the waypoint"},type:{type:"string",description:"The type of waypoint","enum":["location","fish","hazard","anchorage","mark"]}}}}}}}},function(e,t){e.exports={type:"object",$schema:"http://json-schema.org/draft-03/schema",id:"https://signalk.github.io/specification/schemas/groups/sensors.json#",description:"An object describing an individual sensor. It should be an object in vessel, named using a unique name or UUID",title:"sensor",properties:{name:{type:"string",description:"The common name of the sensor"},sensorType:{type:"string",description:"The datamodel definition of the sensor data. FIXME - need to create a definitions lib of sensor datamodel types"},sensorData:{type:"string",description:"The data of the sensor data. FIXME - need to ref the definitions of sensor types"},fromBow:{$ref:"../definitions.json#/definitions/numberValue",description:"The distance in meters from the bow to the sensor location"},fromCenter:{$ref:"../definitions.json#/definitions/numberValue",description:"The distance in meters from the centerline to the sensor location, -ve to starboard, +ve to port"}}}},function(e,t){e.exports={type:"object",$schema:"http://json-schema.org/draft-03/schema",id:"https://signalk.github.io/specification/schemas/groups/steering.json#",description:"Schema describing the steering child-object of a vessel.",title:"steering",properties:{rudderAngle:{description:"Current rudder angle, 0 is amidships, +ve is rudder to Starboard",$ref:"../definitions.json#/definitions/numberValue"},rudderAngleTarget:{description:"The offset the rudder should move to, in degrees, 0 is amidships, +ve is rudder to Starboard",$ref:"../definitions.json#/definitions/numberValue"},autopilot:{type:"object",title:"autopilot",description:"Autopilot data",properties:{state:{type:"string",description:"Autopilot state","enum":["on","off","alarm"],source:{description:"Source of this data",$ref:"../definitions.json#/definitions/source"},timestamp:{description:"timestamp of the last update to this data",$ref:"../definitions.json#/definitions/timestamp"}},mode:{type:"string",description:"Operational mode","enum":["powersave","normal","accurate"],source:{description:"Source of this data",$ref:"../definitions.json#/definitions/source"},timestamp:{description:"timestamp of the last update to this data",$ref:"../definitions.json#/definitions/timestamp"}},targetHeadingNorth:{description:"Target heading for autopilot in degrees true",$ref:"../definitions.json#/definitions/numberValue"},targetHeadingMagnetic:{description:"Target heading for autopilot in magnetic degrees",$ref:"../definitions.json#/definitions/numberValue"},headingSource:{type:"string",description:"Current source of heading information","enum":["compass","wind","gps"],source:{description:"Source of this data",$ref:"../definitions.json#/definitions/source"},timestamp:{description:"timestamp of the last update to this data",$ref:"../definitions.json#/definitions/timestamp"}},deadZone:{description:"Dead zone to ignore for rudder corrections (in degrees)",$ref:"../definitions.json#/definitions/numberValue"},backlash:{description:"Slack in the rudder drive mechanism in degrees",$ref:"../definitions.json#/definitions/numberValue"},gain:{description:"Autohelm gain, higher number equals more rudder movement for a given turn",$ref:"../definitions.json#/definitions/numberValue"},maxDriveAmps:{description:"Maximum amperage to use to drive servo",$ref:"../definitions.json#/definitions/numberValue"},maxDriveRate:{description:"Maximum degrees/sec to turn the rudder",$ref:"../definitions.json#/definitions/numberValue"},portLock:{description:"Position of servo on port lock",$ref:"../definitions.json#/definitions/numberValue"},starboardLock:{description:"Position of servo on starboard lock",$ref:"../definitions.json#/definitions/numberValue"}}}}}},function(e,t){e.exports={type:"object",$schema:"http://json-schema.org/draft-03/schema",id:"https://signalk.github.io/specification/schemas/groups/tanks.json#",description:"a tank, named by a unique name within this vessel",title:"tank",properties:{tankType:{type:"string",description:"The type of waypoint","enum":["petrol","water","holding","lpg","diesil","rum"]},capacity:{description:"total tank capacity in liters",$ref:"../definitions.json#/definitions/numberValue"},level:{description:"current tank contents in liters",$ref:"../definitions.json#/definitions/numberValue"}}}},function(e,t){e.exports={type:"object",$schema:"http://json-schema.org/draft-03/schema",id:"https://signalk.github.io/specification/schemas/signalk.json#",title:"SignalK",description:"Root schema of Signal K. Contains the list of vessels plus a reference to the local boat (also contained in the vessels list).",properties:{self:{type:"string",description:"This holds the key (MMSI or other unique ID) of this vessel, the actual data is in the vessels array.",
required:!0},vessels:{type:"object",required:!0,description:"A wrapper object for vessel objects, each describing vessels in range, including this vessel.",patternProperties:{"(^[2-7][0-9]{8,8}$|^[A-F0-9]{8,8}$)":{description:"This regex pattern is used for validation of an MMSI or UUID identifier for the vessel",$ref:"vessel.json#"}}},resources:{description:"resources to aid in navigation and operation of the vessel",$ref:"groups/resources.json#"},version:{$ref:"definitions.json#/definitions/version"}}}},function(e,t,n){var r;(function(e,i){(function(){function o(e,t,n){for(var r=(n||0)-1,i=e?e.length:0;++r<i;)if(e[r]===t)return r;return-1}function s(e,t){var n=typeof t;if(e=e.cache,"boolean"==n||null==t)return e[t]?0:-1;"number"!=n&&"string"!=n&&(n="object");var r="number"==n?t:N+t;return e=(e=e[n])&&e[r],"object"==n?e&&o(e,t)>-1?0:-1:e?0:-1}function a(e){var t=this.cache,n=typeof e;if("boolean"==n||null==e)t[e]=!0;else{"number"!=n&&"string"!=n&&(n="object");var r="number"==n?e:N+e,i=t[n]||(t[n]={});"object"==n?(i[r]||(i[r]=[])).push(e):i[r]=!0}}function u(e){return e.charCodeAt(0)}function l(e,t){for(var n=e.criteria,r=t.criteria,i=-1,o=n.length;++i<o;){var s=n[i],a=r[i];if(s!==a){if(s>a||"undefined"==typeof s)return 1;if(a>s||"undefined"==typeof a)return-1}}return e.index-t.index}function c(e){var t=-1,n=e.length,r=e[0],i=e[n/2|0],o=e[n-1];if(r&&"object"==typeof r&&i&&"object"==typeof i&&o&&"object"==typeof o)return!1;var s=f();s["false"]=s["null"]=s["true"]=s.undefined=!1;var u=f();for(u.array=e,u.cache=s,u.push=a;++t<n;)u.push(e[t]);return u}function p(e){return"\\"+ie[e]}function h(){return _.pop()||[]}function f(){return w.pop()||{array:null,cache:null,criteria:null,"false":!1,index:0,"null":!1,number:null,object:null,push:null,string:null,"true":!1,undefined:!1,value:null}}function d(e){return"function"!=typeof e.toString&&"string"==typeof(e+"")}function m(e){e.length=0,_.length<M&&_.push(e)}function g(e){var t=e.cache;t&&g(t),e.array=e.cache=e.criteria=e.object=e.number=e.string=e.value=null,w.length<M&&w.push(e)}function v(e,t,n){t||(t=0),"undefined"==typeof n&&(n=e?e.length:0);for(var r=-1,i=n-t||0,o=Array(0>i?0:i);++r<i;)o[r]=e[t+r];return o}function y(e){function t(e){return e&&"object"==typeof e&&!pr(e)&&Wn.call(e,"__wrapped__")?e:new n(e)}function n(e,t){this.__chain__=!!t,this.__wrapped__=e}function r(e){function t(){if(r){var e=v(r);$n.apply(e,arguments)}if(this instanceof t){var o=a(n.prototype),s=n.apply(o,e||arguments);return Le(s)?s:o}return n.apply(i,e||arguments)}var n=e[0],r=e[2],i=e[4];return cr(t,e),t}function i(e,t,n,r,o){if(n){var s=n(e);if("undefined"!=typeof s)return s}var a=Le(e);if(!a)return e;var u=Ln.call(e);if(!Z[u]||!ur.nodeClass&&d(e))return e;var l=sr[u];switch(u){case $:case q:return new l(+e);case Y:case Q:return new l(e);case J:return s=l(e.source,A.exec(e)),s.lastIndex=e.lastIndex,s}var c=pr(e);if(t){var p=!r;r||(r=h()),o||(o=h());for(var f=r.length;f--;)if(r[f]==e)return o[f];s=c?l(e.length):{}}else s=c?v(e):Er({},e);return c&&(Wn.call(e,"index")&&(s.index=e.index),Wn.call(e,"input")&&(s.input=e.input)),t?(r.push(e),o.push(s),(c?wr:Cr)(e,function(e,a){s[a]=i(e,t,n,r,o)}),p&&(m(r),m(o)),s):s}function a(e,t){return Le(e)?Jn(e):{}}function _(e,t,n){if("function"!=typeof e)return on;if("undefined"==typeof t||!("prototype"in e))return e;var r=e.__bindData__;if("undefined"==typeof r&&(ur.funcNames&&(r=!e.name),r=r||!ur.funcDecomp,!r)){var i=zn.call(e);ur.funcNames||(r=!j.test(i)),r||(r=V.test(i),cr(e,r))}if(r===!1||r!==!0&&1&r[1])return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)}}return Bt(e,t)}function w(e){function t(){var e=l?s:this;if(i){var d=v(i);$n.apply(d,arguments)}if((o||p)&&(d||(d=v(arguments)),o&&$n.apply(d,o),p&&d.length<u))return r|=16,w([n,h?r:-4&r,d,null,s,u]);if(d||(d=arguments),c&&(n=e[f]),this instanceof t){e=a(n.prototype);var m=n.apply(e,d);return Le(m)?m:e}return n.apply(e,d)}var n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],u=e[5],l=1&r,c=2&r,p=4&r,h=8&r,f=n;return cr(t,e),t}function M(e,t){var n=-1,r=me(),i=e?e.length:0,a=i>=C&&r===o,u=[];if(a){var l=c(t);l?(r=s,t=l):a=!1}for(;++n<i;){var p=e[n];r(t,p)<0&&u.push(p)}return a&&g(t),u}function ie(e,t,n,r){for(var i=(r||0)-1,o=e?e.length:0,s=[];++i<o;){var a=e[i];if(a&&"object"==typeof a&&"number"==typeof a.length&&(pr(a)||be(a))){t||(a=ie(a,t,n));var u=-1,l=a.length,c=s.length;for(s.length+=l;++u<l;)s[c++]=a[u]}else n||s.push(a)}return s}function se(e,t,n,r,i,o){if(n){var s=n(e,t);if("undefined"!=typeof s)return!!s}if(e===t)return 0!==e||1/e==1/t;var a=typeof e,u=typeof t;if(!(e!==e||e&&re[a]||t&&re[u]))return!1;if(null==e||null==t)return e===t;var l=Ln.call(e),c=Ln.call(t);if(l==H&&(l=X),c==H&&(c=X),l!=c)return!1;switch(l){case $:case q:return+e==+t;case Y:return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case J:case Q:return e==Pn(t)}var p=l==W;if(!p){var f=Wn.call(e,"__wrapped__"),g=Wn.call(t,"__wrapped__");if(f||g)return se(f?e.__wrapped__:e,g?t.__wrapped__:t,n,r,i,o);if(l!=X||!ur.nodeClass&&(d(e)||d(t)))return!1;var v=!ur.argsObject&&be(e)?Tn:e.constructor,y=!ur.argsObject&&be(t)?Tn:t.constructor;if(v!=y&&!(Ie(v)&&v instanceof v&&Ie(y)&&y instanceof y)&&"constructor"in e&&"constructor"in t)return!1}var b=!i;i||(i=h()),o||(o=h());for(var _=i.length;_--;)if(i[_]==e)return o[_]==t;var w=0;if(s=!0,i.push(e),o.push(t),p){if(_=e.length,w=t.length,s=w==_,s||r)for(;w--;){var E=_,x=t[w];if(r)for(;E--&&!(s=se(e[E],x,n,r,i,o)););else if(!(s=se(e[w],x,n,r,i,o)))break}}else Nr(t,function(t,a,u){return Wn.call(u,a)?(w++,s=Wn.call(e,a)&&se(e[a],t,n,r,i,o)):void 0}),s&&!r&&Nr(e,function(e,t,n){return Wn.call(n,t)?s=--w>-1:void 0});return i.pop(),o.pop(),b&&(m(i),m(o)),s}function ae(e,t,n,r,i){(pr(t)?rt:Cr)(t,function(t,o){var s,a,u=t,l=e[o];if(t&&((a=pr(t))||Mr(t))){for(var c=r.length;c--;)if(s=r[c]==t){l=i[c];break}if(!s){var p;n&&(u=n(l,t),(p="undefined"!=typeof u)&&(l=u)),p||(l=a?pr(l)?l:[]:Mr(l)?l:{}),r.push(t),i.push(l),p||ae(l,t,n,r,i)}}else n&&(u=n(l,t),"undefined"==typeof u&&(u=t)),"undefined"!=typeof u&&(l=u);e[o]=l})}function ue(e,t){return e+Bn(or()*(t-e+1))}function ce(e,t,n){var r=-1,i=me(),a=e?e.length:0,u=[],l=!t&&a>=C&&i===o,p=n||l?h():u;if(l){var f=c(p);i=s,p=f}for(;++r<a;){var d=e[r],v=n?n(d,r,e):d;(t?!r||p[p.length-1]!==v:i(p,v)<0)&&((n||l)&&p.push(v),u.push(d))}return l?(m(p.array),g(p)):n&&m(p),u}function pe(e){return function(n,r,i){var o={};if(r=t.createCallback(r,i,3),pr(n))for(var s=-1,a=n.length;++s<a;){var u=n[s];e(o,u,r(u,s,n),n)}else wr(n,function(t,n,i){e(o,t,r(t,n,i),i)});return o}}function he(e,t,n,i,o,s){var a=1&t,u=2&t,l=4&t,c=16&t,p=32&t;if(!u&&!Ie(e))throw new kn;c&&!n.length&&(t&=-17,c=n=!1),p&&!i.length&&(t&=-33,p=i=!1);var h=e&&e.__bindData__;if(h&&h!==!0)return h=v(h),h[2]&&(h[2]=v(h[2])),h[3]&&(h[3]=v(h[3])),!a||1&h[1]||(h[4]=o),!a&&1&h[1]&&(t|=8),!l||4&h[1]||(h[5]=s),c&&$n.apply(h[2]||(h[2]=[]),n),p&&Yn.apply(h[3]||(h[3]=[]),i),h[1]|=t,he.apply(null,h);var f=1==t||17===t?r:w;return f([e,t,n,i,o,s])}function fe(){ne.shadowedProps=B,ne.array=ne.bottom=ne.loop=ne.top="",ne.init="iterable",ne.useHas=!0;for(var e,t=0;e=arguments[t];t++)for(var n in e)ne[n]=e[n];var r=ne.args;ne.firstArg=/^[^,]+/.exec(r)[0];var i=Cn("baseCreateCallback, errorClass, errorProto, hasOwnProperty, indicatorObject, isArguments, isArray, isString, keys, objectProto, objectTypes, nonEnumProps, stringClass, stringProto, toString","return function("+r+") {\n"+lr(ne)+"\n}");return i(_,K,An,Wn,x,be,pr,ze,ne.keys,jn,re,ar,Q,Rn,Ln)}function de(e){return vr[e]}function me(){var e=(e=t.indexOf)===Nt?o:e;return e}function ge(e){return"function"==typeof e&&Vn.test(e)}function ve(e){var t,n;return!e||Ln.call(e)!=X||(t=e.constructor,Ie(t)&&!(t instanceof t))||!ur.argsClass&&be(e)||!ur.nodeClass&&d(e)?!1:ur.ownLast?(Nr(e,function(e,t,r){return n=Wn.call(r,t),!1}),n!==!1):(Nr(e,function(e,t){n=t}),"undefined"==typeof n||Wn.call(e,n))}function ye(e){return yr[e]}function be(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Ln.call(e)==H||!1}function _e(e,t,n,r){return"boolean"!=typeof t&&null!=t&&(r=n,n=t,t=!1),i(e,t,"function"==typeof n&&_(n,r,1))}function we(e,t,n){return i(e,!0,"function"==typeof t&&_(t,n,1))}function Ee(e,t){var n=a(e);return t?Er(n,t):n}function xe(e,n,r){var i;return n=t.createCallback(n,r,3),Cr(e,function(e,t,r){return n(e,t,r)?(i=t,!1):void 0}),i}function Ne(e,n,r){var i;return n=t.createCallback(n,r,3),Me(e,function(e,t,r){return n(e,t,r)?(i=t,!1):void 0}),i}function Ce(e,t,n){var r=[];Nr(e,function(e,t){r.push(t,e)});var i=r.length;for(t=_(t,n,3);i--&&t(r[i--],r[i],e)!==!1;);return e}function Me(e,t,n){var r=fr(e),i=r.length;for(t=_(t,n,3);i--;){var o=r[i];if(t(e[o],o,e)===!1)break}return e}function Se(e){var t=[];return Nr(e,function(e,n){Ie(e)&&t.push(n)}),t.sort()}function Te(e,t){return e?Wn.call(e,t):!1}function De(e){for(var t=-1,n=fr(e),r=n.length,i={};++t<r;){var o=n[t];i[e[o]]=o}return i}function Pe(e){return e===!0||e===!1||e&&"object"==typeof e&&Ln.call(e)==$||!1}function ke(e){return e&&"object"==typeof e&&Ln.call(e)==q||!1}function Oe(e){return e&&1===e.nodeType||!1}function Ae(e){var t=!0;if(!e)return t;var n=Ln.call(e),r=e.length;return n==W||n==Q||(ur.argsClass?n==H:be(e))||n==X&&"number"==typeof r&&Ie(e.splice)?!r:(Cr(e,function(){return t=!1}),t)}function je(e,t,n,r){return se(e,t,"function"==typeof n&&_(n,r,2))}function Re(e){return Zn(e)&&!er(parseFloat(e))}function Ie(e){return"function"==typeof e}function Le(e){return!(!e||!re[typeof e])}function Ve(e){return Fe(e)&&e!=+e}function Ue(e){return null===e}function Fe(e){return"number"==typeof e||e&&"object"==typeof e&&Ln.call(e)==Y||!1}function Be(e){return e&&re[typeof e]&&Ln.call(e)==J||!1}function ze(e){return"string"==typeof e||e&&"object"==typeof e&&Ln.call(e)==Q||!1}function He(e){return"undefined"==typeof e}function We(e,n,r){var i={};return n=t.createCallback(n,r,3),Cr(e,function(e,t,r){i[t]=n(e,t,r)}),i}function $e(e){var t=arguments,n=2;if(!Le(e))return e;if("number"!=typeof t[2]&&(n=t.length),n>3&&"function"==typeof t[n-2])var r=_(t[--n-1],t[n--],2);else n>2&&"function"==typeof t[n-1]&&(r=t[--n]);for(var i=v(arguments,1,n),o=-1,s=h(),a=h();++o<n;)ae(e,i[o],r,s,a);return m(s),m(a),e}function qe(e,n,r){var i={};if("function"!=typeof n){var o=[];Nr(e,function(e,t){o.push(t)}),o=M(o,ie(arguments,!0,!1,1));for(var s=-1,a=o.length;++s<a;){var u=o[s];i[u]=e[u]}}else n=t.createCallback(n,r,3),Nr(e,function(e,t,r){n(e,t,r)||(i[t]=e)});return i}function Ke(e){for(var t=-1,n=fr(e),r=n.length,i=wn(r);++t<r;){var o=n[t];i[t]=[o,e[o]]}return i}function Ge(e,n,r){var i={};if("function"!=typeof n)for(var o=-1,s=ie(arguments,!0,!1,1),a=Le(e)?s.length:0;++o<a;){var u=s[o];u in e&&(i[u]=e[u])}else n=t.createCallback(n,r,3),Nr(e,function(e,t,r){n(e,t,r)&&(i[t]=e)});return i}function Ye(e,n,r,i){var o=pr(e);if(null==r)if(o)r=[];else{var s=e&&e.constructor,u=s&&s.prototype;r=a(u)}return n&&(n=t.createCallback(n,i,4),(o?wr:Cr)(e,function(e,t,i){return n(r,e,t,i)})),r}function Xe(e){for(var t=-1,n=fr(e),r=n.length,i=wn(r);++t<r;)i[t]=e[n[t]];return i}function Je(e){var t=arguments,n=-1,r=ie(t,!0,!1,1),i=t[2]&&t[2][t[1]]===e?1:r.length,o=wn(i);for(ur.unindexedChars&&ze(e)&&(e=e.split(""));++n<i;)o[n]=e[r[n]];return o}function Qe(e,t,n){var r=-1,i=me(),o=e?e.length:0,s=!1;return n=(0>n?nr(0,o+n):n)||0,pr(e)?s=i(e,t,n)>-1:"number"==typeof o?s=(ze(e)?e.indexOf(t,n):i(e,t,n))>-1:wr(e,function(e){return++r>=n?!(s=e===t):void 0}),s}function Ze(e,n,r){var i=!0;if(n=t.createCallback(n,r,3),pr(e))for(var o=-1,s=e.length;++o<s&&(i=!!n(e[o],o,e)););else wr(e,function(e,t,r){return i=!!n(e,t,r)});return i}function et(e,n,r){var i=[];if(n=t.createCallback(n,r,3),pr(e))for(var o=-1,s=e.length;++o<s;){var a=e[o];n(a,o,e)&&i.push(a)}else wr(e,function(e,t,r){n(e,t,r)&&i.push(e)});return i}function tt(e,n,r){if(n=t.createCallback(n,r,3),!pr(e)){var i;return wr(e,function(e,t,r){return n(e,t,r)?(i=e,!1):void 0}),i}for(var o=-1,s=e.length;++o<s;){var a=e[o];if(n(a,o,e))return a}}function nt(e,n,r){var i;return n=t.createCallback(n,r,3),it(e,function(e,t,r){return n(e,t,r)?(i=e,!1):void 0}),i}function rt(e,t,n){if(t&&"undefined"==typeof n&&pr(e))for(var r=-1,i=e.length;++r<i&&t(e[r],r,e)!==!1;);else wr(e,t,n);return e}function it(e,t,n){var r=e,i=e?e.length:0;if(t=t&&"undefined"==typeof n?t:_(t,n,3),pr(e))for(;i--&&t(e[i],i,e)!==!1;);else{if("number"!=typeof i){var o=fr(e);i=o.length}else ur.unindexedChars&&ze(e)&&(r=e.split(""));wr(e,function(e,n,s){return n=o?o[--i]:--i,t(r[n],n,s)})}return e}function ot(e,t){var n=v(arguments,2),r=-1,i="function"==typeof t,o=e?e.length:0,s=wn("number"==typeof o?o:0);return rt(e,function(e){s[++r]=(i?t:e[t]).apply(e,n)}),s}function st(e,n,r){var i=-1,o=e?e.length:0,s=wn("number"==typeof o?o:0);if(n=t.createCallback(n,r,3),pr(e))for(;++i<o;)s[i]=n(e[i],i,e);else wr(e,function(e,t,r){s[++i]=n(e,t,r)});return s}function at(e,n,r){var i=-(1/0),o=i;if("function"!=typeof n&&r&&r[n]===e&&(n=null),null==n&&pr(e))for(var s=-1,a=e.length;++s<a;){var l=e[s];l>o&&(o=l)}else n=null==n&&ze(e)?u:t.createCallback(n,r,3),wr(e,function(e,t,r){var s=n(e,t,r);s>i&&(i=s,o=e)});return o}function ut(e,n,r){var i=1/0,o=i;if("function"!=typeof n&&r&&r[n]===e&&(n=null),null==n&&pr(e))for(var s=-1,a=e.length;++s<a;){var l=e[s];o>l&&(o=l)}else n=null==n&&ze(e)?u:t.createCallback(n,r,3),wr(e,function(e,t,r){var s=n(e,t,r);i>s&&(i=s,o=e)});return o}function lt(e,n,r,i){var o=arguments.length<3;if(n=t.createCallback(n,i,4),pr(e)){var s=-1,a=e.length;for(o&&(r=e[++s]);++s<a;)r=n(r,e[s],s,e)}else wr(e,function(e,t,i){r=o?(o=!1,e):n(r,e,t,i)});return r}function ct(e,n,r,i){var o=arguments.length<3;return n=t.createCallback(n,i,4),it(e,function(e,t,i){r=o?(o=!1,e):n(r,e,t,i)}),r}function pt(e,n,r){return n=t.createCallback(n,r,3),et(e,function(e,t,r){return!n(e,t,r)})}function ht(e,t,n){if(e&&"number"!=typeof e.length?e=Xe(e):ur.unindexedChars&&ze(e)&&(e=e.split("")),null==t||n)return e?e[ue(0,e.length-1)]:b;var r=ft(e);return r.length=rr(nr(0,t),r.length),r}function ft(e){var t=-1,n=e?e.length:0,r=wn("number"==typeof n?n:0);return rt(e,function(e){var n=ue(0,++t);r[t]=r[n],r[n]=e}),r}function dt(e){var t=e?e.length:0;return"number"==typeof t?t:fr(e).length}function mt(e,n,r){var i;if(n=t.createCallback(n,r,3),pr(e))for(var o=-1,s=e.length;++o<s&&!(i=n(e[o],o,e)););else wr(e,function(e,t,r){return!(i=n(e,t,r))});return!!i}function gt(e,n,r){var i=-1,o=pr(n),s=e?e.length:0,a=wn("number"==typeof s?s:0);for(o||(n=t.createCallback(n,r,3)),rt(e,function(e,t,r){var s=a[++i]=f();o?s.criteria=st(n,function(t){return e[t]}):(s.criteria=h())[0]=n(e,t,r),s.index=i,s.value=e}),s=a.length,a.sort(l);s--;){var u=a[s];a[s]=u.value,o||m(u.criteria),g(u)}return a}function vt(e){return e&&"number"==typeof e.length?ur.unindexedChars&&ze(e)?e.split(""):v(e):Xe(e)}function yt(e){for(var t=-1,n=e?e.length:0,r=[];++t<n;){var i=e[t];i&&r.push(i)}return r}function bt(e){return M(e,ie(arguments,!0,!0,1))}function _t(e,n,r){var i=-1,o=e?e.length:0;for(n=t.createCallback(n,r,3);++i<o;)if(n(e[i],i,e))return i;return-1}function wt(e,n,r){var i=e?e.length:0;for(n=t.createCallback(n,r,3);i--;)if(n(e[i],i,e))return i;return-1}function Et(e,n,r){var i=0,o=e?e.length:0;if("number"!=typeof n&&null!=n){var s=-1;for(n=t.createCallback(n,r,3);++s<o&&n(e[s],s,e);)i++}else if(i=n,null==i||r)return e?e[0]:b;return v(e,0,rr(nr(0,i),o))}function xt(e,t,n,r){return"boolean"!=typeof t&&null!=t&&(r=n,n="function"!=typeof t&&r&&r[t]===e?null:t,t=!1),null!=n&&(e=st(e,n,r)),ie(e,t)}function Nt(e,t,n){if("number"==typeof n){var r=e?e.length:0;n=0>n?nr(0,r+n):n||0}else if(n){var i=At(e,t);return e[i]===t?i:-1}return o(e,t,n)}function Ct(e,n,r){var i=0,o=e?e.length:0;if("number"!=typeof n&&null!=n){var s=o;for(n=t.createCallback(n,r,3);s--&&n(e[s],s,e);)i++}else i=null==n||r?1:n||i;return v(e,0,rr(nr(0,o-i),o))}function Mt(){for(var e=[],t=-1,n=arguments.length,r=h(),i=me(),a=i===o,u=h();++t<n;){var l=arguments[t];(pr(l)||be(l))&&(e.push(l),r.push(a&&l.length>=C&&c(t?e[t]:u)))}var p=e[0],f=-1,d=p?p.length:0,v=[];e:for(;++f<d;){var y=r[0];if(l=p[f],(y?s(y,l):i(u,l))<0){for(t=n,(y||u).push(l);--t;)if(y=r[t],(y?s(y,l):i(e[t],l))<0)continue e;v.push(l)}}for(;n--;)y=r[n],y&&g(y);return m(r),m(u),v}function St(e,n,r){var i=0,o=e?e.length:0;if("number"!=typeof n&&null!=n){var s=o;for(n=t.createCallback(n,r,3);s--&&n(e[s],s,e);)i++}else if(i=n,null==i||r)return e?e[o-1]:b;return v(e,nr(0,o-i))}function Tt(e,t,n){var r=e?e.length:0;for("number"==typeof n&&(r=(0>n?nr(0,r+n):rr(n,r-1))+1);r--;)if(e[r]===t)return r;return-1}function Dt(e){for(var t=arguments,n=0,r=t.length,i=e?e.length:0;++n<r;)for(var o=-1,s=t[n];++o<i;)e[o]===s&&(Gn.call(e,o--,1),i--);return e}function Pt(e,t,n){e=+e||0,n="number"==typeof n?n:+n||1,null==t&&(t=e,e=0);for(var r=-1,i=nr(0,Un((t-e)/(n||1))),o=wn(i);++r<i;)o[r]=e,e+=n;return o}function kt(e,n,r){var i=-1,o=e?e.length:0,s=[];for(n=t.createCallback(n,r,3);++i<o;){var a=e[i];n(a,i,e)&&(s.push(a),Gn.call(e,i--,1),o--)}return s}function Ot(e,n,r){if("number"!=typeof n&&null!=n){var i=0,o=-1,s=e?e.length:0;for(n=t.createCallback(n,r,3);++o<s&&n(e[o],o,e);)i++}else i=null==n||r?1:nr(0,n);return v(e,i)}function At(e,n,r,i){var o=0,s=e?e.length:o;for(r=r?t.createCallback(r,i,1):on,n=r(n);s>o;){var a=o+s>>>1;r(e[a])<n?o=a+1:s=a}return o}function jt(){return ce(ie(arguments,!0,!0))}function Rt(e,n,r,i){return"boolean"!=typeof n&&null!=n&&(i=r,r="function"!=typeof n&&i&&i[n]===e?null:n,n=!1),null!=r&&(r=t.createCallback(r,i,3)),ce(e,n,r)}function It(e){return M(e,v(arguments,1))}function Lt(){for(var e=-1,t=arguments.length;++e<t;){var n=arguments[e];if(pr(n)||be(n))var r=r?ce(M(r,n).concat(M(n,r))):n}return r||[]}function Vt(){for(var e=arguments.length>1?arguments:arguments[0],t=-1,n=e?at(Pr(e,"length")):0,r=wn(0>n?0:n);++t<n;)r[t]=Pr(e,t);return r}function Ut(e,t){var n=-1,r=e?e.length:0,i={};for(t||!r||pr(e[0])||(t=[]);++n<r;){var o=e[n];t?i[o]=t[n]:o&&(i[o[0]]=o[1])}return i}function Ft(e,t){if(!Ie(t))throw new kn;return function(){return--e<1?t.apply(this,arguments):void 0}}function Bt(e,t){return arguments.length>2?he(e,17,v(arguments,2),null,t):he(e,1,null,null,t)}function zt(e){for(var t=arguments.length>1?ie(arguments,!0,!1,1):Se(e),n=-1,r=t.length;++n<r;){var i=t[n];e[i]=he(e[i],1,null,null,e)}return e}function Ht(e,t){return arguments.length>2?he(t,19,v(arguments,2),null,e):he(t,3,null,null,e)}function Wt(){for(var e=arguments,t=e.length;t--;)if(!Ie(e[t]))throw new kn;return function(){for(var t=arguments,n=e.length;n--;)t=[e[n].apply(this,t)];return t[0]}}function $t(e,t){return t="number"==typeof t?t:+t||e.length,he(e,4,null,null,null,t)}function qt(e,t,n){var r,i,o,s,a,u,l,c=0,p=!1,h=!0;if(!Ie(e))throw new kn;if(t=nr(0,t)||0,n===!0){var f=!0;h=!1}else Le(n)&&(f=n.leading,p="maxWait"in n&&(nr(t,n.maxWait)||0),h="trailing"in n?n.trailing:h);var d=function(){var n=t-(Or()-s);if(0>=n){i&&Fn(i);var p=l;i=u=l=b,p&&(c=Or(),o=e.apply(a,r),u||i||(r=a=null))}else u=Kn(d,n)},m=function(){u&&Fn(u),i=u=l=b,(h||p!==t)&&(c=Or(),o=e.apply(a,r),u||i||(r=a=null))};return function(){if(r=arguments,s=Or(),a=this,l=h&&(u||!f),p===!1)var n=f&&!u;else{i||f||(c=s);var g=p-(s-c),v=0>=g;v?(i&&(i=Fn(i)),c=s,o=e.apply(a,r)):i||(i=Kn(m,g))}return v&&u?u=Fn(u):u||t===p||(u=Kn(d,t)),n&&(v=!0,o=e.apply(a,r)),!v||u||i||(r=a=null),o}}function Kt(e){if(!Ie(e))throw new kn;var t=v(arguments,1);return Kn(function(){e.apply(b,t)},1)}function Gt(e,t){if(!Ie(e))throw new kn;var n=v(arguments,2);return Kn(function(){e.apply(b,n)},t)}function Yt(e,t){if(!Ie(e))throw new kn;var n=function(){var r=n.cache,i=t?t.apply(this,arguments):N+arguments[0];return Wn.call(r,i)?r[i]:r[i]=e.apply(this,arguments)};return n.cache={},n}function Xt(e){var t,n;if(!Ie(e))throw new kn;return function(){return t?n:(t=!0,n=e.apply(this,arguments),e=null,n)}}function Jt(e){return he(e,16,v(arguments,1))}function Qt(e){return he(e,32,null,v(arguments,1))}function Zt(e,t,n){var r=!0,i=!0;if(!Ie(e))throw new kn;return n===!1?r=!1:Le(n)&&(r="leading"in n?n.leading:r,i="trailing"in n?n.trailing:i),ee.leading=r,ee.maxWait=t,ee.trailing=i,qt(e,t,ee)}function en(e,t){return he(t,16,[e])}function tn(e){return function(){return e}}function nn(e,t,n){var r=typeof e;if(null==e||"function"==r)return _(e,t,n);if("object"!=r)return ln(e);var i=fr(e),o=i[0],s=e[o];return 1!=i.length||s!==s||Le(s)?function(t){for(var n=i.length,r=!1;n--&&(r=se(t[i[n]],e[i[n]],null,!0)););return r}:function(e){var t=e[o];return s===t&&(0!==s||1/s==1/t)}}function rn(e){return null==e?"":Pn(e).replace(_r,de)}function on(e){return e}function sn(e,r,i){var o=!0,s=r&&Se(r);r&&(i||s.length)||(null==i&&(i=r),a=n,r=e,e=t,s=Se(r)),i===!1?o=!1:Le(i)&&"chain"in i&&(o=i.chain);var a=e,u=Ie(a);rt(s,function(t){var n=e[t]=r[t];u&&(a.prototype[t]=function(){var t=this.__chain__,r=this.__wrapped__,i=[r];$n.apply(i,arguments);var s=n.apply(e,i);if(o||t){if(r===s&&Le(s))return this;s=new a(s),s.__chain__=t}return s})})}function an(){return e._=In,this}function un(){}function ln(e){return function(t){return t[e]}}function cn(e,t,n){var r=null==e,i=null==t;if(null==n&&("boolean"==typeof e&&i?(n=e,e=1):i||"boolean"!=typeof t||(n=t,i=!0)),r&&i&&(t=1),e=+e||0,i?(t=e,e=0):t=+t||0,n||e%1||t%1){var o=or();return rr(e+o*(t-e+parseFloat("1e-"+((o+"").length-1))),t)}return ue(e,t)}function pn(e,t){if(e){var n=e[t];return Ie(n)?e[t]():n}}function hn(e,n,r){var i=t.templateSettings;e=Pn(e||""),r=xr({},r,i);var o,s=xr({},r.imports,i.imports),a=fr(s),u=Xe(s),l=0,c=r.interpolate||L,h="__p += '",f=Dn((r.escape||L).source+"|"+c.source+"|"+(c===R?O:L).source+"|"+(r.evaluate||L).source+"|$","g");e.replace(f,function(t,n,r,i,s,a){return r||(r=i),h+=e.slice(l,a).replace(U,p),n&&(h+="' +\n__e("+n+") +\n'"),s&&(o=!0,h+="';\n"+s+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=a+t.length,t}),h+="';\n";var d=r.variable,m=d;m||(d="obj",h="with ("+d+") {\n"+h+"\n}\n"),h=(o?h.replace(T,""):h).replace(D,"$1").replace(P,"$1;"),h="function("+d+") {\n"+(m?"":d+" || ("+d+" = {});\n")+"var __t, __p = '', __e = _.escape"+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var g="\n/*\n//# sourceURL="+(r.sourceURL||"/lodash/template/source["+z++ +"]")+"\n*/";try{var v=Cn(a,"return "+h+g).apply(b,u)}catch(y){throw y.source=h,y}return n?v(n):(v.source=h,v)}function fn(e,t,n){e=(e=+e)>-1?e:0;var r=-1,i=wn(e);for(t=_(t,n,1);++r<e;)i[r]=t(r);return i}function dn(e){return null==e?"":Pn(e).replace(br,ye)}function mn(e){var t=++E;return Pn(null==e?"":e)+t}function gn(e){return e=new n(e),e.__chain__=!0,e}function vn(e,t){return t(e),e}function yn(){return this.__chain__=!0,this}function bn(){return Pn(this.__wrapped__)}function _n(){return this.__wrapped__}e=e?le.defaults(oe.Object(),e,le.pick(oe,F)):oe;var wn=e.Array,En=e.Boolean,xn=e.Date,Nn=e.Error,Cn=e.Function,Mn=e.Math,Sn=e.Number,Tn=e.Object,Dn=e.RegExp,Pn=e.String,kn=e.TypeError,On=[],An=Nn.prototype,jn=Tn.prototype,Rn=Pn.prototype,In=e._,Ln=jn.toString,Vn=Dn("^"+Pn(Ln).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),Un=Mn.ceil,Fn=e.clearTimeout,Bn=Mn.floor,zn=Cn.prototype.toString,Hn=ge(Hn=Tn.getPrototypeOf)&&Hn,Wn=jn.hasOwnProperty,$n=On.push,qn=jn.propertyIsEnumerable,Kn=e.setTimeout,Gn=On.splice,Yn=On.unshift,Xn=function(){try{var e={},t=ge(t=Tn.defineProperty)&&t,n=t(e,e,e)&&t}catch(r){}return n}(),Jn=ge(Jn=Tn.create)&&Jn,Qn=ge(Qn=wn.isArray)&&Qn,Zn=e.isFinite,er=e.isNaN,tr=ge(tr=Tn.keys)&&tr,nr=Mn.max,rr=Mn.min,ir=e.parseInt,or=Mn.random,sr={};sr[W]=wn,sr[$]=En,sr[q]=xn,sr[G]=Cn,sr[X]=Tn,sr[Y]=Sn,sr[J]=Dn,sr[Q]=Pn;var ar={};ar[W]=ar[q]=ar[Y]={constructor:!0,toLocaleString:!0,toString:!0,valueOf:!0},ar[$]=ar[Q]={constructor:!0,toString:!0,valueOf:!0},ar[K]=ar[G]=ar[J]={constructor:!0,toString:!0},ar[X]={constructor:!0},function(){for(var e=B.length;e--;){var t=B[e];for(var n in ar)Wn.call(ar,n)&&!Wn.call(ar[n],t)&&(ar[n][t]=!1)}}(),n.prototype=t.prototype;var ur=t.support={};!function(){var t=function(){this.x=1},n={0:1,length:1},r=[];t.prototype={valueOf:1,y:1};for(var i in new t)r.push(i);for(i in arguments);ur.argsClass=Ln.call(arguments)==H,ur.argsObject=arguments.constructor==Tn&&!(arguments instanceof wn),ur.enumErrorProps=qn.call(An,"message")||qn.call(An,"name"),ur.enumPrototypes=qn.call(t,"prototype"),ur.funcDecomp=!ge(e.WinRTError)&&V.test(y),ur.funcNames="string"==typeof Cn.name,ur.nonEnumArgs=0!=i,ur.nonEnumShadows=!/valueOf/.test(r),ur.ownLast="x"!=r[0],ur.spliceObjects=(On.splice.call(n,0,1),!n[0]),ur.unindexedChars="x"[0]+Tn("x")[0]!="xx";try{ur.nodeClass=!(Ln.call(document)==X&&!({toString:0}+""))}catch(o){ur.nodeClass=!0}}(1),t.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:R,variable:"",imports:{_:t}};var lr=function(e){var t="var index, iterable = "+e.firstArg+", result = "+e.init+";\nif (!iterable) return result;\n"+e.top+";";e.array?(t+="\nvar length = iterable.length; index = -1;\nif ("+e.array+") {  ",ur.unindexedChars&&(t+="\n  if (isString(iterable)) {\n    iterable = iterable.split('')\n  }  "),t+="\n  while (++index < length) {\n    "+e.loop+";\n  }\n}\nelse {  "):ur.nonEnumArgs&&(t+="\n  var length = iterable.length; index = -1;\n  if (length && isArguments(iterable)) {\n    while (++index < length) {\n      index += '';\n      "+e.loop+";\n    }\n  } else {  "),ur.enumPrototypes&&(t+="\n  var skipProto = typeof iterable == 'function';\n  "),ur.enumErrorProps&&(t+="\n  var skipErrorProps = iterable === errorProto || iterable instanceof Error;\n  ");var n=[];if(ur.enumPrototypes&&n.push('!(skipProto && index == "prototype")'),ur.enumErrorProps&&n.push('!(skipErrorProps && (index == "message" || index == "name"))'),e.useHas&&e.keys)t+="\n  var ownIndex = -1,\n      ownProps = objectTypes[typeof iterable] && keys(iterable),\n      length = ownProps ? ownProps.length : 0;\n\n  while (++ownIndex < length) {\n    index = ownProps[ownIndex];\n",n.length&&(t+="    if ("+n.join(" && ")+") {\n  "),t+=e.loop+";    ",n.length&&(t+="\n    }"),t+="\n  }  ";else if(t+="\n  for (index in iterable) {\n",e.useHas&&n.push("hasOwnProperty.call(iterable, index)"),n.length&&(t+="    if ("+n.join(" && ")+") {\n  "),t+=e.loop+";    ",n.length&&(t+="\n    }"),t+="\n  }    ",ur.nonEnumShadows){for(t+="\n\n  if (iterable !== objectProto) {\n    var ctor = iterable.constructor,\n        isProto = iterable === (ctor && ctor.prototype),\n        className = iterable === stringProto ? stringClass : iterable === errorProto ? errorClass : toString.call(iterable),\n        nonEnum = nonEnumProps[className];\n      ",k=0;k<7;k++)t+="\n    index = '"+e.shadowedProps[k]+"';\n    if ((!(isProto && nonEnum[index]) && hasOwnProperty.call(iterable, index))",e.useHas||(t+=" || (!nonEnum[index] && iterable[index] !== objectProto[index])"),t+=") {\n      "+e.loop+";\n    }      ";t+="\n  }    "}return(e.array||ur.nonEnumArgs)&&(t+="\n}"),t+=e.bottom+";\nreturn result"};Jn||(a=function(){function t(){}return function(n){if(Le(n)){t.prototype=n;var r=new t;t.prototype=null}return r||e.Object()}}());var cr=Xn?function(e,t){te.value=t,Xn(e,"__bindData__",te),te.value=null}:un;ur.argsClass||(be=function(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Wn.call(e,"callee")&&!qn.call(e,"callee")||!1});var pr=Qn||function(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Ln.call(e)==W||!1},hr=fe({args:"object",init:"[]",top:"if (!(objectTypes[typeof object])) return result",loop:"result.push(index)"}),fr=tr?function(e){return Le(e)?ur.enumPrototypes&&"function"==typeof e||ur.nonEnumArgs&&e.length&&be(e)?hr(e):tr(e):[]}:hr,dr={args:"collection, callback, thisArg",top:"callback = callback && typeof thisArg == 'undefined' ? callback : baseCreateCallback(callback, thisArg, 3)",array:"typeof length == 'number'",keys:fr,loop:"if (callback(iterable[index], index, collection) === false) return result"},mr={args:"object, source, guard",top:"var args = arguments,\n    argsIndex = 0,\n    argsLength = typeof guard == 'number' ? 2 : args.length;\nwhile (++argsIndex < argsLength) {\n  iterable = args[argsIndex];\n  if (iterable && objectTypes[typeof iterable]) {",keys:fr,loop:"if (typeof result[index] == 'undefined') result[index] = iterable[index]",bottom:"  }\n}"},gr={top:"if (!objectTypes[typeof iterable]) return result;\n"+dr.top,array:!1},vr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},yr=De(vr),br=Dn("("+fr(yr).join("|")+")","g"),_r=Dn("["+fr(vr).join("")+"]","g"),wr=fe(dr),Er=fe(mr,{top:mr.top.replace(";",";\nif (argsLength > 3 && typeof args[argsLength - 2] == 'function') {\n  var callback = baseCreateCallback(args[--argsLength - 1], args[argsLength--], 2);\n} else if (argsLength > 2 && typeof args[argsLength - 1] == 'function') {\n  callback = args[--argsLength];\n}"),loop:"result[index] = callback ? callback(result[index], iterable[index]) : iterable[index]"}),xr=fe(mr),Nr=fe(dr,gr,{useHas:!1}),Cr=fe(dr,gr);Ie(/x/)&&(Ie=function(e){return"function"==typeof e&&Ln.call(e)==G});var Mr=Hn?function(e){if(!e||Ln.call(e)!=X||!ur.argsClass&&be(e))return!1;var t=e.valueOf,n=ge(t)&&(n=Hn(t))&&Hn(n);return n?e==n||Hn(e)==n:ve(e)}:ve,Sr=pe(function(e,t,n){Wn.call(e,n)?e[n]++:e[n]=1}),Tr=pe(function(e,t,n){(Wn.call(e,n)?e[n]:e[n]=[]).push(t)}),Dr=pe(function(e,t,n){e[n]=t}),Pr=st,kr=et,Or=ge(Or=xn.now)&&Or||function(){return(new xn).getTime()},Ar=8==ir(S+"08")?ir:function(e,t){return ir(ze(e)?e.replace(I,""):e,t||0)};return t.after=Ft,t.assign=Er,t.at=Je,t.bind=Bt,t.bindAll=zt,t.bindKey=Ht,t.chain=gn,t.compact=yt,t.compose=Wt,t.constant=tn,t.countBy=Sr,t.create=Ee,t.createCallback=nn,t.curry=$t,t.debounce=qt,t.defaults=xr,t.defer=Kt,t.delay=Gt,t.difference=bt,t.filter=et,t.flatten=xt,t.forEach=rt,t.forEachRight=it,t.forIn=Nr,t.forInRight=Ce,t.forOwn=Cr,t.forOwnRight=Me,t.functions=Se,t.groupBy=Tr,t.indexBy=Dr,t.initial=Ct,t.intersection=Mt,t.invert=De,t.invoke=ot,t.keys=fr,t.map=st,t.mapValues=We,t.max=at,t.memoize=Yt,t.merge=$e,t.min=ut,t.omit=qe,t.once=Xt,t.pairs=Ke,t.partial=Jt,t.partialRight=Qt,t.pick=Ge,t.pluck=Pr,t.property=ln,t.pull=Dt,t.range=Pt,t.reject=pt,t.remove=kt,t.rest=Ot,t.shuffle=ft,t.sortBy=gt,t.tap=vn,t.throttle=Zt,t.times=fn,t.toArray=vt,t.transform=Ye,t.union=jt,t.uniq=Rt,t.values=Xe,t.where=kr,t.without=It,t.wrap=en,t.xor=Lt,t.zip=Vt,t.zipObject=Ut,t.collect=st,t.drop=Ot,t.each=rt,t.eachRight=it,t.extend=Er,t.methods=Se,t.object=Ut,t.select=et,t.tail=Ot,t.unique=Rt,t.unzip=Vt,sn(t),t.clone=_e,t.cloneDeep=we,t.contains=Qe,t.escape=rn,t.every=Ze,t.find=tt,t.findIndex=_t,t.findKey=xe,t.findLast=nt,t.findLastIndex=wt,t.findLastKey=Ne,t.has=Te,t.identity=on,t.indexOf=Nt,t.isArguments=be,t.isArray=pr,t.isBoolean=Pe,t.isDate=ke,t.isElement=Oe,t.isEmpty=Ae,t.isEqual=je,t.isFinite=Re,t.isFunction=Ie,t.isNaN=Ve,t.isNull=Ue,t.isNumber=Fe,t.isObject=Le,t.isPlainObject=Mr,t.isRegExp=Be,t.isString=ze,t.isUndefined=He,t.lastIndexOf=Tt,t.mixin=sn,t.noConflict=an,t.noop=un,t.now=Or,t.parseInt=Ar,t.random=cn,t.reduce=lt,t.reduceRight=ct,t.result=pn,t.runInContext=y,t.size=dt,t.some=mt,t.sortedIndex=At,t.template=hn,t.unescape=dn,t.uniqueId=mn,t.all=Ze,t.any=mt,t.detect=tt,t.findWhere=tt,t.foldl=lt,t.foldr=ct,t.include=Qe,t.inject=lt,sn(function(){var e={};return Cr(t,function(n,r){t.prototype[r]||(e[r]=n)}),e}(),!1),t.first=Et,t.last=St,t.sample=ht,t.take=Et,t.head=Et,Cr(t,function(e,r){var i="sample"!==r;t.prototype[r]||(t.prototype[r]=function(t,r){var o=this.__chain__,s=e(this.__wrapped__,t,r);return o||null!=t&&(!r||i&&"function"==typeof t)?new n(s,o):s})}),t.VERSION="2.4.2",t.prototype.chain=yn,t.prototype.toString=bn,t.prototype.value=_n,t.prototype.valueOf=_n,wr(["join","pop","shift"],function(e){var r=On[e];t.prototype[e]=function(){var e=this.__chain__,t=r.apply(this.__wrapped__,arguments);return e?new n(t,e):t}}),wr(["push","reverse","sort","unshift"],function(e){
var n=On[e];t.prototype[e]=function(){return n.apply(this.__wrapped__,arguments),this}}),wr(["concat","slice","splice"],function(e){var r=On[e];t.prototype[e]=function(){return new n(r.apply(this.__wrapped__,arguments),this.__chain__)}}),ur.spliceObjects||wr(["pop","shift","splice"],function(e){var r=On[e],i="splice"==e;t.prototype[e]=function(){var e=this.__chain__,t=this.__wrapped__,o=r.apply(t,arguments);return 0===t.length&&delete t[0],e||i?new n(o,e):o}}),t}var b,_=[],w=[],E=0,x={},N=+new Date+"",C=75,M=40,S=" 	\f\ufeff\n\r\u2028\u2029",T=/\b__p \+= '';/g,D=/\b(__p \+=) '' \+/g,P=/(__e\(.*?\)|\b__t\)) \+\n'';/g,O=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,A=/\w*$/,j=/^\s*function[ \n\r\t]+\w/,R=/<%=([\s\S]+?)%>/g,I=RegExp("^["+S+"]*0+(?=.$)"),L=/($^)/,V=/\bthis\b/,U=/['\n\r\t\u2028\u2029\\]/g,F=["Array","Boolean","Date","Error","Function","Math","Number","Object","RegExp","String","_","attachEvent","clearTimeout","isFinite","isNaN","parseInt","setTimeout"],B=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],z=0,H="[object Arguments]",W="[object Array]",$="[object Boolean]",q="[object Date]",K="[object Error]",G="[object Function]",Y="[object Number]",X="[object Object]",J="[object RegExp]",Q="[object String]",Z={};Z[G]=!1,Z[H]=Z[W]=Z[$]=Z[q]=Z[Y]=Z[X]=Z[J]=Z[Q]=!0;var ee={leading:!1,maxWait:0,trailing:!1},te={configurable:!1,enumerable:!1,value:null,writable:!1},ne={args:"",array:null,bottom:"",firstArg:"",init:"",keys:null,loop:"",shadowedProps:null,support:null,top:"",useHas:!1},re={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},ie={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"},oe=re[typeof window]&&window||this,se=re[typeof t]&&t&&!t.nodeType&&t,ae=re[typeof e]&&e&&!e.nodeType&&e,ue=(ae&&ae.exports===se&&se,re[typeof i]&&i);!ue||ue.global!==ue&&ue.window!==ue||(oe=ue);var le=y();oe._=le,r=function(){return le}.call(t,n,t,e),!(r!==b&&(e.exports=r))}).call(this)}).call(t,n(93)(e),function(){return this}())},function(e,t,n){var r=n(1),i=n(4),o=n(5),s=n(6),a=(n(27),r.createClass({displayName:"ButtonGroup",mixins:[s],propTypes:{vertical:r.PropTypes.bool,justified:r.PropTypes.bool},getDefaultProps:function(){return{bsClass:"button-group"}},render:function(){var e=this.getBsClassSet();return e["btn-group"]=!this.props.vertical,e["btn-group-vertical"]=this.props.vertical,e["btn-group-justified"]=this.props.justified,r.createElement("div",r.__spread({},this.props,{className:i(this.props.className,o(e))}),this.props.children)}}));e.exports=a},function(e,t,n){var r=n(1),i=n(74),o={propTypes:{collapsable:r.PropTypes.bool,defaultExpanded:r.PropTypes.bool,expanded:r.PropTypes.bool},getInitialState:function(){return{expanded:null!=this.props.defaultExpanded?this.props.defaultExpanded:null,collapsing:!1}},handleTransitionEnd:function(){this._collapseEnd=!0,this.setState({collapsing:!1})},componentWillReceiveProps:function(e){this.props.collapsable&&e.expanded!==this.props.expanded&&(this._collapseEnd=!1,this.setState({collapsing:!0}))},_addEndTransitionListener:function(){var e=this.getCollapsableDOMNode();e&&i.addEndEventListener(e,this.handleTransitionEnd)},_removeEndTransitionListener:function(){var e=this.getCollapsableDOMNode();e&&i.removeEndEventListener(e,this.handleTransitionEnd)},componentDidMount:function(){this._afterRender()},componentWillUnmount:function(){this._removeEndTransitionListener()},componentWillUpdate:function(e){"function"==typeof this.getCollapsableDimension?this.getCollapsableDimension():"height",this.getCollapsableDOMNode();this._removeEndTransitionListener()},componentDidUpdate:function(e,t){this._afterRender()},_afterRender:function(){this.props.collapsable&&(this._addEndTransitionListener(),setTimeout(this._updateDimensionAfterRender,0))},_updateDimensionAfterRender:function(){var e=this.getCollapsableDOMNode();if(e){var t="function"==typeof this.getCollapsableDimension?this.getCollapsableDimension():"height";e.style[t]=this.isExpanded()?this.getCollapsableDimensionValue()+"px":"0px"}},isExpanded:function(){return null!=this.props.expanded?this.props.expanded:this.state.expanded},getCollapsableClassSet:function(e){var t={};return"string"==typeof e&&e.split(" ").forEach(function(e){e&&(t[e]=!0)}),t.collapsing=this.state.collapsing,t.collapse=!this.state.collapsing,t["in"]=this.isExpanded()&&!this.state.collapsing,t}};e.exports=o},function(e,t,n){var r=n(1),i=n(4),o=n(5),s=n(11),a=n(18),u=n(12),l=r.createClass({displayName:"DropdownMenu",propTypes:{pullRight:r.PropTypes.bool,onSelect:r.PropTypes.func},render:function(){var e={"dropdown-menu":!0,"dropdown-menu-right":this.props.pullRight};return r.createElement("ul",r.__spread({},this.props,{className:i(this.props.className,o(e)),role:"menu"}),u.map(this.props.children,this.renderMenuItem))},renderMenuItem:function(e,t){return s(e,{onSelect:a(e.props.onSelect,this.props.onSelect),key:e.key?e.key:t,ref:e.ref})}});e.exports=l},function(e,t,n){function r(e,t){for(;e;){if(e===t)return!0;e=e.parentNode}return!1}var i=(n(1),n(72)),o={getInitialState:function(){return{open:!1}},setDropdownState:function(e,t){e?this.bindRootCloseHandlers():this.unbindRootCloseHandlers(),this.setState({open:e},t)},handleDocumentKeyUp:function(e){27===e.keyCode&&this.setDropdownState(!1)},handleDocumentClick:function(e){r(e.target,this.getDOMNode())||this.setDropdownState(!1)},bindRootCloseHandlers:function(){this._onDocumentClickListener=i.listen(document,"click",this.handleDocumentClick),this._onDocumentKeyupListener=i.listen(document,"keyup",this.handleDocumentKeyUp)},unbindRootCloseHandlers:function(){this._onDocumentClickListener&&this._onDocumentClickListener.remove(),this._onDocumentKeyupListener&&this._onDocumentKeyupListener.remove()},componentWillUnmount:function(){this.unbindRootCloseHandlers()}};e.exports=o},function(e,t,n){var r=n(1),i=n(4),o=n(6),s=n(66),a=n(5),u=n(43),l=n(11),c=n(12),p=n(18),h=r.createClass({displayName:"Nav",mixins:[o,s],propTypes:{bsStyle:r.PropTypes.oneOf(["tabs","pills"]),stacked:r.PropTypes.bool,justified:r.PropTypes.bool,onSelect:r.PropTypes.func,collapsable:r.PropTypes.bool,expanded:r.PropTypes.bool,navbar:r.PropTypes.bool,eventKey:r.PropTypes.any,right:r.PropTypes.bool},getDefaultProps:function(){return{bsClass:"nav"}},getCollapsableDOMNode:function(){return this.getDOMNode()},getCollapsableDimensionValue:function(){var e=this.refs.ul.getDOMNode(),t=e.offsetHeight,n=u.getComputedStyles(e);return t+parseInt(n.marginTop,10)+parseInt(n.marginBottom,10)},render:function(){var e=this.props.collapsable?this.getCollapsableClassSet():{};return e["navbar-collapse"]=this.props.collapsable,this.props.navbar&&!this.props.collapsable?this.renderUl():r.createElement("nav",r.__spread({},this.props,{className:i(this.props.className,a(e))}),this.renderUl())},renderUl:function(){var e=this.getBsClassSet();return e["nav-stacked"]=this.props.stacked,e["nav-justified"]=this.props.justified,e["navbar-nav"]=this.props.navbar,e["pull-right"]=this.props.pullRight,e["navbar-right"]=this.props.right,r.createElement("ul",r.__spread({},this.props,{className:i(this.props.className,a(e)),ref:"ul"}),c.map(this.props.children,this.renderNavItem))},getChildActiveProp:function(e){return e.props.active?!0:null!=this.props.activeKey&&e.props.eventKey==this.props.activeKey?!0:null!=this.props.activeHref&&e.props.href===this.props.activeHref?!0:e.props.active},renderNavItem:function(e,t){return l(e,{active:this.getChildActiveProp(e),activeKey:this.props.activeKey,activeHref:this.props.activeHref,onSelect:p(e.props.onSelect,this.props.onSelect),ref:e.ref,key:e.key?e.key:t,navItem:!0})}});e.exports=h},function(e,t,n){var r=n(1),i=n(203);e.exports={propTypes:{container:i.mountable},getDefaultProps:function(){return{container:{getDOMNode:function(){return document.body}}}},componentWillUnmount:function(){this._unrenderOverlay(),this._overlayTarget&&(this.getContainerDOMNode().removeChild(this._overlayTarget),this._overlayTarget=null)},componentDidUpdate:function(){this._renderOverlay()},componentDidMount:function(){this._renderOverlay()},_mountOverlayTarget:function(){this._overlayTarget=document.createElement("div"),this.getContainerDOMNode().appendChild(this._overlayTarget)},_renderOverlay:function(){this._overlayTarget||this._mountOverlayTarget();var e=this.renderOverlay();null!==e?this._overlayInstance=r.render(e,this._overlayTarget):this._unrenderOverlay()},_unrenderOverlay:function(){r.unmountComponentAtNode(this._overlayTarget),this._overlayInstance=null},getOverlayDOMNode:function(){if(!this.isMounted())throw new Error("getOverlayDOMNode(): A component must be mounted to have a DOM node.");return this._overlayInstance?this._overlayInstance.getDOMNode():null},getContainerDOMNode:function(){return this.props.container.getDOMNode?this.props.container.getDOMNode():this.props.container}}},function(e,t){e.exports={CLASSES:{alert:"alert",button:"btn","button-group":"btn-group","button-toolbar":"btn-toolbar",column:"col","input-group":"input-group",form:"form",glyphicon:"glyphicon",label:"label","list-group-item":"list-group-item",panel:"panel","panel-group":"panel-group","progress-bar":"progress-bar",nav:"nav",navbar:"navbar",modal:"modal",row:"row",well:"well"},STYLES:{"default":"default",primary:"primary",success:"success",info:"info",warning:"warning",danger:"danger",link:"link",inline:"inline",tabs:"tabs",pills:"pills"},SIZES:{large:"lg",medium:"md",small:"sm",xsmall:"xs"},GLYPHS:["asterisk","plus","euro","minus","cloud","envelope","pencil","glass","music","search","heart","star","star-empty","user","film","th-large","th","th-list","ok","remove","zoom-in","zoom-out","off","signal","cog","trash","home","file","time","road","download-alt","download","upload","inbox","play-circle","repeat","refresh","list-alt","lock","flag","headphones","volume-off","volume-down","volume-up","qrcode","barcode","tag","tags","book","bookmark","print","camera","font","bold","italic","text-height","text-width","align-left","align-center","align-right","align-justify","list","indent-left","indent-right","facetime-video","picture","map-marker","adjust","tint","edit","share","check","move","step-backward","fast-backward","backward","play","pause","stop","forward","fast-forward","step-forward","eject","chevron-left","chevron-right","plus-sign","minus-sign","remove-sign","ok-sign","question-sign","info-sign","screenshot","remove-circle","ok-circle","ban-circle","arrow-left","arrow-right","arrow-up","arrow-down","share-alt","resize-full","resize-small","exclamation-sign","gift","leaf","fire","eye-open","eye-close","warning-sign","plane","calendar","random","comment","magnet","chevron-up","chevron-down","retweet","shopping-cart","folder-close","folder-open","resize-vertical","resize-horizontal","hdd","bullhorn","bell","certificate","thumbs-up","thumbs-down","hand-right","hand-left","hand-up","hand-down","circle-arrow-right","circle-arrow-left","circle-arrow-up","circle-arrow-down","globe","wrench","tasks","filter","briefcase","fullscreen","dashboard","paperclip","heart-empty","link","phone","pushpin","usd","gbp","sort","sort-by-alphabet","sort-by-alphabet-alt","sort-by-order","sort-by-order-alt","sort-by-attributes","sort-by-attributes-alt","unchecked","expand","collapse-down","collapse-up","log-in","flash","log-out","new-window","record","save","open","saved","import","export","send","floppy-disk","floppy-saved","floppy-remove","floppy-save","floppy-open","credit-card","transfer","cutlery","header","compressed","earphone","phone-alt","tower","stats","sd-video","hd-video","subtitles","sound-stereo","sound-dolby","sound-5-1","sound-6-1","sound-7-1","copyright-mark","registration-mark","cloud-download","cloud-upload","tree-conifer","tree-deciduous"]}},function(e,t){var n={listen:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!1),{remove:function(){e.removeEventListener(t,n,!1)}}):e.attachEvent?(e.attachEvent("on"+t,n),{remove:function(){e.detachEvent("on"+t,n)}}):void 0}};e.exports=n},function(e,t){function n(e,t){if(null==e)throw new TypeError("Object.assign target cannot be null or undefined");for(var n=Object(e),r=Object.prototype.hasOwnProperty,i=1;i<arguments.length;i++){var o=arguments[i];if(null!=o){var s=Object(o);for(var a in s)r.call(s,a)&&(n[a]=s[a])}}return n}e.exports=n},function(e,t){function n(){var e=document.createElement("div"),t=e.style;"AnimationEvent"in window||delete s.animationend.animation,"TransitionEvent"in window||delete s.transitionend.transition;for(var n in s){var r=s[n];for(var i in r)if(i in t){a.push(r[i]);break}}}function r(e,t,n){e.addEventListener(t,n,!1)}function i(e,t,n){e.removeEventListener(t,n,!1)}var o=!("undefined"==typeof window||!window.document||!window.document.createElement),s={transitionend:{transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd"},animationend:{animation:"animationend",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"mozAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd"}},a=[];o&&n();var u={addEndEventListener:function(e,t){return 0===a.length?void window.setTimeout(t,0):void a.forEach(function(n){r(e,n,t)})},removeEndEventListener:function(e,t){0!==a.length&&a.forEach(function(n){i(e,n,t)})}};e.exports=u},function(e,t,n){"use strict";var r=n(209),i={shouldComponentUpdate:function(e,t){return!r(this.props,e)||!r(this.state,t)}};e.exports=i},,,,,,,,,,,,,,,,,function(e,t,n){var r,i,o;!function(n,s){i=[],r=s,o="function"==typeof r?r.apply(t,i):r,!(void 0!==o&&(e.exports=o))}(this,function(){function e(e){return encodeURI(e).replace(/%25[0-9][0-9]/g,function(e){return"%"+e.substring(3)})}function t(t){var n="";h[t.charAt(0)]&&(n=t.charAt(0),t=t.substring(1));var r="",i="",o=!0,s=!1,a=!1;"+"===n?o=!1:"."===n?(i=".",r="."):"/"===n?(i="/",r="/"):"#"===n?(i="#",o=!1):";"===n?(i=";",r=";",s=!0,a=!0):"?"===n?(i="?",r="&",s=!0):"&"===n&&(i="&",r="&",s=!0);for(var u=[],l=t.split(","),c=[],p={},d=0;d<l.length;d++){var m=l[d],g=null;if(-1!==m.indexOf(":")){var v=m.split(":");m=v[0],g=parseInt(v[1],10)}for(var y={};f[m.charAt(m.length-1)];)y[m.charAt(m.length-1)]=!0,m=m.substring(0,m.length-1);var b={truncate:g,name:m,suffices:y};c.push(b),p[m]=b,u.push(m)}var _=function(t){for(var n="",u=0,l=0;l<c.length;l++){var p=c[l],h=t(p.name);if(null===h||void 0===h||Array.isArray(h)&&0===h.length||"object"==typeof h&&0===Object.keys(h).length)u++;else if(n+=l===u?i:r||",",Array.isArray(h)){s&&(n+=p.name+"=");for(var f=0;f<h.length;f++)f>0&&(n+=p.suffices["*"]?r||",":",",p.suffices["*"]&&s&&(n+=p.name+"=")),n+=o?encodeURIComponent(h[f]).replace(/!/g,"%21"):e(h[f])}else if("object"==typeof h){s&&!p.suffices["*"]&&(n+=p.name+"=");var d=!0;for(var m in h)d||(n+=p.suffices["*"]?r||",":","),d=!1,n+=o?encodeURIComponent(m).replace(/!/g,"%21"):e(m),n+=p.suffices["*"]?"=":",",n+=o?encodeURIComponent(h[m]).replace(/!/g,"%21"):e(h[m])}else s&&(n+=p.name,a&&""===h||(n+="=")),null!=p.truncate&&(h=h.substring(0,p.truncate)),n+=o?encodeURIComponent(h).replace(/!/g,"%21"):e(h)}return n};return _.varNames=u,{prefix:i,substitution:_}}function n(e){if(!(this instanceof n))return new n(e);for(var r=e.split("{"),i=[r.shift()],o=[],s=[],a=[];r.length>0;){var u=r.shift(),l=u.split("}")[0],c=u.substring(l.length+1),p=t(l);s.push(p.substitution),o.push(p.prefix),i.push(c),a=a.concat(p.substitution.varNames)}this.fill=function(e){for(var t=i[0],n=0;n<s.length;n++){var r=s[n];t+=r(e),t+=i[n+1]}return t},this.varNames=a,this.template=e}function r(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){if(Array.isArray(e)!==Array.isArray(t))return!1;if(Array.isArray(e)){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!r(e[n],t[n]))return!1}else{var i;for(i in e)if(void 0===t[i]&&void 0!==e[i])return!1;for(i in t)if(void 0===e[i]&&void 0!==t[i])return!1;for(i in e)if(!r(e[i],t[i]))return!1}return!0}return!1}function i(e){var t=String(e).replace(/^\s+|\s+$/g,"").match(/^([^:\/?#]+:)?(\/\/(?:[^:@]*(?::[^:@]*)?@)?(([^:\/?#]*)(?::(\d*))?))?([^?#]*)(\?[^#]*)?(#[\s\S]*)?/);return t?{href:t[0]||"",protocol:t[1]||"",authority:t[2]||"",host:t[3]||"",hostname:t[4]||"",port:t[5]||"",pathname:t[6]||"",search:t[7]||"",hash:t[8]||""}:null}function o(e,t){function n(e){var t=[];return e.replace(/^(\.\.?(\/|$))+/,"").replace(/\/(\.(\/|$))+/g,"/").replace(/\/\.\.$/,"/../").replace(/\/?[^\/]*/g,function(e){"/.."===e?t.pop():t.push(e)}),t.join("").replace(/^\//,"/"===e.charAt(0)?"/":"")}return t=i(t||""),e=i(e||""),t&&e?(t.protocol||e.protocol)+(t.protocol||t.authority?t.authority:e.authority)+n(t.protocol||t.authority||"/"===t.pathname.charAt(0)?t.pathname:t.pathname?(e.authority&&!e.pathname?"/":"")+e.pathname.slice(0,e.pathname.lastIndexOf("/")+1)+t.pathname:e.pathname)+(t.protocol||t.authority||t.pathname?t.search:t.search||e.search)+t.hash:null}function s(e){return e.split("#")[0]}function a(e,t){if(e&&"object"==typeof e)if(void 0===t?t=e.id:"string"==typeof e.id&&(t=o(t,e.id),e.id=t),Array.isArray(e))for(var n=0;n<e.length;n++)a(e[n],t);else{"string"==typeof e.$ref&&(e.$ref=o(t,e.$ref));for(var r in e)"enum"!==r&&a(e[r],t)}}function u(e){e=e||"en";var t=w[e];return function(e){var n=t[e.code]||_[e.code];if("string"!=typeof n)return"Unknown error code "+e.code+": "+JSON.stringify(e.messageParams);var r=e.params;return n.replace(/\{([^{}]*)\}/g,function(e,t){var n=r[t];return"string"==typeof n||"number"==typeof n?n:e})}}function l(e,t,n,r,i){if(Error.call(this),void 0===e)throw new Error("No error code supplied: "+r);this.message="",this.params=t,this.code=e,this.dataPath=n||"",this.schemaPath=r||"",this.subErrors=i||null;var o=new Error(this.message);if(this.stack=o.stack||o.stacktrace,!this.stack)try{throw o}catch(o){this.stack=o.stack||o.stacktrace}}function c(e,t){if(t.substring(0,e.length)===e){var n=t.substring(e.length);if(t.length>0&&"/"===t.charAt(e.length-1)||"#"===n.charAt(0)||"?"===n.charAt(0))return!0}return!1}function p(e){var t,n,r=new d,i={setErrorReporter:function(e){return"string"==typeof e?this.language(e):(n=e,!0)},addFormat:function(){r.addFormat.apply(r,arguments)},language:function(e){return e?(w[e]||(e=e.split("-")[0]),w[e]?(t=e,e):!1):t},addLanguage:function(e,t){var n;for(n in v)t[n]&&!t[v[n]]&&(t[v[n]]=t[n]);var r=e.split("-")[0];if(w[r]){w[e]=Object.create(w[r]);for(n in t)"undefined"==typeof w[r][n]&&(w[r][n]=t[n]),w[e][n]=t[n]}else w[e]=t,w[r]=t;return this},freshApi:function(e){var t=p();return e&&t.language(e),t},validate:function(e,i,o,s){var a=u(t),l=n?function(e,t,r){return n(e,t,r)||a(e,t,r)}:a,c=new d(r,!1,l,o,s);"string"==typeof i&&(i={$ref:i}),c.addSchema("",i);var p=c.validateAll(e,i,null,null,"");return!p&&s&&(p=c.banUnknownProperties(e,i)),this.error=p,this.missing=c.missing,this.valid=null===p,this.valid},validateResult:function(){var e={};return this.validate.apply(e,arguments),e},validateMultiple:function(e,i,o,s){var a=u(t),l=n?function(e,t,r){return n(e,t,r)||a(e,t,r)}:a,c=new d(r,!0,l,o,s);"string"==typeof i&&(i={$ref:i}),c.addSchema("",i),c.validateAll(e,i,null,null,""),s&&c.banUnknownProperties(e,i);var p={};return p.errors=c.errors,p.missing=c.missing,p.valid=0===p.errors.length,p},addSchema:function(){return r.addSchema.apply(r,arguments)},getSchema:function(){return r.getSchema.apply(r,arguments)},getSchemaMap:function(){return r.getSchemaMap.apply(r,arguments)},getSchemaUris:function(){return r.getSchemaUris.apply(r,arguments)},getMissingUris:function(){return r.getMissingUris.apply(r,arguments)},dropSchemas:function(){r.dropSchemas.apply(r,arguments)},defineKeyword:function(){r.defineKeyword.apply(r,arguments)},defineError:function(e,t,n){if("string"!=typeof e||!/^[A-Z]+(_[A-Z]+)*$/.test(e))throw new Error("Code name must be a string in UPPER_CASE_WITH_UNDERSCORES");if("number"!=typeof t||t%1!==0||1e4>t)throw new Error("Code number must be an integer > 10000");if("undefined"!=typeof v[e])throw new Error("Error already defined: "+e+" as "+v[e]);if("undefined"!=typeof y[t])throw new Error("Error code already used: "+y[t]+" as "+t);v[e]=t,y[t]=e,_[e]=_[t]=n;for(var r in w){var i=w[r];i[e]&&(i[t]=i[t]||i[e])}},reset:function(){r.reset(),this.error=null,this.missing=[],this.valid=!0},missing:[],error:null,valid:!0,normSchema:a,resolveUrl:o,getDocumentUri:s,errorCodes:v};return i.language(e||"en"),i}Object.keys||(Object.keys=function(){var e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],r=n.length;return function(i){if("object"!=typeof i&&"function"!=typeof i||null===i)throw new TypeError("Object.keys called on non-object");var o=[];for(var s in i)e.call(i,s)&&o.push(s);if(t)for(var a=0;r>a;a++)e.call(i,n[a])&&o.push(n[a]);return o}}()),Object.create||(Object.create=function(){function e(){}return function(t){if(1!==arguments.length)throw new Error("Object.create implementation only accepts one parameter.");return e.prototype=t,new e}}()),Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){if(null===this)throw new TypeError;var t=Object(this),n=t.length>>>0;if(0===n)return-1;var r=0;if(arguments.length>1&&(r=Number(arguments[1]),r!==r?r=0:0!==r&&r!==1/0&&r!==-(1/0)&&(r=(r>0||-1)*Math.floor(Math.abs(r)))),r>=n)return-1;for(var i=r>=0?r:Math.max(n-Math.abs(r),0);n>i;i++)if(i in t&&t[i]===e)return i;return-1}),Object.isFrozen||(Object.isFrozen=function(e){for(var t="tv4_test_frozen_key";e.hasOwnProperty(t);)t+=Math.random();try{return e[t]=!0,delete e[t],!1}catch(n){return!0}});var h={"+":!0,"#":!0,".":!0,"/":!0,";":!0,"?":!0,"&":!0},f={"*":!0};n.prototype={toString:function(){return this.template},fillFromObject:function(e){return this.fill(function(t){return e[t]})}};var d=function(e,t,n,r,i){if(this.missing=[],this.missingMap={},this.formatValidators=e?Object.create(e.formatValidators):{},this.schemas=e?Object.create(e.schemas):{},this.collectMultiple=t,this.errors=[],this.handleError=t?this.collectError:this.returnError,r&&(this.checkRecursive=!0,this.scanned=[],this.scannedFrozen=[],this.scannedFrozenSchemas=[],this.scannedFrozenValidationErrors=[],this.validatedSchemasKey="tv4_validation_id",this.validationErrorsKey="tv4_validation_errors_id"),i&&(this.trackUnknownProperties=!0,this.knownPropertyPaths={},this.unknownPropertyPaths={}),this.errorReporter=n||u("en"),"string"==typeof this.errorReporter)throw new Error("debug");if(this.definedKeywords={},e)for(var o in e.definedKeywords)this.definedKeywords[o]=e.definedKeywords[o].slice(0)};d.prototype.defineKeyword=function(e,t){this.definedKeywords[e]=this.definedKeywords[e]||[],this.definedKeywords[e].push(t)},d.prototype.createError=function(e,t,n,r,i,o,s){var a=new l(e,t,n,r,i);return a.message=this.errorReporter(a,o,s),a},d.prototype.returnError=function(e){return e},d.prototype.collectError=function(e){return e&&this.errors.push(e),null},d.prototype.prefixErrors=function(e,t,n){for(var r=e;r<this.errors.length;r++)this.errors[r]=this.errors[r].prefixWith(t,n);return this},d.prototype.banUnknownProperties=function(e,t){for(var n in this.unknownPropertyPaths){var r=this.createError(v.UNKNOWN_PROPERTY,{path:n},n,"",null,e,t),i=this.handleError(r);if(i)return i}return null},d.prototype.addFormat=function(e,t){if("object"==typeof e){for(var n in e)this.addFormat(n,e[n]);return this}this.formatValidators[e]=t},d.prototype.resolveRefs=function(e,t){if(void 0!==e.$ref){if(t=t||{},t[e.$ref])return this.createError(v.CIRCULAR_REFERENCE,{urls:Object.keys(t).join(", ")},"","",null,void 0,e);t[e.$ref]=!0,e=this.getSchema(e.$ref,t)}return e},d.prototype.getSchema=function(e,t){var n;if(void 0!==this.schemas[e])return n=this.schemas[e],this.resolveRefs(n,t);var r=e,i="";if(-1!==e.indexOf("#")&&(i=e.substring(e.indexOf("#")+1),r=e.substring(0,e.indexOf("#"))),"object"==typeof this.schemas[r]){n=this.schemas[r];var o=decodeURIComponent(i);if(""===o)return this.resolveRefs(n,t);if("/"!==o.charAt(0))return void 0;for(var s=o.split("/").slice(1),a=0;a<s.length;a++){var u=s[a].replace(/~1/g,"/").replace(/~0/g,"~");if(void 0===n[u]){n=void 0;break}n=n[u]}if(void 0!==n)return this.resolveRefs(n,t)}void 0===this.missing[r]&&(this.missing.push(r),this.missing[r]=r,this.missingMap[r]=r)},d.prototype.searchSchemas=function(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++)this.searchSchemas(e[n],t);else if(e&&"object"==typeof e){"string"==typeof e.id&&c(t,e.id)&&void 0===this.schemas[e.id]&&(this.schemas[e.id]=e);for(var r in e)if("enum"!==r)if("object"==typeof e[r])this.searchSchemas(e[r],t);else if("$ref"===r){var i=s(e[r]);i&&void 0===this.schemas[i]&&void 0===this.missingMap[i]&&(this.missingMap[i]=i)}}},d.prototype.addSchema=function(e,t){if("string"!=typeof e||"undefined"==typeof t){if("object"!=typeof e||"string"!=typeof e.id)return;t=e,e=t.id}e===s(e)+"#"&&(e=s(e)),this.schemas[e]=t,delete this.missingMap[e],a(t,e),this.searchSchemas(t,e)},d.prototype.getSchemaMap=function(){var e={};for(var t in this.schemas)e[t]=this.schemas[t];return e},d.prototype.getSchemaUris=function(e){var t=[];for(var n in this.schemas)(!e||e.test(n))&&t.push(n);return t},d.prototype.getMissingUris=function(e){var t=[];for(var n in this.missingMap)(!e||e.test(n))&&t.push(n);return t},d.prototype.dropSchemas=function(){this.schemas={},this.reset()},d.prototype.reset=function(){this.missing=[],this.missingMap={},this.errors=[]},d.prototype.validateAll=function(e,t,n,r,i){var o;if(t=this.resolveRefs(t),!t)return null;if(t instanceof l)return this.errors.push(t),t;var s,a=this.errors.length,u=null,c=null;if(this.checkRecursive&&e&&"object"==typeof e){if(o=!this.scanned.length,e[this.validatedSchemasKey]){var p=e[this.validatedSchemasKey].indexOf(t);if(-1!==p)return this.errors=this.errors.concat(e[this.validationErrorsKey][p]),null}if(Object.isFrozen(e)&&(s=this.scannedFrozen.indexOf(e),-1!==s)){var h=this.scannedFrozenSchemas[s].indexOf(t);if(-1!==h)return this.errors=this.errors.concat(this.scannedFrozenValidationErrors[s][h]),null}if(this.scanned.push(e),Object.isFrozen(e))-1===s&&(s=this.scannedFrozen.length,this.scannedFrozen.push(e),this.scannedFrozenSchemas.push([])),u=this.scannedFrozenSchemas[s].length,this.scannedFrozenSchemas[s][u]=t,this.scannedFrozenValidationErrors[s][u]=[];else{if(!e[this.validatedSchemasKey])try{Object.defineProperty(e,this.validatedSchemasKey,{value:[],configurable:!0}),Object.defineProperty(e,this.validationErrorsKey,{value:[],configurable:!0})}catch(f){e[this.validatedSchemasKey]=[],e[this.validationErrorsKey]=[]}c=e[this.validatedSchemasKey].length,e[this.validatedSchemasKey][c]=t,e[this.validationErrorsKey][c]=[]}}var d=this.errors.length,m=this.validateBasic(e,t,i)||this.validateNumeric(e,t,i)||this.validateString(e,t,i)||this.validateArray(e,t,i)||this.validateObject(e,t,i)||this.validateCombinations(e,t,i)||this.validateHypermedia(e,t,i)||this.validateFormat(e,t,i)||this.validateDefinedKeywords(e,t,i)||null;if(o){for(;this.scanned.length;){var g=this.scanned.pop();delete g[this.validatedSchemasKey]}this.scannedFrozen=[],this.scannedFrozenSchemas=[]}if(m||d!==this.errors.length)for(;n&&n.length||r&&r.length;){var v=n&&n.length?""+n.pop():null,y=r&&r.length?""+r.pop():null;m&&(m=m.prefixWith(v,y)),this.prefixErrors(d,v,y)}return null!==u?this.scannedFrozenValidationErrors[s][u]=this.errors.slice(a):null!==c&&(e[this.validationErrorsKey][c]=this.errors.slice(a)),this.handleError(m)},d.prototype.validateFormat=function(e,t){if("string"!=typeof t.format||!this.formatValidators[t.format])return null;var n=this.formatValidators[t.format].call(null,e,t);return"string"==typeof n||"number"==typeof n?this.createError(v.FORMAT_CUSTOM,{message:n},"","/format",null,e,t):n&&"object"==typeof n?this.createError(v.FORMAT_CUSTOM,{message:n.message||"?"},n.dataPath||"",n.schemaPath||"/format",null,e,t):null},d.prototype.validateDefinedKeywords=function(e,t,n){for(var r in this.definedKeywords)if("undefined"!=typeof t[r])for(var i=this.definedKeywords[r],o=0;o<i.length;o++){var s=i[o],a=s(e,t[r],t,n);if("string"==typeof a||"number"==typeof a)return this.createError(v.KEYWORD_CUSTOM,{key:r,message:a},"","",null,e,t).prefixWith(null,r);if(a&&"object"==typeof a){var u=a.code;if("string"==typeof u){if(!v[u])throw new Error("Undefined error code (use defineError): "+u);u=v[u]}else"number"!=typeof u&&(u=v.KEYWORD_CUSTOM);var l="object"==typeof a.message?a.message:{key:r,message:a.message||"?"},c=a.schemaPath||"/"+r.replace(/~/g,"~0").replace(/\//g,"~1");return this.createError(u,l,a.dataPath||null,c,null,e,t)}}return null},d.prototype.validateBasic=function(e,t,n){var r;return(r=this.validateType(e,t,n))?r.prefixWith(null,"type"):(r=this.validateEnum(e,t,n))?r.prefixWith(null,"type"):null},d.prototype.validateType=function(e,t){if(void 0===t.type)return null;var n=typeof e;null===e?n="null":Array.isArray(e)&&(n="array");var r=t.type;Array.isArray(r)||(r=[r]);for(var i=0;i<r.length;i++){var o=r[i];if(o===n||"integer"===o&&"number"===n&&e%1===0)return null}return this.createError(v.INVALID_TYPE,{type:n,expected:r.join("/")},"","",null,e,t)},d.prototype.validateEnum=function(e,t){if(void 0===t["enum"])return null;for(var n=0;n<t["enum"].length;n++){var i=t["enum"][n];if(r(e,i))return null}return this.createError(v.ENUM_MISMATCH,{value:"undefined"!=typeof JSON?JSON.stringify(e):e},"","",null,e,t)},d.prototype.validateNumeric=function(e,t,n){return this.validateMultipleOf(e,t,n)||this.validateMinMax(e,t,n)||this.validateNaN(e,t,n)||null};var m=Math.pow(2,-51),g=1-m;d.prototype.validateMultipleOf=function(e,t){var n=t.multipleOf||t.divisibleBy;if(void 0===n)return null;if("number"==typeof e){var r=e/n%1;if(r>=m&&g>r)return this.createError(v.NUMBER_MULTIPLE_OF,{value:e,multipleOf:n},"","",null,e,t)}return null},d.prototype.validateMinMax=function(e,t){if("number"!=typeof e)return null;if(void 0!==t.minimum){if(e<t.minimum)return this.createError(v.NUMBER_MINIMUM,{value:e,minimum:t.minimum},"","/minimum",null,e,t);if(t.exclusiveMinimum&&e===t.minimum)return this.createError(v.NUMBER_MINIMUM_EXCLUSIVE,{value:e,minimum:t.minimum},"","/exclusiveMinimum",null,e,t)}if(void 0!==t.maximum){if(e>t.maximum)return this.createError(v.NUMBER_MAXIMUM,{value:e,maximum:t.maximum},"","/maximum",null,e,t);if(t.exclusiveMaximum&&e===t.maximum)return this.createError(v.NUMBER_MAXIMUM_EXCLUSIVE,{value:e,maximum:t.maximum},"","/exclusiveMaximum",null,e,t)}return null},d.prototype.validateNaN=function(e,t){return"number"!=typeof e?null:isNaN(e)===!0||e===1/0||e===-(1/0)?this.createError(v.NUMBER_NOT_A_NUMBER,{value:e},"","/type",null,e,t):null},d.prototype.validateString=function(e,t,n){return this.validateStringLength(e,t,n)||this.validateStringPattern(e,t,n)||null},d.prototype.validateStringLength=function(e,t){return"string"!=typeof e?null:void 0!==t.minLength&&e.length<t.minLength?this.createError(v.STRING_LENGTH_SHORT,{length:e.length,minimum:t.minLength},"","/minLength",null,e,t):void 0!==t.maxLength&&e.length>t.maxLength?this.createError(v.STRING_LENGTH_LONG,{length:e.length,maximum:t.maxLength},"","/maxLength",null,e,t):null},d.prototype.validateStringPattern=function(e,t){if("string"!=typeof e||"string"!=typeof t.pattern&&!(t.pattern instanceof RegExp))return null;var n;if(t.pattern instanceof RegExp)n=t.pattern;else{var r,i="",o=t.pattern.match(/^\/(.+)\/([img]*)$/);o?(r=o[1],i=o[2]):r=t.pattern,n=new RegExp(r,i)}return n.test(e)?null:this.createError(v.STRING_PATTERN,{pattern:t.pattern},"","/pattern",null,e,t)},d.prototype.validateArray=function(e,t,n){return Array.isArray(e)?this.validateArrayLength(e,t,n)||this.validateArrayUniqueItems(e,t,n)||this.validateArrayItems(e,t,n)||null:null},d.prototype.validateArrayLength=function(e,t){var n;return void 0!==t.minItems&&e.length<t.minItems&&(n=this.createError(v.ARRAY_LENGTH_SHORT,{
length:e.length,minimum:t.minItems},"","/minItems",null,e,t),this.handleError(n))?n:void 0!==t.maxItems&&e.length>t.maxItems&&(n=this.createError(v.ARRAY_LENGTH_LONG,{length:e.length,maximum:t.maxItems},"","/maxItems",null,e,t),this.handleError(n))?n:null},d.prototype.validateArrayUniqueItems=function(e,t){if(t.uniqueItems)for(var n=0;n<e.length;n++)for(var i=n+1;i<e.length;i++)if(r(e[n],e[i])){var o=this.createError(v.ARRAY_UNIQUE,{match1:n,match2:i},"","/uniqueItems",null,e,t);if(this.handleError(o))return o}return null},d.prototype.validateArrayItems=function(e,t,n){if(void 0===t.items)return null;var r,i;if(Array.isArray(t.items)){for(i=0;i<e.length;i++)if(i<t.items.length){if(r=this.validateAll(e[i],t.items[i],[i],["items",i],n+"/"+i))return r}else if(void 0!==t.additionalItems)if("boolean"==typeof t.additionalItems){if(!t.additionalItems&&(r=this.createError(v.ARRAY_ADDITIONAL_ITEMS,{},"/"+i,"/additionalItems",null,e,t),this.handleError(r)))return r}else if(r=this.validateAll(e[i],t.additionalItems,[i],["additionalItems"],n+"/"+i))return r}else for(i=0;i<e.length;i++)if(r=this.validateAll(e[i],t.items,[i],["items"],n+"/"+i))return r;return null},d.prototype.validateObject=function(e,t,n){return"object"!=typeof e||null===e||Array.isArray(e)?null:this.validateObjectMinMaxProperties(e,t,n)||this.validateObjectRequiredProperties(e,t,n)||this.validateObjectProperties(e,t,n)||this.validateObjectDependencies(e,t,n)||null},d.prototype.validateObjectMinMaxProperties=function(e,t){var n,r=Object.keys(e);return void 0!==t.minProperties&&r.length<t.minProperties&&(n=this.createError(v.OBJECT_PROPERTIES_MINIMUM,{propertyCount:r.length,minimum:t.minProperties},"","/minProperties",null,e,t),this.handleError(n))?n:void 0!==t.maxProperties&&r.length>t.maxProperties&&(n=this.createError(v.OBJECT_PROPERTIES_MAXIMUM,{propertyCount:r.length,maximum:t.maxProperties},"","/maxProperties",null,e,t),this.handleError(n))?n:null},d.prototype.validateObjectRequiredProperties=function(e,t){if(void 0!==t.required)for(var n=0;n<t.required.length;n++){var r=t.required[n];if(void 0===e[r]){var i=this.createError(v.OBJECT_REQUIRED,{key:r},"","/required/"+n,null,e,t);if(this.handleError(i))return i}}return null},d.prototype.validateObjectProperties=function(e,t,n){var r;for(var i in e){var o=n+"/"+i.replace(/~/g,"~0").replace(/\//g,"~1"),s=!1;if(void 0!==t.properties&&void 0!==t.properties[i]&&(s=!0,r=this.validateAll(e[i],t.properties[i],[i],["properties",i],o)))return r;if(void 0!==t.patternProperties)for(var a in t.patternProperties){var u=new RegExp(a);if(u.test(i)&&(s=!0,r=this.validateAll(e[i],t.patternProperties[a],[i],["patternProperties",a],o)))return r}if(s)this.trackUnknownProperties&&(this.knownPropertyPaths[o]=!0,delete this.unknownPropertyPaths[o]);else if(void 0!==t.additionalProperties){if(this.trackUnknownProperties&&(this.knownPropertyPaths[o]=!0,delete this.unknownPropertyPaths[o]),"boolean"==typeof t.additionalProperties){if(!t.additionalProperties&&(r=this.createError(v.OBJECT_ADDITIONAL_PROPERTIES,{key:i},"","/additionalProperties",null,e,t).prefixWith(i,null),this.handleError(r)))return r}else if(r=this.validateAll(e[i],t.additionalProperties,[i],["additionalProperties"],o))return r}else this.trackUnknownProperties&&!this.knownPropertyPaths[o]&&(this.unknownPropertyPaths[o]=!0)}return null},d.prototype.validateObjectDependencies=function(e,t,n){var r;if(void 0!==t.dependencies)for(var i in t.dependencies)if(void 0!==e[i]){var o=t.dependencies[i];if("string"==typeof o){if(void 0===e[o]&&(r=this.createError(v.OBJECT_DEPENDENCY_KEY,{key:i,missing:o},"","",null,e,t).prefixWith(null,i).prefixWith(null,"dependencies"),this.handleError(r)))return r}else if(Array.isArray(o))for(var s=0;s<o.length;s++){var a=o[s];if(void 0===e[a]&&(r=this.createError(v.OBJECT_DEPENDENCY_KEY,{key:i,missing:a},"","/"+s,null,e,t).prefixWith(null,i).prefixWith(null,"dependencies"),this.handleError(r)))return r}else if(r=this.validateAll(e,o,[],["dependencies",i],n))return r}return null},d.prototype.validateCombinations=function(e,t,n){return this.validateAllOf(e,t,n)||this.validateAnyOf(e,t,n)||this.validateOneOf(e,t,n)||this.validateNot(e,t,n)||null},d.prototype.validateAllOf=function(e,t,n){if(void 0===t.allOf)return null;for(var r,i=0;i<t.allOf.length;i++){var o=t.allOf[i];if(r=this.validateAll(e,o,[],["allOf",i],n))return r}return null},d.prototype.validateAnyOf=function(e,t,n){if(void 0===t.anyOf)return null;var r,i,o=[],s=this.errors.length;this.trackUnknownProperties&&(r=this.unknownPropertyPaths,i=this.knownPropertyPaths);for(var a=!0,u=0;u<t.anyOf.length;u++){this.trackUnknownProperties&&(this.unknownPropertyPaths={},this.knownPropertyPaths={});var l=t.anyOf[u],c=this.errors.length,p=this.validateAll(e,l,[],["anyOf",u],n);if(null===p&&c===this.errors.length){if(this.errors=this.errors.slice(0,s),this.trackUnknownProperties){for(var h in this.knownPropertyPaths)i[h]=!0,delete r[h];for(var f in this.unknownPropertyPaths)i[f]||(r[f]=!0);a=!1;continue}return null}p&&o.push(p.prefixWith(null,""+u).prefixWith(null,"anyOf"))}return this.trackUnknownProperties&&(this.unknownPropertyPaths=r,this.knownPropertyPaths=i),a?(o=o.concat(this.errors.slice(s)),this.errors=this.errors.slice(0,s),this.createError(v.ANY_OF_MISSING,{},"","/anyOf",o,e,t)):void 0},d.prototype.validateOneOf=function(e,t,n){if(void 0===t.oneOf)return null;var r,i,o=null,s=[],a=this.errors.length;this.trackUnknownProperties&&(r=this.unknownPropertyPaths,i=this.knownPropertyPaths);for(var u=0;u<t.oneOf.length;u++){this.trackUnknownProperties&&(this.unknownPropertyPaths={},this.knownPropertyPaths={});var l=t.oneOf[u],c=this.errors.length,p=this.validateAll(e,l,[],["oneOf",u],n);if(null===p&&c===this.errors.length){if(null!==o)return this.errors=this.errors.slice(0,a),this.createError(v.ONE_OF_MULTIPLE,{index1:o,index2:u},"","/oneOf",null,e,t);if(o=u,this.trackUnknownProperties){for(var h in this.knownPropertyPaths)i[h]=!0,delete r[h];for(var f in this.unknownPropertyPaths)i[f]||(r[f]=!0)}}else p&&s.push(p)}return this.trackUnknownProperties&&(this.unknownPropertyPaths=r,this.knownPropertyPaths=i),null===o?(s=s.concat(this.errors.slice(a)),this.errors=this.errors.slice(0,a),this.createError(v.ONE_OF_MISSING,{},"","/oneOf",s,e,t)):(this.errors=this.errors.slice(0,a),null)},d.prototype.validateNot=function(e,t,n){if(void 0===t.not)return null;var r,i,o=this.errors.length;this.trackUnknownProperties&&(r=this.unknownPropertyPaths,i=this.knownPropertyPaths,this.unknownPropertyPaths={},this.knownPropertyPaths={});var s=this.validateAll(e,t.not,null,null,n),a=this.errors.slice(o);return this.errors=this.errors.slice(0,o),this.trackUnknownProperties&&(this.unknownPropertyPaths=r,this.knownPropertyPaths=i),null===s&&0===a.length?this.createError(v.NOT_PASSED,{},"","/not",null,e,t):null},d.prototype.validateHypermedia=function(e,t,r){if(!t.links)return null;for(var i,o=0;o<t.links.length;o++){var s=t.links[o];if("describedby"===s.rel){for(var a=new n(s.href),u=!0,l=0;l<a.varNames.length;l++)if(!(a.varNames[l]in e)){u=!1;break}if(u){var c=a.fillFromObject(e),p={$ref:c};if(i=this.validateAll(e,p,[],["links",o],r))return i}}}};var v={INVALID_TYPE:0,ENUM_MISMATCH:1,ANY_OF_MISSING:10,ONE_OF_MISSING:11,ONE_OF_MULTIPLE:12,NOT_PASSED:13,NUMBER_MULTIPLE_OF:100,NUMBER_MINIMUM:101,NUMBER_MINIMUM_EXCLUSIVE:102,NUMBER_MAXIMUM:103,NUMBER_MAXIMUM_EXCLUSIVE:104,NUMBER_NOT_A_NUMBER:105,STRING_LENGTH_SHORT:200,STRING_LENGTH_LONG:201,STRING_PATTERN:202,OBJECT_PROPERTIES_MINIMUM:300,OBJECT_PROPERTIES_MAXIMUM:301,OBJECT_REQUIRED:302,OBJECT_ADDITIONAL_PROPERTIES:303,OBJECT_DEPENDENCY_KEY:304,ARRAY_LENGTH_SHORT:400,ARRAY_LENGTH_LONG:401,ARRAY_UNIQUE:402,ARRAY_ADDITIONAL_ITEMS:403,FORMAT_CUSTOM:500,KEYWORD_CUSTOM:501,CIRCULAR_REFERENCE:600,UNKNOWN_PROPERTY:1e3},y={};for(var b in v)y[v[b]]=b;var _={INVALID_TYPE:"Invalid type: {type} (expected {expected})",ENUM_MISMATCH:"No enum match for: {value}",ANY_OF_MISSING:'Data does not match any schemas from "anyOf"',ONE_OF_MISSING:'Data does not match any schemas from "oneOf"',ONE_OF_MULTIPLE:'Data is valid against more than one schema from "oneOf": indices {index1} and {index2}',NOT_PASSED:'Data matches schema from "not"',NUMBER_MULTIPLE_OF:"Value {value} is not a multiple of {multipleOf}",NUMBER_MINIMUM:"Value {value} is less than minimum {minimum}",NUMBER_MINIMUM_EXCLUSIVE:"Value {value} is equal to exclusive minimum {minimum}",NUMBER_MAXIMUM:"Value {value} is greater than maximum {maximum}",NUMBER_MAXIMUM_EXCLUSIVE:"Value {value} is equal to exclusive maximum {maximum}",NUMBER_NOT_A_NUMBER:"Value {value} is not a valid number",STRING_LENGTH_SHORT:"String is too short ({length} chars), minimum {minimum}",STRING_LENGTH_LONG:"String is too long ({length} chars), maximum {maximum}",STRING_PATTERN:"String does not match pattern: {pattern}",OBJECT_PROPERTIES_MINIMUM:"Too few properties defined ({propertyCount}), minimum {minimum}",OBJECT_PROPERTIES_MAXIMUM:"Too many properties defined ({propertyCount}), maximum {maximum}",OBJECT_REQUIRED:"Missing required property: {key}",OBJECT_ADDITIONAL_PROPERTIES:"Additional properties not allowed",OBJECT_DEPENDENCY_KEY:"Dependency failed - key must exist: {missing} (due to key: {key})",ARRAY_LENGTH_SHORT:"Array is too short ({length}), minimum {minimum}",ARRAY_LENGTH_LONG:"Array is too long ({length}), maximum {maximum}",ARRAY_UNIQUE:"Array items are not unique (indices {match1} and {match2})",ARRAY_ADDITIONAL_ITEMS:"Additional items not allowed",FORMAT_CUSTOM:"Format validation failed ({message})",KEYWORD_CUSTOM:"Keyword failed: {key} ({message})",CIRCULAR_REFERENCE:"Circular $refs: {urls}",UNKNOWN_PROPERTY:"Unknown property (not in schema)"};l.prototype=Object.create(Error.prototype),l.prototype.constructor=l,l.prototype.name="ValidationError",l.prototype.prefixWith=function(e,t){if(null!==e&&(e=e.replace(/~/g,"~0").replace(/\//g,"~1"),this.dataPath="/"+e+this.dataPath),null!==t&&(t=t.replace(/~/g,"~0").replace(/\//g,"~1"),this.schemaPath="/"+t+this.schemaPath),null!==this.subErrors)for(var n=0;n<this.subErrors.length;n++)this.subErrors[n].prefixWith(e,t);return this};var w={},E=p();return E.addLanguage("en-gb",_),E.tv4=E,E})},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t,n){(function(e,r){function i(e,t){this._id=e,this._clearFn=t}var o=n(2).nextTick,s=Function.prototype.apply,a=Array.prototype.slice,u={},l=0;t.setTimeout=function(){return new i(s.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new i(s.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},t.setImmediate="function"==typeof e?e:function(e){var n=l++,r=arguments.length<2?!1:a.call(arguments,1);return u[n]=!0,o(function(){u[n]&&(r?e.apply(null,r):e.call(null),t.clearImmediate(n))}),n},t.clearImmediate="function"==typeof r?r:function(e){delete u[e]}}).call(t,n(94).setImmediate,n(94).clearImmediate)},function(e,t,n){"use strict";function r(e,t,n,r){a("Connecting to "+e);var i="ws://"+e+"/signalk/stream/v1?stream=delta&context=self";if("undefined"!=typeof Primus){a("Using Primus");var o=Primus.connect(i,{reconnect:{maxDelay:15e3,minDelay:500,retries:1/0}});return o.on("data",t),{disconnect:function(){o.destroy(),a("Disconnected")}}}a("Using ws");var u=new s(i);return u.onopen=function(e){a("open");var t='{"context":"vessels.self","subscribe":[{"path":"*"}]}';u.send(t),n()},u.onerror=function(e){a("error:"+e)},u.onmessage=function(e){t(JSON.parse(e.data))},{disconnect:function(){u.close(),a("Disconnected")}}}function i(e){return new l(function(t,n){u.ajax("http://"+e+"/signalk/api/v1/vessels/self",t,n)})}function o(e){return i(e).then(function(e){var t=e.mmsi||e.uuid;if(t){var n="vessels."+t;return function(e){return"self"===e.context||"vessels.self"===e.context||e.context===n}}return function(e){return!0}})}var s=n(291),a=n(54)("signalk:ws"),u=n(96),l=n(162);e.exports={connectDelta:r,getSelf:i,getSelfMatcher:o}},function(e,t){"use strict";function n(){var e={};try{var t=window.localStorage.signalkGrid3;t&&(e=JSON.parse(t))}catch(n){console.error(n)}return e}e.exports={ajax:function(e,t,n,r){var i=new XMLHttpRequest;i.open("GET",e,!0),i.responseType="json",i.setRequestHeader("Content-Type","application/json"),i.onload=function(e){t(i.response)},i.onerror=n,i.send(r)},getUrlParameter:function(e){var t=new RegExp("[?&]"+encodeURIComponent(e)+"=([^&]*)").exec(window.location.search);return t?decodeURIComponent(t[1]):void 0},saveGrid:function(e,t){var r=n();r[e]=t,window.localStorage.setItem("signalkGrid3",JSON.stringify(r))},retrieveGrid:function(e){return n()[e]}}},function(e,t,n){"use strict";function r(e,t,n,r){h.call(this,e,t,n,r),this.options=t,this.widget=a.createElement(p,{key:e,value:n.getStream(t.path),label:this.getLabelForPath(t.path)})}function i(e){return"rotate("+e+" "+l+" "+l+")"}function o(e,t){return a.createElement("text",{key:90*t,x:l,y:.06*u*.8,textAnchor:"middle",fontSize:.07*u+"px",transform:i(90*t)},e)}function s(e,t){return a.createElement("text",{key:90*t+45,x:l,y:.045*u*.8,textAnchor:"middle",fontSize:.03*u+"px",transform:i(90*t+45)},e)}var a=n(1),u=400,l=u/2,c=["navigation.courseOverGroundTrue","navigation.courseOverGroundMagnetic"],p=a.createClass({displayName:"componentClass",getInitialState:function(){return{value:10,label:this.props.label}},renderTicks:function(){for(var e,t=[],n=0;180>n;n+=5)e=n%10==0?.1*l:.07*l,n%45!=0&&t.push(a.createElement("path",{key:n,d:["M",l,"0 L",l,e,"M",l,u-e,"L",l,u].join(" "),strokeWidth:"1",transform:i(n)}));return t},renderDirName:function(){var e=this.state.value,t={0:"North",1:"North by East",2:"North Northeast",3:"Northeast by North",4:"Northeast",5:"Northeast by East",6:"East Northeast",7:"East by North",8:"East",9:"East by South",10:"East Southeast",11:"Southeast by East",12:"Southeast",13:"Southeast by South",14:"South Southeast",15:"South by East",16:"South",17:"South by West",18:"South Southwest",19:"Southwest by South",20:"Southwest",21:"Southwest by West",22:"West Southwest",23:"West by South",24:"West",25:"West by North",26:"West Northwest",27:"Northwest by West",28:"Northwest",29:"Northwest by North",30:"North Northwest",31:"North by West"};return e=Math.round(e/11.25),t[e]},renderRoseStyle1:function(){return a.createElement("g",null,a.createElement("g",{transform:"scale(1.25) translate(-40 -40)"},a.createElement("g",{id:"layer1",fill:"none",strokeWidth:"1",stroke:"black"},a.createElement("path",{d:"M 190,190 200,65 210,190"}),a.createElement("path",{d:"M 190,190 110,200 190,210"}),a.createElement("path",{d:"M 210,190 290,200 210,210"}),a.createElement("path",{d:"M 190,210 200,290 210,210"}),a.createElement("path",{d:"M 200,65 200,290"}),a.createElement("path",{d:"M 110,200 290,200"})),a.createElement("g",{id:"layer2",fill:"none",strokeWidth:"1",stroke:"black",transform:"rotate(45 200 200) translate(50 50) scale(0.75)"},a.createElement("path",{d:"M 190,190 200,110 210,190"}),a.createElement("path",{d:"M 190,190 110,200 190,210"}),a.createElement("path",{d:"M 210,190 290,200 210,210"}),a.createElement("path",{d:"M 190,210 200,290 210,210"}),a.createElement("path",{d:"M 200,110 200,290"}),a.createElement("path",{d:"M 110,200 290,200"})),a.createElement("g",{id:"layer3",fill:"none",strokeWidth:"1",stroke:"black",transform:"rotate(25 200 200) translate(100 100) scale(0.5)"},a.createElement("path",{d:"M 190,190 200,110 210,190"}),a.createElement("path",{d:"M 190,190 110,200 190,210"}),a.createElement("path",{d:"M 210,190 290,200 210,210"}),a.createElement("path",{d:"M 190,210 200,290 210,210"}),a.createElement("path",{d:"M 200,110 200,290"}),a.createElement("path",{d:"M 110,200 290,200"})),a.createElement("g",{id:"layer4",fill:"none",strokeWidth:"1",stroke:"black",transform:"rotate(-25 200 200) translate(100 100) scale(0.5)"},a.createElement("path",{d:"M 190,190 200,110 210,190"}),a.createElement("path",{d:"M 190,190 110,200 190,210"}),a.createElement("path",{d:"M 210,190 290,200 210,210"}),a.createElement("path",{d:"M 190,210 200,290 210,210"}),a.createElement("path",{d:"M 200,110 200,290"}),a.createElement("path",{d:"M 110,200 290,200"})),a.createElement("circle",{cx:"200",cy:"200",r:"30",fill:"white",stroke:"black",strokeWidth:"1"}),a.createElement("circle",{cx:"200",cy:"200",r:"25",fill:"white",stroke:"black",strokeWidth:"1"}),a.createElement("circle",{cx:"200",cy:"200",r:"20",fill:"white",stroke:"black",strokeWidth:"1"})),a.createElement("text",{x:"200",y:"350",textAnchor:"middle",fontSize:"38"},this.state.value))},renderRoseStyle2:function(){return a.createElement("g",{id:"layer1",fill:"none",strokeWidth:"0",stroke:"none",transform:"translate(200,200) scale(1.25)"},a.createElement("path",{d:"M -7.701 -7.071 0 -150 7.071 -7.071 100 0 7.071 7.071 0 100 -7.071 7.071 -100 0 Z",fill:"url(#g1)"}),a.createElement("path",{d:"M -53.033 -53.033 0 -10 53.033 -53.033 10 0 53.033 53.033 0 10 -53.033 53.033 -10 0 Z",fill:"url(#g1)"}),a.createElement("path",{d:"M -46.194 -19.134 -7.071 -7.071 -19.134 -46.194 0 -10 19.134 -46.194 7.071 -7.071 46.194 -19.134 10 0 46.194 19.134 7.071 7.071 19.314 46.194 0 10 -19.314 46.194 -7.071 7.071 -46.194 19.134 -10 0 Z",fill:"url(#g1)"}))},renderGradient:function(){return a.createElement("svg",{dangerouslySetInnerHTML:{__html:'  <linearGradient id="g1">    <stop offset="0%" stop-color="rgba(10,10,40,0.5)" />    <stop offset="100%" stop-color="rgba(200,240,200,0.5)" />  </linearGradient>'}})},render:function(){return a.createElement("svg",{height:"100%",width:"100%",viewBox:"0 0 400 400"},this.renderGradient(),a.createElement("g",{transform:"scale(0.8) translate(50 50)"},a.createElement("g",{stroke:"black",transform:i(-this.state.value)},this.renderTicks(),f,d,this.renderRoseStyle2())),a.createElement("text",{x:"200",y:"24",textAnchor:"middle",fontSize:"20"},this.state.label),a.createElement("text",{x:"200",y:"325",textAnchor:"middle",fontSize:"28"},this.state.value.toFixed(2)),a.createElement("text",{x:"200",y:"390",textAnchor:"middle",fontSize:"20"},this.renderDirName()),a.createElement("polygon",{points:"200,60 195,90 205,90",fill:"url(#g1)"}),a.createElement("polygon",{points:"200,60 195,80 205,80",fill:"url(#g1)",transform:"rotate(45 200 200)"}),a.createElement("polygon",{points:"200,60 195,80 205,80",fill:"url(#g1)",transform:"rotate(315 200 200)"}))},componentDidMount:function(){this.props.value&&(this.unsubscribe=this.props.value.onValue(function(e){this.setState({value:e,label:this.state.label})}.bind(this)))},componentWillUnmount:function(){this.unsubscribe&&this.unsubscribe()}}),h=n(40);n(39).inherits(r,h),r.prototype.getReactElement=function(){return this.widget},r.prototype.getType=function(){return"compass"},r.prototype.getHandledPaths=function(){return[this.options.path]},r.prototype.getOptions=function(){return this.options};var f=["N","E","S","W"].map(o),d=["NE","SE","SW","NW"].map(s);e.exports={constructor:r,type:"compass",paths:c}},function(e,t,n){var r,i,o;(function(e){(function(){var s,a,u=[].slice;a=function(e){var t,n,r,i,o,s,a,l,c,p,h,f;return s=function(e){return e},c=function(e){return e.length>0},i=function(e,t,n){var r,i,o;for(i=0,o=e.length;o>i;i++)r=e[i],t=n(t,r);return t},l=function(t){return t instanceof e.Property},o=0,a=1,r=function(e,t){return e===t},p=function(e){return function(t,n){return!t.initial&&e(t.value,n.value)}},n=e.Model=function(i){var o,u,l,c,d,m,g,v;return d=a++,u=r,m=0,c=new e.Bus,g=new e.Bus,o=void 0,v=e.update({initial:!0},[c],function(e,t){var n,r,i,o,s,a;return a=e.value,s=t.source,r=t.f,o=r(a),i=[d],n=o!==a,{source:s,value:o,modStack:i,changed:n}},[g],function(e,t){return t}).skipDuplicates(p(u)).changes().toProperty(),l=v.map(".value").skipDuplicates(u),l.dispatcher.subscribe(function(e){return e.hasValue()?o=e.value():void 0}),l.id||(l.id=d),l.addSyncSource=function(t){return g.plug(t.filter(function(t){return t.changed&&!e._.contains(t.modStack,d)}).doAction(function(){return e.Model.syncCount++}).map(function(e){return h(e,"modStack",e.modStack.concat([d]))}).map(function(e){return f.set(e,l.syncConverter(f.get(e)))}))},l.apply=function(e){return c.plug(e.toEventStream().map(function(t){return{source:e,f:t}})),v.changes().filter(function(t){return t.source!==e}).map(function(e){return e.value})},l.addSource=function(e){return l.apply(e.map(function(e){return function(){return e}}))},l.modify=function(t){return l.apply(e.once(t))},l.set=function(e){return l.modify(function(){return e})},l.get=function(){return o},l.syncEvents=function(){return v.toEventStream()},l.bind=function(e){return this.addSyncSource(e.syncEvents()),e.addSyncSource(this.syncEvents())},l.lens=function(e){var r;return e=t(e),r=n(),this.addSyncSource(l.sampledBy(r.syncEvents(),function(t,n){return f.set(n,e.set(t,n.value))})),r.addSyncSource(this.syncEvents().map(function(t){return f.set(t,e.get(t.value))})),r},l.syncConverter=s,arguments.length>=1&&l.set(i),l},e.Model.syncCount=0,n.combine=function(e){var r,i,o,s,a,u;if("object"!=typeof e)return n(e);if(l(e))return e;r=e instanceof Array?[]:{},a=n(r);for(i in e)u=e[i],o=t.objectLens(i),s=a.lens(o),s.bind(n.combine(u));return a},e.Binding=function(t){var n,r,i,o,s,a,u;return o=t.initValue,i=t.get,n=t.events,u=t.set,s=n.map(i),null!=o?u(o):o=i(),a=e.Model(o),r=a.addSource(s),r.assign(u),a},t=e.Lens=function(e){return"object"==typeof e?e:t.objectLens(e)},t.id=t({get:function(e){return e},set:function(e,t){return t}}),t.objectLens=function(n){var r,i;return i=function(e){return t({get:function(t){return null!=t?t[e]:void 0},set:function(t,n){return h(t,e,n)}})},r=e._.filter(c,n.split(".")),t.compose.apply(t,e._.map(i,r))},t.compose=function(){var e,n;return e=1<=arguments.length?u.call(arguments,0):[],n=function(e,n){return t({get:function(t){return n.get(e.get(t))},set:function(t,r){var i,o;return i=e.get(t),o=n.set(i,r),e.set(t,o)}})},i(e,t.id,n)},f=t.objectLens("value"),h=function(e,t,n){var r,i,o;r=e instanceof Array?[]:{};for(i in e)o=e[i],r[i]=o;return null!=t&&(r[t]=n),r},e},"undefined"!=typeof e&&null!==e?(s=n(35),e.exports=a(s)):(i=[n(35)],r=a,o="function"==typeof r?r.apply(t,i):r,!(void 0!==o&&(e.exports=o)))}).call(this)}).call(t,n(93)(e))},function(e,t){e.exports={type:"object",$schema:"http://json-schema.org/draft-03/schema",id:"https://signalk.github.io/specification/schemas/def_loader.json#",title:"def_loader",description:"Nasty hack to get the definitions loaded first, so they resolve nicely",properties:{stringValue:{$ref:"definitions.json#/definitions/stringValue"},floatValue:{$ref:"definitions.json#/definitions/floatValue"},nullValue:{$ref:"definitions.json#/definitions/nullValue"},alarmValue:{$ref:"definitions.json#/definitions/alarmValue"},alarmMethod:{$ref:"definitions.json#/definitions/alarmMethod"}}}},function(e,t){e.exports={type:"object",$schema:"http://json-schema.org/draft-03/schema",id:"https://signalk.github.io/specification/schemas/def_loader.json#",title:"def_loader",description:"Nasty hack to get the definitions loaded first, so they resolve nicely",properties:{source:{$ref:"definitions.json#/definitions/source"},timestamp:{$ref:"definitions.json#/definitions/timestamp"},version:{$ref:"definitions.json#/definitions/version"},number:{$ref:"definitions.json#/definitions/numberValue"},mmsi:{$ref:"definitions.json#/definitions/mmsi"},uuid:{$ref:"definitions.json#/definitions/uuid"}}}},function(e,t){e.exports={type:"object",id:"https://signalk.github.io/specification/schemas/groups/alarms.json#",title:"alarms",description:"Alarms, their state, and actions. The alarm limits are set in any Signal K key.meta.zones array.",required:!1,properties:{alarmMethod:{description:"Method to use to raise alarms",$ref:"../definitions.json#/definitions/alarmMethod"},alarmState:{description:"Current alarm state",$ref:"../definitions.json#/definitions/alarmValue"},message:{description:"Message to display or speak",type:"string"},timestamp:{description:"timestamp of the last update to this data",$ref:"../definitions.json#/definitions/timestamp"},source:{description:"Source of this data",$ref:"../definitions.json#/definitions/source"}}}},function(e,t){e.exports={type:"object",$schema:"http://json-schema.org/draft-03/schema",id:"https://signalk.github.io/specification/schemas/groups/communication.json#",description:"Schema describing the communication child-object of a Vessel.",title:"communication",properties:{callsignDsc:{type:"string",description:"Callsign for DSC communication",example:"ZL1234"},callsignHf:{type:"string",description:"Callsign for HF communication",example:"ZL3RTH"},callsignVhf:{type:"string",description:"Callsign for VHF communication",example:"ZM2038"},cellPhone:{type:"string",description:"Cellphone number of skipper",example:"+64xxxxxx"},emailHf:{type:"string",description:"Email address to be used for HF email (Winmail, Airmail, Sailmail)",example:"motu@xxx.co.nz"},email:{type:"string",description:"Regular email for the skipper",example:"robert@xxx.co.nz"},satPhone:{type:"string",description:"Satellite phone number for vessel.",example:"+64xxxxxx"},skipperName:{type:"string",description:"Full name of the skipper of the vessel.",example:"Fabian Tollenaar"},crewNames:{type:"array",description:"Array with the names of the crew",additionalProperties:[{type:"string",description:"Name of a crew member of the vessel.",example:"Catherine"}]}}}},function(e,t){e.exports={type:"object",$schema:"http://json-schema.org/draft-03/schema",id:"https://signalk.github.io/specification/schemas/groups/electrical_ac.json#",description:"Schema describing electric measurements pertaining to shore power, AC generators, etc.",title:"AC Electrical Properties",properties:{bus1:{type:"object",title:"Bus #1",description:"Main AC power bus on the vessel",properties:{phaseA:{type:"object",title:"Bus #1, Phase A",properties:{timestamp:{$ref:"../definitions.json#/definitions/timestamp"},source:{$ref:"../definitions.json#/definitions/source"},lineLineVoltage:{type:"integer",description:"RMS voltage measured between bus phase A and phase B.",units:"Vrms",minimum:0,maximum:64255,example:480},lineNeutralVoltage:{type:"integer",description:"RMS voltage measured between bus phase A and neutral.",units:"Vrms",minimum:0,maximum:64255,example:277},frequency:{type:"number",description:"Bus phase A frequency.",units:"Hz",minimum:0,maximum:501.9921875,example:60}}},phaseB:{type:"object",title:"Bus #1, Phase B",properties:{timestamp:{$ref:"../definitions.json#/definitions/timestamp"},source:{$ref:"../definitions.json#/definitions/source"},lineLineVoltage:{type:"integer",description:"RMS voltage measured between bus phase B and phase C.",units:"Vrms",minimum:0,maximum:64255,example:480},lineNeutralVoltage:{type:"integer",description:"RMS voltage measured between bus phase B and neutral.",units:"Vrms",minimum:0,maximum:64255,example:277},frequency:{type:"number",description:"Bus phase B frequency.",units:"Hz",minimum:0,maximum:501.9921875,example:60}}},phaseC:{type:"object",title:"Bus #1, Phase C",properties:{timestamp:{$ref:"../definitions.json#/definitions/timestamp"},source:{$ref:"../definitions.json#/definitions/source"},lineLineVoltage:{type:"integer",description:"RMS voltage measured between bus phase C and phase A.",units:"Vrms",minimum:0,maximum:64255,example:480},lineNeutralVoltage:{type:"integer",description:"RMS voltage measured between bus phase C and neutral.",units:"Vrms",minimum:0,maximum:64255,example:277},frequency:{type:"number",description:"Bus phase C frequency.",units:"Hz",minimum:0,maximum:501.9921875,example:60}}},average:{type:"object",title:"Bus #1, Average",properties:{timestamp:{$ref:"../definitions.json#/definitions/timestamp"},source:{$ref:"../definitions.json#/definitions/source"},lineLineVoltage:{type:"integer",description:"Average RMS voltage measured between two hot legs of a 3-phase or split-phase bus.",units:"Vrms",minimum:0,maximum:64255,example:480},lineNeutralVoltage:{type:"integer",description:"Average RMS voltage measured between any hot leg and neutral in a 3-phase, split-phase, or single phase bus.",units:"Vrms",minimum:0,maximum:64255,example:277},frequency:{type:"number",description:"Average frequency of the bus.",units:"Hz",minimum:0,maximum:501.9921875,example:60}}}}},utility:{type:"object",title:"Utility (Shore Power)",description:"Vessel's shore power connection",properties:{phaseA:{type:"object",title:"Utility, Phase A",properties:{timestamp:{$ref:"../definitions.json#/definitions/timestamp"},source:{$ref:"../definitions.json#/definitions/source"},lineLineVoltage:{type:"integer",description:"RMS voltage measured between utility phase A and phase B.",units:"Vrms",minimum:0,maximum:64255,example:480},lineNeutralVoltage:{type:"integer",description:"RMS voltage measured between utility phase A and neutral.",units:"Vrms",minimum:0,maximum:64255,example:277},frequency:{type:"number",description:"Utility phase A frequency.",units:"Hz",minimum:0,maximum:501.9921875,example:60},reactivePower:{type:"object",title:"Reactive power",properties:{timestamp:{$ref:"../definitions.json#/definitions/timestamp"},source:{$ref:"../definitions.json#/definitions/source"},reactivePower:{type:"integer",description:"Utility phase A reactive power",units:"VAr",minimum:-2e9,maximum:2211081215,example:5e3},powerFactor:{type:"number",description:"Utility phase A power factor",minimum:-1,maximum:1,example:.97},powerFactorLagging:{"enum":["leading","lagging","error","not available"],description:"Utility phase A lead/lag status.",example:"Leading"}}},realPower:{type:"object",title:"Real Power",properties:{timestamp:{$ref:"../definitions.json#/definitions/timestamp"},source:{$ref:"../definitions.json#/definitions/source"},realPower:{type:"number",description:"Utility phase A real power.",units:"W",minimum:-2e9,maximum:2211081215,example:10500},apparentPower:{type:"number",description:"Utility phase A apparent power.",units:"VA",minimum:-2e9,maximum:2211081215,example:10500}}}}},phaseB:{type:"object",title:"Utility, Phase B",properties:{timestamp:{$ref:"../definitions.json#/definitions/timestamp"},source:{$ref:"../definitions.json#/definitions/source"},lineLineVoltage:{type:"integer",description:"RMS voltage measured between utility phase B and phase C.",units:"Vrms",minimum:0,maximum:64255,example:480},lineNeutralVoltage:{type:"integer",description:"RMS voltage measured between utility phase B and neutral.",units:"Vrms",minimum:0,maximum:64255,example:277},frequency:{type:"number",description:"Utility phase B frequency.",units:"Hz",minimum:0,maximum:501.9921875,example:60},reactivePower:{type:"object",title:"Reactive power",properties:{timestamp:{$ref:"../definitions.json#/definitions/timestamp"},source:{$ref:"../definitions.json#/definitions/source"},reactivePower:{type:"integer",description:"Utility phase B reactive power",units:"VAr",minimum:-2e9,maximum:2211081215,example:5e3},powerFactor:{type:"number",description:"Utility phase B power factor",minimum:-1,maximum:1,example:.97},powerFactorLagging:{"enum":["leading","lagging","error","not available"],description:"Utility phase B lead/lag status.",example:"Leading"}}},realPower:{type:"object",title:"Real Power",properties:{timestamp:{$ref:"../definitions.json#/definitions/timestamp"},source:{$ref:"../definitions.json#/definitions/source"},realPower:{type:"number",description:"Utility phase B real power.",units:"W",minimum:-2e9,maximum:2211081215,example:10500},apparentPower:{type:"number",description:"Utility phase B apparent power.",
units:"VA",minimum:-2e9,maximum:2211081215,example:10500}}}}},phaseC:{type:"object",title:"Utility, Phase C",properties:{timestamp:{$ref:"../definitions.json#/definitions/timestamp"},source:{$ref:"../definitions.json#/definitions/source"},lineLineVoltage:{type:"integer",description:"RMS voltage measured between utility phase C and phase A.",units:"Vrms",minimum:0,maximum:64255,example:480},lineNeutralVoltage:{type:"integer",description:"RMS voltage measured between utility phase C and neutral.",units:"Vrms",minimum:0,maximum:64255,example:277},frequency:{type:"number",description:"Utility phase C frequency.",units:"Hz",minimum:0,maximum:501.9921875,example:60},reactivePower:{type:"object",title:"Reactive power",properties:{timestamp:{$ref:"../definitions.json#/definitions/timestamp"},source:{$ref:"../definitions.json#/definitions/source"},reactivePower:{type:"integer",description:"Utility phase C reactive power",units:"VAr",minimum:-2e9,maximum:2211081215,example:5e3},powerFactor:{type:"number",description:"Utility phase C power factor",minimum:-1,maximum:1,example:.97},powerFactorLagging:{"enum":["leading","lagging","error","not available"],description:"Utility phase C lead/lag status.",example:"Leading"}}},realPower:{type:"object",title:"Real Power",properties:{timestamp:{$ref:"../definitions.json#/definitions/timestamp"},source:{$ref:"../definitions.json#/definitions/source"},realPower:{type:"number",description:"Utility phase C real power.",units:"W",minimum:-2e9,maximum:2211081215,example:10500},apparentPower:{type:"number",description:"Utility phase C apparent power.",units:"VA",minimum:-2e9,maximum:2211081215,example:10500}}}}},average:{type:"object",title:"Utility, Average",properties:{timestamp:{$ref:"../definitions.json#/definitions/timestamp"},source:{$ref:"../definitions.json#/definitions/source"},lineLineVoltage:{type:"integer",description:"Average RMS voltage measured between two hot legs of a 3-phase or split-phase utility connection.",units:"Vrms",minimum:0,maximum:64255,example:480},lineNeutralVoltage:{type:"integer",description:"Average RMS voltage measured between any hot leg and neutral in a 3-phase, split-phase, or single phase utility connection.",units:"Vrms",minimum:0,maximum:64255,example:277},frequency:{type:"number",description:"Average frequency of the utility connection.",units:"Hz",minimum:0,maximum:501.9921875,example:60}}},energy:{type:"object",title:"Utility, Energy Totals",properties:{timestamp:{$ref:"../definitions.json#/definitions/timestamp"},source:{$ref:"../definitions.json#/definitions/source"},totalExport:{type:"integer",description:"Total kilowatt hours exported by the utility",units:"kWh",minimum:0,maximum:4211081215,example:12e3},totalImport:{type:"integer",description:"Total kilowatt hours imported by the utility",units:"kWh",minimum:0,maximum:4211081215,example:12e3}}},reactivePower:{type:"object",title:"Utility, Reactive Power",properties:{timestamp:{$ref:"../definitions.json#/definitions/timestamp"},source:{$ref:"../definitions.json#/definitions/source"},reactivePower:{type:"integer",description:"In a normally operating system, the reactive power will be less than half the real power. In order to allow for fault conditions, it is desirable to have the same range for reactive power as for real power. Reactive power is a signed quantity, like real power.",units:"VAr",minimum:-2e9,maximum:2211081215,example:5e3},powerFactor:{type:"number",description:"Average power factor for utility.",minimum:-1,maximum:1,example:.97},powerFactorLagging:{"enum":["Leading","Lagging","Error","Not Available"],description:"Lead/lag status for utility.",example:"Leading"}}},realPower:{type:"object",title:"Utility, Real Power",properties:{timestamp:{$ref:"../definitions.json#/definitions/timestamp"},source:{$ref:"../definitions.json#/definitions/source"},realPower:{type:"number",description:"Total real power delivered by the utility. Real power must be signed since power may flow in both directions.",units:"W",minimum:-2e9,maximum:2211081215,example:10500},apparentPower:{type:"number",description:"Total apparent power delivered by the utility. This is an unsigned quantity, but is delivered signed in order to have an equivalent range to real power.",units:"VA",minimum:-2e9,maximum:2211081215,example:10500}}}}},generator:{type:"object",title:"Generator",description:"Vessel's generator",properties:{phaseA:{type:"object",title:"Generator, Phase A",properties:{timestamp:{$ref:"../definitions.json#/definitions/timestamp"},source:{$ref:"../definitions.json#/definitions/source"},lineLineVoltage:{type:"integer",description:"RMS voltage measured between generator phase A and phase B.",units:"Vrms",minimum:0,maximum:64255,example:480},lineNeutralVoltage:{type:"integer",description:"RMS voltage measured between generator phase A and neutral.",units:"Vrms",minimum:0,maximum:64255,example:277},frequency:{type:"number",description:"Generator phase A frequency.",units:"Hz",minimum:0,maximum:501.9921875,example:60},reactivePower:{type:"object",title:"Reactive power",properties:{timestamp:{$ref:"../definitions.json#/definitions/timestamp"},source:{$ref:"../definitions.json#/definitions/source"},reactivePower:{type:"integer",description:"Generator phase A reactive power",units:"VAr",minimum:-2e9,maximum:2211081215,example:5e3},powerFactor:{type:"number",description:"Generator phase A power factor",minimum:-1,maximum:1,example:.97},powerFactorLagging:{"enum":["leading","lagging","error","not available"],description:"Generator phase A lead/lag status.",example:"Leading"}}},realPower:{type:"object",title:"Real Power",properties:{timestamp:{$ref:"../definitions.json#/definitions/timestamp"},source:{$ref:"../definitions.json#/definitions/source"},realPower:{type:"number",description:"Generator phase A real power.",units:"W",minimum:-2e9,maximum:2211081215,example:10500},apparentPower:{type:"number",description:"Generator phase A apparent power.",units:"VA",minimum:-2e9,maximum:2211081215,example:10500}}}}},phaseB:{type:"object",title:"Generator, Phase B",properties:{timestamp:{$ref:"../definitions.json#/definitions/timestamp"},source:{$ref:"../definitions.json#/definitions/source"},lineLineVoltage:{type:"integer",description:"RMS voltage measured between generator phase B and phase C.",units:"Vrms",minimum:0,maximum:64255,example:480},lineNeutralVoltage:{type:"integer",description:"RMS voltage measured between generator phase B and neutral.",units:"Vrms",minimum:0,maximum:64255,example:277},frequency:{type:"number",description:"Generator phase B frequency.",units:"Hz",minimum:0,maximum:501.9921875,example:60},reactivePower:{type:"object",title:"Reactive power",properties:{timestamp:{$ref:"../definitions.json#/definitions/timestamp"},source:{$ref:"../definitions.json#/definitions/source"},reactivePower:{type:"integer",description:"Generator phase B reactive power",units:"VAr",minimum:-2e9,maximum:2211081215,example:5e3},powerFactor:{type:"number",description:"Generator phase B power factor",minimum:-1,maximum:1,example:.97},powerFactorLagging:{"enum":["leading","lagging","error","not available"],description:"Generator phase B lead/lag status.",example:"Leading"}}},realPower:{type:"object",title:"Real Power",properties:{timestamp:{$ref:"../definitions.json#/definitions/timestamp"},source:{$ref:"../definitions.json#/definitions/source"},realPower:{type:"number",description:"Generator phase B real power.",units:"W",minimum:-2e9,maximum:2211081215,example:10500},apparentPower:{type:"number",description:"Generator phase B apparent power.",units:"VA",minimum:-2e9,maximum:2211081215,example:10500}}}}},phaseC:{type:"object",title:"Generator, Phase C",properties:{timestamp:{$ref:"../definitions.json#/definitions/timestamp"},source:{$ref:"../definitions.json#/definitions/source"},lineLineVoltage:{type:"integer",description:"RMS voltage measured between generator phase C and phase A.",units:"Vrms",minimum:0,maximum:64255,example:480},lineNeutralVoltage:{type:"integer",description:"RMS voltage measured between generator phase C and neutral.",units:"Vrms",minimum:0,maximum:64255,example:277},frequency:{type:"number",description:"Generator phase C frequency.",units:"Hz",minimum:0,maximum:501.9921875,example:60},reactivePower:{type:"object",title:"Reactive power",properties:{timestamp:{$ref:"../definitions.json#/definitions/timestamp"},source:{$ref:"../definitions.json#/definitions/source"},reactivePower:{type:"integer",description:"Generator phase C reactive power",units:"VAr",minimum:-2e9,maximum:2211081215,example:5e3},powerFactor:{type:"number",description:"Generator phase C power factor",minimum:-1,maximum:1,example:.97},powerFactorLagging:{"enum":["leading","lagging","error","not available"],description:"Generator phase C lead/lag status.",example:"Leading"}}},realPower:{type:"object",title:"Real Power",properties:{timestamp:{$ref:"../definitions.json#/definitions/timestamp"},source:{$ref:"../definitions.json#/definitions/source"},realPower:{type:"number",description:"Generator phase C real power.",units:"W",minimum:-2e9,maximum:2211081215,example:10500},apparentPower:{type:"number",description:"Generator phase C apparent power.",units:"VA",minimum:-2e9,maximum:2211081215,example:10500}}}}},average:{type:"object",title:"Generator, Average",properties:{timestamp:{$ref:"../definitions.json#/definitions/timestamp"},source:{$ref:"../definitions.json#/definitions/source"},lineLineVoltage:{type:"integer",description:"Average RMS voltage measured between two hot legs of a 3-phase or split-phase generator.",units:"Vrms",minimum:0,maximum:64255,example:480},lineNeutralVoltage:{type:"integer",description:"Average RMS voltage measured between any hot leg and neutral in a 3-phase, split-phase, or single phase generator.",units:"Vrms",minimum:0,maximum:64255,example:277},frequency:{type:"number",description:"Average frequency of the generator output.",units:"Hz",minimum:0,maximum:501.9921875,example:60}}},energy:{type:"object",title:"Generator, Energy Totals",properties:{timestamp:{$ref:"../definitions.json#/definitions/timestamp"},source:{$ref:"../definitions.json#/definitions/source"},totalExport:{type:"integer",description:"Total kilowatt hours exported by the generator",units:"kWh",minimum:0,maximum:4211081215,example:12e3},totalImport:{type:"integer",description:"Total kilowatt hours imported by the generator",units:"kWh",minimum:0,maximum:4211081215,example:12e3}}},reactivePower:{type:"object",title:"Generator, Reactive Power",properties:{timestamp:{$ref:"../definitions.json#/definitions/timestamp"},source:{$ref:"../definitions.json#/definitions/source"},reactivePower:{type:"integer",description:"In a normally operating system, the reactive power will be less than half the real power. In order to allow for fault conditions, it is desirable to have the same range for reactive power as for real power. Reactive power is a signed quantity, like real power.",units:"VAr",minimum:-2e9,maximum:2211081215,example:5e3},powerFactor:{type:"number",description:"Average power factor for the generator.",minimum:-1,maximum:1,example:.97},powerFactorLagging:{"enum":["Leading","Lagging","Error","Not Available"],description:"Lead/lag status for the generator.",example:"Leading"}}},realPower:{type:"object",title:"Generator, Real Power",properties:{timestamp:{$ref:"../definitions.json#/definitions/timestamp"},source:{$ref:"../definitions.json#/definitions/source"},realPower:{type:"number",description:"Total real power delivered by the generator. Real power must be signed since power may flow in both directions.",units:"W",minimum:-2e9,maximum:2211081215,example:10500},apparentPower:{type:"number",description:"Total apparent power delivered by the generator. This is an unsigned quantity, but is delivered signed in order to have an equivalent range to real power.",units:"VA",minimum:-2e9,maximum:2211081215,example:10500}}}}}}}},function(e,t){e.exports={$schema:"http://json-schema.org/draft-04/schema",id:"https://signalk.github.io/specification/schemas/groups/electrical_dc.json#",description:"Schema describing the electrical child-object of a Vessel.",title:"DC Electrical Properties",definitions:{identity:{type:"object",title:"Electrical ID",description:" Common ID items shared by electrical items",required:["name"],properties:{name:{type:"string",description:"Unique ID of device (houseBattery, alternator, Generator, solar1, inverterCharger, Combiner1, etc.)"},location:{type:"string",description:"Installed location of device on vessel"},manufacturerName:{type:"string",description:"Manufacturer's name"},manufacturerModel:{type:"string",description:"Model or part number"},dateInstalled:{type:"string",description:"Date device was installed"}}},dcSource:{type:"object",title:"DC Source",description:"DC power source common values",properties:{associatedBus:{type:"string",description:"Name of BUS source is associated with (if applicable, may = NULL)"},voltage:{type:"object",properties:{measured:{type:"object",description:"Measured voltage of DC Source terminals",properties:{value:{type:"number"},source:{type:"string"},timestamp:{type:"string"}}},nominal:{type:"number",description:"Designed 'voltage' of battery (12v, 24v, 32v, 36v, 42v, 48v, 144v, etc.)"},warnUpper:{type:"number",description:"Upper operational voltage limit"},warnLower:{type:"number",description:"Lower operational voltage limit"},faultUpper:{type:"number",description:"Upper fault limit of battery voltage - BMS may disconnect battery"},faultLower:{type:"number",description:"Lower fault limit of battery voltage - BMS may disconnect battery"}}},current:{type:"object",properties:{measured:{type:"object",description:"Measured amperage being '+' provided (or '-' consumed) by DC source",properties:{value:{type:"number"},source:{type:"string"},timestamp:{type:"string"}}},warnUpper:{type:"number",description:"Upper operational current limit"},warnLower:{type:"number",description:"Lower operational current limit"},faultUpper:{type:"number",description:"Upper fault limit of battery current - BMS may disconnect battery"},faultLower:{type:"number",description:"Lower fault limit of battery current - BMS may disconnect battery"}}},temperature:{type:"object",title:"temperature",properties:{measured:{type:"object",description:"Temperature of device, in degrees Celsius",properties:{value:{type:"number"},source:{type:"string"},timestamp:{type:"string"}}},warnUpper:{type:"number",description:"Upper operational temperature limit"},warnLower:{type:"number",description:"Lower operational temperature limit"},faultUpper:{type:"number",description:"Upper fault limit of temperature - device may disable"},faultLower:{type:"number",description:"Lower fault limit of temperature  - device may disable"}}}}},acSource:{type:"object",title:"AC Source",description:"AC power source common values",properties:{associatedBus:{type:"string",description:"Name of BUS source is assocated with (if applicable, may = NULL)"},voltage:{type:"object",properties:{measured:{type:"object",description:"Measured voltage at AC Source terminals",properties:{value:{type:"number"},source:{type:"string"},timestamp:{type:"string"}}}}}}}},type:"object",properties:{battery:{type:"object",title:"Battery",description:"Batteries, one or many, within the vessel",required:["ID"],properties:{ID:{$ref:"#/definitions/identity"},DC:{$ref:"#/definitions/dcSource"},mode:{type:"string",description:"Operational mode of battery","enum":["charging bulk","charging acceptance","charging overcharge","charging float","charging equalize","discharging","unknown","other"]},chemistry:{type:"string",description:"Type of battery FLA, LiFePO4, etc."},temperature:{type:"object",title:"temperature",description:"Additional / unique temperatures associated with a battery",properties:{limitDischargeLower:{type:"number",description:"Operational minimum temperature limit for battery discharge, in degrees Celsius"},limitDischargeUpper:{type:"number",description:"Operational maximum temperature limit for battery discharge, in degrees Celsius"},limitRechargeLower:{type:"number",description:"Operational minimum temperature limit for battery recharging, in degrees Celsius"},limitRechargeUpper:{type:"number",description:"Operational maximum temperature limit for battery recharging, in degrees Celsius"}}},capacity:{type:"object",title:"capacity",properties:{nominal:{type:"number",description:"The watt-hour capacity of battery as specified by the manufacturer"},actual:{type:"number",description:"The measured watt-hour capacity of battery. This may change over time and will likely deviate from the nominal capacity."},remaining:{type:"number",description:"Watt-hours remaining in battery"},dischargeLimit:{type:"number",description:"Minimum number of watt-hours to be left in the battery while discharging"}}},lifetimeDischarge:{type:"number",description:"Cumulative kWh discharged from battery over operational lifetime of battery"},lifetimeRecharge:{type:"number",description:"Cumulative kWh recharged into battery over operational lifetime of battery"}}},inverter:{type:"object",title:"Inverter",description:"DC to AC inverter, one or many, within the vessel",required:["ID"],properties:{ID:{$ref:"#/definitions/identity"},DC:{$ref:"#/definitions/dcSource"},AC:{$ref:"#/definitions/acSource"},mode:{type:"string",description:"Operational mode of Inverter","enum":["idle","inverting","disabled","standby","faulted","unknown","other"]}}}}}},function(e,t){e.exports={type:"object",$schema:"http://json-schema.org/draft-03/schema",id:"https://signalk.github.io/specification/schemas/groups/performance.json#",description:"Schema describing the performance child-object of a Vessel.",title:"performance",properties:{polarSpeed:{description:"The current polar speed in m/s based on current polar, trueWindSpeed and truewindAngle.",$ref:"../definitions.json#/definitions/numberValue"},polarSpeedPercent:{description:"The percentage of current speed through water to the polar speed.",$ref:"../definitions.json#/definitions/numberValue"},velocityMadeGood:{description:"The current velocity made good in m/s derived from the speed through water and appearant wind angle. A positive value is heading to upwind, negative to downwind.",$ref:"../definitions.json#/definitions/numberValue"},velocityMadeGoodToWaypoint:{description:"The current velocity made good in m/s to the next waypoint derived from the speedOverGround, courseOverGround.",$ref:"../definitions.json#/definitions/numberValue"},beatAngle:{description:"The true wind beat angle for the best velocity made good based on current current polar and trueWindSpeed.",$ref:"../definitions.json#/definitions/numberValue"},beatAngleVelocityMadeGood:{description:"The velocity made good in m/s for the beat angle.",$ref:"../definitions.json#/definitions/numberValue"},beatAngleTargetSpeed:{description:"The target speed in m/s for the beat angle.",$ref:"../definitions.json#/definitions/numberValue"},gybeAngle:{description:"The true wind gybe angle for the best velocity made good downwind based on current polar and trueWindSpeed.",$ref:"../definitions.json#/definitions/numberValue"},gybeAngleVelocityMadeGood:{description:"The velocity made good in m/s for the gybe angle",$ref:"../definitions.json#/definitions/numberValue"},gybeAngleTargetSpeed:{description:"The target speed in m/s for the gybe angle.",$ref:"../definitions.json#/definitions/numberValue"},leeway:{description:"Current leeway in degrees.",$ref:"../definitions.json#/definitions/numberValue"},tackMagnetic:{description:"Magnetic heading on opposite tack.",$ref:"../definitions.json#/definitions/numberValue"},tackTrue:{description:"True heading on opposite tack.",$ref:"../definitions.json#/definitions/numberValue"}}}},function(e,t){e.exports={type:"object",$schema:"http://json-schema.org/draft-03/schema",id:"https://signalk.github.io/specification/schemas/groups/sails.json#",description:"An object describing the vessels sails if the vessel is a sailboat.",title:"sails",properties:{available:{type:"object",description:"An object containing a description of each sail available to the vessel crew",patternProperties:{"(^[a-zA-Z0-9]$)":{description:"Each sail is identified by a unique name, containing only alphanumeric characters.",$ref:"../definitions.json#/definitions/sail"}}},area:{type:"object",description:"An object containing information about the area of the sails.",properties:{total:{description:"The total area of all sails on the vessel, measured in square meters.",type:"number"},active:{description:"The total area of the sails currently in use on the vessel, measured in square meters.",type:"number"},timestamp:{description:"timestamp of the last update to this data",$ref:"#/definitions/timestamp"},source:{description:"Source of this data",$ref:"#/definitions/source"}}}}}},function(e,t){e.exports={$schema:"http://json-schema.org/draft-04/schema#",id:"/",type:"object",title:"Subscribe schema.",description:"A message to allow a client to subscribe for data updates from a signalk server",name:"/",properties:{context:{id:"context",type:"string",title:"Context Path.",description:"The root path for all subsequent paths, usually a vessel's path.",name:"context",example:"vessels.230099999"},"websocket.connectionkey":{id:"websocket.connectionkey",type:"string",title:"Websocket.connectionkey.",description:"An optional session key that is used in STOMP and MQTT messages where there are no session facilities",name:"websocket.connectionkey",example:"d2f691ac-a5ed-4cb7-b361-9072a24ce6bc"},"reply-to":{id:"reply-to",type:"string",title:"Reply-to.",description:"A reply queue that is used in STOMP and MQTT messages where there are no session facilities.",name:"reply-to",example:"signalk.3202a939-1681-4a74-ad4b-3a90212e4f33.vessels.motu.navigation"},subscribe:{id:"subscribe",type:"array",title:"Subscribe.",description:"An array of paths to subscribe to, with optional criteria",name:"subscribe",items:[{type:"object",title:"Path object.",description:"A path object with optional criteria to control output",properties:{path:{id:"path",type:"string",title:"Path.",description:"The path to subscribe to.",name:"path",example:"navigation.speedThroughWater"},period:{id:"period",type:"integer",title:"Period.",description:"The subscription will be sent every period millisecs.",name:"period","default":1e3},format:{id:"format",type:"string",title:"Format.",description:"The signal K format to use (full/delta) for the message.",name:"format","default":"delta"},policy:{id:"policy",type:"string",title:"Policy schema.",description:"The policy for sending messages (instant/ideal/fixed).",name:"policy","default":"ideal"},minPeriod:{id:"minPeriod",type:"integer",title:"MinPeriod.",description:"If policy=immediate or ideal, consequetive messages will be buffered until minPeriod has expired so the reciever is not swamped.",name:"minPeriod","default":200}}}]}},required:["context","subscribe"]}},function(e,t){e.exports={$schema:"http://json-schema.org/draft-04/schema#",id:"/",type:"object",title:"Unsubscribe schema.",description:"A message to allow a client to unsubscribe from data updates from a signalk server",name:"/",properties:{context:{id:"context",type:"string",title:"Context Path.",description:"The root path for all subsequent paths, usually a vessel's path.",name:"context",example:"vessels.230099999"},"websocket.connectionkey":{id:"websocket.connectionkey",type:"string",title:"Websocket.connectionkey.",description:"An optional session key that is used in STOMP and MQTT messages where there are no session facilities",name:"websocket.connectionkey",example:"d2f691ac-a5ed-4cb7-b361-9072a24ce6bc"},"reply-to":{id:"reply-to",type:"string",title:"Reply-to.",description:"A reply queue that is used in STOMP and MQTT messages where there are no session facilities.",name:"reply-to",example:"signalk.3202a939-1681-4a74-ad4b-3a90212e4f33.vessels.motu.navigation"},unsubscribe:{id:"unsubscribe",type:"array",title:"Unsubscribe.",description:"An array of paths to unsubscribe from.",name:"unsubscribe",items:[{type:"object",title:"Path object.",description:"A path object with optional criteria to control output",properties:{path:{id:"path",type:"string",title:"Path.",description:"The path to subscribe to.",name:"path",example:"navigation.speedThroughWater"},period:{id:"period",type:"integer",title:"Period.",description:"The subscription will be sent every period millisecs.",name:"period","default":1e3},format:{id:"format",type:"string",title:"Format.",description:"The signal K format to use (full/delta) for the message.",name:"format","default":"delta"},policy:{id:"policy",type:"string",title:"Policy schema.",description:"The policy for sending messages (instant/ideal/fixed).",name:"policy","default":"ideal"},minPeriod:{id:"minPeriod",type:"integer",title:"MinPeriod.",description:"If policy=immediate or ideal, consequetive messages will be buffered until minPeriod has expired so the reciever is not swamped.",name:"minPeriod","default":200}}}]}},required:["context","unsubscribe"]}},function(e,t,n){var r=n(1),i=n(43),o=n(72),s={propTypes:{offset:r.PropTypes.number,offsetTop:r.PropTypes.number,offsetBottom:r.PropTypes.number},getInitialState:function(){return{affixClass:"affix-top"}},getPinnedOffset:function(e){return this.pinnedOffset?this.pinnedOffset:(e.className=e.className.replace(/affix-top|affix-bottom|affix/,""),e.className+=e.className.length?" affix":"affix",this.pinnedOffset=i.getOffset(e).top-window.pageYOffset,this.pinnedOffset)},checkPosition:function(){var e,t,n,r,o,s,a,u,l;this.isMounted()&&(e=this.getDOMNode(),t=document.documentElement.offsetHeight,n=window.pageYOffset,r=i.getOffset(e),"top"===this.affixed&&(r.top+=n),o=null!=this.props.offsetTop?this.props.offsetTop:this.props.offset,s=null!=this.props.offsetBottom?this.props.offsetBottom:this.props.offset,(null!=o||null!=s)&&(null==o&&(o=0),null==s&&(s=0),a=null!=this.unpin&&n+this.unpin<=r.top?!1:null!=s&&r.top+e.offsetHeight>=t-s?"bottom":null!=o&&o>=n?"top":!1,this.affixed!==a&&(null!=this.unpin&&(e.style.top=""),u="affix"+(a?"-"+a:""),this.affixed=a,this.unpin="bottom"===a?this.getPinnedOffset(e):null,"bottom"===a&&(e.className=e.className.replace(/affix-top|affix-bottom|affix/,"affix-bottom"),l=t-s-e.offsetHeight-i.getOffset(e).top),this.setState({affixClass:u,affixPositionTop:l}))))},checkPositionWithEventLoop:function(){setTimeout(this.checkPosition,0)},componentDidMount:function(){this._onWindowScrollListener=o.listen(window,"scroll",this.checkPosition),this._onDocumentClickListener=o.listen(document,"click",this.checkPositionWithEventLoop)},componentWillUnmount:function(){this._onWindowScrollListener&&this._onWindowScrollListener.remove(),this._onDocumentClickListener&&this._onDocumentClickListener.remove()},componentDidUpdate:function(e,t){t.affixClass===this.state.affixClass&&this.checkPositionWithEventLoop()}};e.exports=s},function(e,t){function n(e,t){var n=e.querySelectorAll("."+t.join("."));n=[].map.call(n,function(e){return e});for(var r=0;r<t.length;r++)if(!e.className.match(new RegExp("\\b"+t[r]+"\\b")))return n;return n.unshift(e),n}e.exports={_fadeIn:function(){var e;this.isMounted()&&(e=n(this.getDOMNode(),["fade"]),e.length&&e.forEach(function(e){e.className+=" in"}))},_fadeOut:function(){var e=n(this._fadeOutEl,["fade","in"]);e.length&&e.forEach(function(e){e.className=e.className.replace(/\bin\b/,"")}),setTimeout(this._handleFadeOutEnd,300)},_handleFadeOutEnd:function(){this._fadeOutEl&&this._fadeOutEl.parentNode&&this._fadeOutEl.parentNode.removeChild(this._fadeOutEl)},componentDidMount:function(){document.querySelectorAll&&setTimeout(this._fadeIn,20)},componentWillUnmount:function(){var e=n(this.getDOMNode(),["fade"]),t=this.props.container&&this.props.container.getDOMNode()||document.body;e.length&&(this._fadeOutEl=document.createElement("div"),t.appendChild(this._fadeOutEl),this._fadeOutEl.appendChild(this.getDOMNode().cloneNode(!0)),setTimeout(this._fadeOut,20))}}},function(e,t,n){"use strict";var r=n(1),i=n(12),o=n(73),s=/\%\((.+?)\)s/,a=r.createClass({displayName:"Interpolate",propTypes:{format:r.PropTypes.string},getDefaultProps:function(){return{component:"span"}},render:function(){var e=i.hasValidComponent(this.props.children)||"string"==typeof this.props.children?this.props.children:this.props.format,t=this.props.component,n=this.props.unsafe===!0,a=o({},this.props);if(delete a.children,delete a.format,delete a.component,delete a.unsafe,n){var u=e.split(s).reduce(function(e,t,n){var i;if(n%2===0?i=t:(i=a[t],delete a[t]),r.isValidElement(i))throw new Error("cannot interpolate a React component into unsafe text");return e+=i},"");return a.dangerouslySetInnerHTML={__html:u},r.createElement(t,a)}var l=e.split(s).reduce(function(e,t,n){var r;if(n%2===0){if(0===t.length)return e;r=t}else r=a[t],delete a[t];return e.push(r),e},[]);return r.createElement(t,a,l)}});e.exports=a},function(e,t,n){var r=n(1),i=n(4),o=n(5),s=n(6),a=r.createClass({displayName:"NavItem",mixins:[s],propTypes:{onSelect:r.PropTypes.func,active:r.PropTypes.bool,disabled:r.PropTypes.bool,href:r.PropTypes.string,title:r.PropTypes.string,eventKey:r.PropTypes.any,target:r.PropTypes.string},getDefaultProps:function(){return{href:"#"}},render:function(){var e=this.props,t=e.disabled,n=e.active,s=e.href,a=e.title,u=e.target,l=e.children,c=function(e,t){var n={},r=Object.prototype.hasOwnProperty;if(null==e)throw new TypeError;for(var i in e)r.call(e,i)&&!r.call(t,i)&&(n[i]=e[i]);return n}(e,{disabled:1,active:1,href:1,title:1,target:1,children:1}),p={active:n,disabled:t};return r.createElement("li",r.__spread({},c,{className:i(c.className,o(p))}),r.createElement("a",{href:s,title:a,target:u,onClick:this.handleClick,ref:"anchor"},l))},handleClick:function(e){this.props.onSelect&&(e.preventDefault(),this.props.disabled||this.props.onSelect(this.props.eventKey,this.props.href,this.props.target))}});e.exports=a},function(e,t,n){var r=n(1),i=n(4),o=n(5),s=n(11),a=n(6),u=n(12),l=r.createClass({displayName:"PanelGroup",mixins:[a],propTypes:{collapsable:r.PropTypes.bool,activeKey:r.PropTypes.any,defaultActiveKey:r.PropTypes.any,onSelect:r.PropTypes.func},getDefaultProps:function(){return{bsClass:"panel-group"}},getInitialState:function(){var e=this.props.defaultActiveKey;return{activeKey:e}},render:function(){var e=this.getBsClassSet();return r.createElement("div",r.__spread({},this.props,{className:i(this.props.className,o(e)),onSelect:null}),u.map(this.props.children,this.renderPanel))},renderPanel:function(e,t){var n=null!=this.props.activeKey?this.props.activeKey:this.state.activeKey,r={bsStyle:e.props.bsStyle||this.props.bsStyle,key:e.key?e.key:t,ref:e.ref};return this.props.accordion&&(r.collapsable=!0,r.expanded=e.props.eventKey===n,r.onSelect=this.handleSelect),s(e,r)},shouldComponentUpdate:function(){return!this._isChanging},handleSelect:function(e){this.props.onSelect&&(this._isChanging=!0,this.props.onSelect(e),this._isChanging=!1),this.state.activeKey===e&&(e=null),this.setState({activeKey:e})}});e.exports=l},function(e,t,n){"use strict";var r=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},i=n(1),o=n(205),s=n(44),a=n(75),u=n(115),l=i.createClass({displayName:"ReactGridLayout",mixins:[a,u],propTypes:{autoSize:i.PropTypes.bool,cols:i.PropTypes.number,handle:i.PropTypes.string,layout:function(e,t,n){var r=e.layout;void 0!==r&&s.validateLayout(r,"layout")},layouts:function(e,t,n){if(e.layouts)throw new Error("ReactGridLayout does not use `layouts`: Use ReactGridLayout.Responsive.")},margin:i.PropTypes.array,rowHeight:i.PropTypes.number,isDraggable:i.PropTypes.bool,isResizable:i.PropTypes.bool,useCSSTransforms:i.PropTypes.bool,onLayoutChange:i.PropTypes.func,children:function(e,t,n){i.PropTypes.node.apply(this,arguments);var r=e[t],o={};i.Children.forEach(r,function(e,t,n){if(o[e.key])throw new Error("Duplicate child key found! This will cause problems in ReactGridLayout.");
o[e.key]=!0})}},getDefaultProps:function(){return{autoSize:!0,cols:12,rowHeight:150,layout:[],margin:[10,10],isDraggable:!0,isResizable:!0,useCSSTransforms:!0,onLayoutChange:function(){}}},getInitialState:function(){return{layout:s.synchronizeLayoutWithChildren(this.props.layout,this.props.children,this.props.cols),width:this.props.initialWidth,activeDrag:null}},componentDidMount:function(){this.props.onLayoutChange(this.state.layout)},componentWillReceiveProps:function(e){e.width!==this.props.width&&this.onWidthChange(e.width),e.children.length!==this.props.children.length&&this.setState({layout:s.synchronizeLayoutWithChildren(this.state.layout,e.children,e.cols)}),e.layout&&JSON.stringify(e.layout)!==JSON.stringify(this.state.layout)&&this.setState({layout:s.synchronizeLayoutWithChildren(e.layout,e.children,e.cols)})},componentDidUpdate:function(e,t){this.state.layout===t.layout||this.state.activeDrag||this.props.onLayoutChange(this.state.layout,this.state.layouts)},containerHeight:function(){return this.props.autoSize?s.bottom(this.state.layout)*this.props.rowHeight+this.props.margin[1]+"px":void 0},onWidthChange:function(e){this.setState({width:e})},onDragStart:function(e,t,n){n.element,n.position},onDrag:function(e,t,n){var r=this.state.layout,i=s.getLayoutItem(r,e),o={w:i.w,h:i.h,x:i.x,y:i.y,placeholder:!0,i:e};r=s.moveElement(r,i,t,n,!0),this.setState({layout:s.compact(r),activeDrag:o})},onDragStop:function(e,t,n){var r=this.state.layout,i=s.getLayoutItem(r,e);r=s.moveElement(r,i,t,n,!0),this.setState({layout:s.compact(r),activeDrag:null})},onResize:function(e,t,n){var r=this.state.layout,i=s.getLayoutItem(r,e);i.w=t,i.h=n;var o={w:t,h:n,x:i.x,y:i.y,placeholder:!0,i:e};this.setState({layout:s.compact(r),activeDrag:o})},onResizeStop:function(e,t){t.element,t.position;this.setState({activeDrag:null,layout:s.compact(this.state.layout)})},placeholder:function(){return this.state.activeDrag?i.createElement(o,{w:this.state.activeDrag.w,h:this.state.activeDrag.h,x:this.state.activeDrag.x,y:this.state.activeDrag.y,i:this.state.activeDrag.i,isPlaceholder:!0,className:"react-grid-placeholder",containerWidth:this.state.width,cols:this.props.cols,margin:this.props.margin,rowHeight:this.props.rowHeight,isDraggable:!1,isResizable:!1,useCSSTransforms:this.props.useCSSTransforms},i.createElement("div",null)):""},processGridItem:function(e){var t,n,r=e.key,a=s.getLayoutItem(this.state.layout,r),u=this.state.activeDrag,l=u&&u.i===r?!1:!0;return(a["static"]||this.props.isDraggable===!1)&&(t=!1),(a["static"]||this.props.isResizable===!1)&&(n=!1),i.createElement(o,i.__spread({containerWidth:this.state.width,cols:this.props.cols,margin:this.props.margin,rowHeight:this.props.rowHeight,moveOnStartChange:l,handle:this.props.handle,onDragStop:this.onDragStop,onDragStart:this.onDragStart,onDrag:this.onDrag,onResize:this.onResize,onResizeStop:this.onResizeStop,isDraggable:t,isResizable:n,useCSSTransforms:this.props.useCSSTransforms},a),e)},render:function(){var e=this.props.className,t=r(this.props,["className"]);return e="react-grid-layout "+(e||""),i.createElement("div",i.__spread({},t,{className:e,style:{height:this.containerHeight()}}),i.Children.map(this.props.children,this.processGridItem),this.placeholder())}});e.exports=l},function(e,t,n){"use strict";var r=n(1),i={propTypes:{initialWidth:r.PropTypes.number,listenToWindowResize:r.PropTypes.bool},getDefaultProps:function(){return{initialWidth:1280,listenToWindowResize:!0}},componentDidMount:function(){this.props.listenToWindowResize&&(window.addEventListener("resize",this.onWindowResize),this.onWindowResize(),this.onWindowResize())},componentWillUnmount:function(){window.removeEventListener("resize",this.onWindowResize)},onWindowResize:function(){this.onWidthChange(this.getDOMNode().offsetWidth)}};e.exports=i},function(e,t){"use strict";function n(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=Object.assign||function(e,t){for(var r,i,o=n(e),s=1;s<arguments.length;s++){r=arguments[s],i=Object.keys(Object(r));for(var a=0;a<i.length;a++)o[i[a]]=r[i[a]]}return o}},function(e,t,n){"use strict";function r(e,t){var n=e.left,r=e.top;return{width:n+t[0],height:r+t[1]}}function i(e,t){return e?e.map(function(e){return e-t}):void 0}var o=n(1),s=n(216),a=n(116),u=n(46),l=n(50);e.exports=o.createClass({displayName:"Resizable",mixins:[u],propTypes:{children:o.PropTypes.element,onResizeStop:o.PropTypes.func,onResizeStart:o.PropTypes.func,onResize:o.PropTypes.func,width:o.PropTypes.number.isRequired,height:o.PropTypes.number.isRequired,handleSize:o.PropTypes.array,draggableOpts:o.PropTypes.object},getDefaultProps:function(){return{handleSize:[20,20]}},minConstraints:function(){return i(this.props.minConstraints,this.props.handleSize[0])||this.props.handleSize},maxConstraints:function(){return i(this.props.maxConstraints,this.props.handleSize[1])},resizeHandler:function(e){var t=this;return function(n,i){var o=i.element,s=i.position;t.props[e]&&t.props[e](n,{element:o,size:r(s,t.props.handleSize)})}},render:function(){var e=this.props;return l(e.children,a({},e,{children:[e.children.props.children,o.createElement(s,o.__spread({},e.draggableOpts,{start:{x:e.width-20,y:e.height-20},moveOnStartChange:!0,onStop:this.resizeHandler("onResizeStop"),onStart:this.resizeHandler("onResizeStart"),onDrag:this.resizeHandler("onResize"),minConstraints:this.minConstraints(),maxConstraints:this.maxConstraints()}),o.createElement("span",{className:"react-resizable-handle"}))]}))}})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(){this.buses={},this.streams={},this.pathValues=new i.Bus}var i=n(35);r.prototype.push=function(e){this.pathValues.push(e),this.getBus(e.path).push(e.value)},r.prototype.getBus=function(e){var t=this.buses[e];return t||(t=this.buses[e]=new i.Bus,this.streams[e]=t.debounceImmediate(200)),t},r.prototype.getStream=function(e){var t=this.streams[e];if(!t){var n=this.buses[e]=new i.Bus;t=this.streams[e]=n.debounceImmediate(200)}return t},e.exports=r},function(e,t,n){"use strict";var r=n(28),i=n(1),o=n(64),s=r.Table,a=(r.tr,r.td,i.createClass({displayName:"DataItemList",getInitialState:function(){return{activeKey:1}},render:function(){return i.createElement("div",{className:"widgetlist"},i.createElement(s,{striped:!0,bordered:!0,condensed:!0,hover:!0},i.createElement("tbody",null,o.pairs(this.props.instrumentPanel.widgetsByPath).map(function(e,t){return i.createElement("tr",{key:t},i.createElement("td",null,e[0]),i.createElement("td",null,e[1].getType()),i.createElement("td",{style:{height:"16vh",width:"16vw"}},e[1].getReactElement()))}))))},handleSelect:function(e){this.setState({activeKey:e})}}));e.exports=a},function(e,t,n){"use strict";var r=n(28),i=n(1),o=r.Input,s=i.createClass({displayName:"GridJson",mixins:[n(154)],getInitialState:function(){return{serializable:"foo"}},render:function(){return i.createElement(o,{type:"textarea",label:"",placeholder:"",rows:"20",value:JSON.stringify(this.state.serializable,null,2)})}});e.exports=s},function(e,t,n){"use strict";function r(e){return h.find(function(t){return t.paths.some(function(t){return new RegExp("^"+t+"$").test(e)})})}function i(e){this.streamBundle=e,this.widgetsByPath={},this.widgets=[],this.layout=[],this.gridSettingsModel=new o.Model(""),this.pushGridChanges(),this.isSelf=function(){return!0}}var o=n(35),s=(n(98),{}),a=n(96),u=n(95),l=n(42),c={};for(var p in l.properties)"object"==typeof l.properties[p]&&(c[p]=!0);var h=[n(53),n(97),n(161),n(159),n(158)];h.forEach(function(e){s[e.type]=e});var f=n(53).constructor;n(97).constructor;i.prototype.pushGridChanges=function(){this.gridSettingsModel.set({layout:this.layout,activeWidgets:this.getActiveWidgets(),serializable:this.serializableSettings()})},i.prototype.dispatch=function(e){var t=this;this.isSelf(e)&&e.updates.forEach(function(e){e.values.forEach(function(e){c[e.path.split(".")[0]]&&t.pushValue(e)})})},i.prototype.pushValue=function(e){this.handlePossiblyNewPath(e),this.streamBundle.push.call(this.streamBundle,e)},i.prototype.handlePossiblyNewPath=function(e){if(!this.widgetsByPath[e.path]){var t=r(e.path)||h[0],n=new t.constructor(this.widgets.length,{path:e.path,active:!0},this.streamBundle,this);n.getHandledPaths().forEach(function(e){this.widgetsByPath[e]=n},this),this.widgets.push(n),this.layout.push({w:2,h:2,x:0,y:0,i:this.layout.length}),this.pushGridChanges()}},i.prototype.setWidgetData=function(e){if(e){this.layout=e.layout,this.widgets=e.widgets.map(this.deserializeWidget.bind(this)),this.widgetsByPath={};var t=this;this.widgets.forEach(function(e){e.instrumentPanel=t,e.getHandledPaths().forEach(function(t){this.widgetsByPath[t]=e},this)},this),this.pushGridChanges()}},i.prototype.deserializeWidget=function(e,t){var n=s[e.type];if(!n)return console.error("Could not find widget for "+JSON.stringify(e)),new f(t,{path:"error"},this.streamBundle);"undefined"==typeof e.options.active&&(e.options.active=!0);var r=new n.constructor(t,e.options,this.streamBundle,this);return r},i.prototype.onLayoutChange=function(e){this.layout=e,this.persist()},i.prototype.onWidgetChange=function(e){this.pushGridChanges()},i.prototype.persist=function(e){a.saveGrid(this.host,this.serializableSettings())},i.prototype.getActiveWidgets=function(){var e=this.widgets.filter(function(e){return e.options.active}).map(function(e){return e.getReactElement()});return e},i.prototype.serializableSettings=function(){return{layout:this.layout,widgets:this.widgets.map(function(e){return{type:e.getType(),options:e.getOptions()}})}},i.prototype.connected=function(e){var t=this;u.getSelfMatcher(e).then(function(e){t.isSelf=e})["catch"](function(e){console.log(e)}),this.host=e,a.getUrlParameter("useGridFromServer")?a.ajax("layouts/"+e.split(":")[0]+".json",this.setWidgetData.bind(this),function(e){console.log(e)}):this.setWidgetData(a.retrieveGrid(e))},e.exports=i},function(e,t,n){"use strict";var r=n(28),i=(r.Navbar,r.Nav,r.NavItem,r.DropdownButton,r.MenuItem,r.Button),o=r.ButtonGroup,s=r.Input,a=(r.OverlayTrigger,r.CollapsibleNav,r.Tooltip,n(54)("signalk:instrumentPanel")),u=n(204),l=n(1),c=n(95),p=l.createClass({displayName:"IpNavBar",getInitialState:function(){try{var e=JSON.parse(window.localStorage.signalKHosts)}catch(t){a("error:"+t)}var n={hosts:e||[],host:window.localStorage.signalKLastHost||location.host,connecting:!1,connected:!1};return n},render:function(){return l.createElement("div",null,this.state.connected?this.connectedButtons():this.disconnectedButtons())},connectedButtons:function(){return l.createElement("div",null,l.createElement(o,null,l.createElement(i,{style:{fontSize:"20"},onClick:this.toggleLocked},l.createElement(u,{name:this.state.isLocked?"lock":"unlock"})),l.createElement(i,{style:{fontSize:"20"},onClick:this.togleSettingsVisible},l.createElement(u,{name:this.state.settingsVisible?"cog":"cogs"}))),l.createElement(i,{onClick:this.connectOrDisconnect},this.state.connected?"Disconnect":this.state.connecting?"Connecting":"Connect"))},disconnectedButtons:function(){return l.createElement("div",null,l.createElement(s,{value:this.state.host,type:"text",onChange:this.addressChanged,onKeyPress:this.onKeyPress}),l.createElement(i,{onClick:this.connectOrDisconnect},this.state.connected?"Disconnect":this.state.connecting?"Connecting":"Connect"))},getViewIconName:function(e){return this.state.gridSettings.currentView===e?"sticky-note":"sticky-note-o"},componentDidMount:function(){"true"===window.localStorage.signalKHostConnected&&this.state.host&&this.connectOrDisconnect()},onKeyPress:function(e){13===e.charCode&&e.preventDefault()},addressChanged:function(e){this.setState({host:e.target.value})},toggleLocked:function(){this.props.model.lens("isLocked").set(!this.props.model.get().isLocked)},togleSettingsVisible:function(){this.props.model.lens("settingsVisible").set(!this.props.model.get().settingsVisible)},switchView:function(e){this.props.instrumentPanel.setView.call(this.props.instrumentPanel,e)},connectOrDisconnect:function(){this.doConnectOrDisconnect(this.state.host)},doConnectOrDisconnect:function(e){e&&(this.state.connecting||this.state.connected?(window.localStorage.signalKHostConnected=!1,this.state.connection.disconnect(),this.onDisconnect()):(this.setState({connecting:!0,host:e,connection:c.connectDelta(e,this.props.instrumentPanel.dispatch.bind(this.props.instrumentPanel),this.onConnect.bind(this,e),this.onDisconnect),hosts:this.addToHosts(e,this.state.hosts)}),window.localStorage.signalKLastHost=e,window.localStorage.signalKHostConnected=!0))},onConnect:function(e){this.setState({connecting:!1,connected:!0}),this.props.instrumentPanel.connected.call(this.props.instrumentPanel,e)},onDisconnect:function(){this.setState({connecting:!1,connected:!1})},addToHosts:function(e,t){return-1===t.indexOf(e)&&(t.push(e),window.localStorage.signalKHosts=JSON.stringify(t)),t}});e.exports=p},function(e,t,n){"use strict";var r=n(28),i=n(1),o=r.TabbedArea,s=r.TabPane,a=r.Button,u=n(149),l=n(156),c=n(150),p=i.createClass({displayName:"SettingsPanel",getInitialState:function(){return{activeKey:1}},render:function(){return i.createElement("div",null,i.createElement(a,{className:"pull-right",onClick:this.reset},"Reset all"),i.createElement(o,{activeKey:this.state.activeKey,onSelect:this.handleSelect},i.createElement(s,{eventKey:1,tab:"By Display Widget"},i.createElement(l,{instrumentPanel:this.props.instrumentPanel})),i.createElement(s,{eventKey:2,tab:"By Data Item"},i.createElement(u,{instrumentPanel:this.props.instrumentPanel})),i.createElement(s,{eventKey:3,tab:"Grid as JSON"},i.createElement(c,{model:this.props.instrumentPanel.gridSettingsModel}))))},handleSelect:function(e){this.setState({activeKey:e})},reset:function(){localStorage.clear(),location.reload()}});e.exports=p},function(e,t){"use strict";e.exports={componentDidMount:function(){this.unsubscribe=this.props.model.onValue(this.replaceState.bind(this))},componentWillUnmount:function(){this.unsubscribe&&this.unsubscribe()}}},function(e,t,n){"use strict";n(1);e.exports={getInitialState:function(){return{value:"-",label:this.props.label,unit:this.props.unit}},componentDidMount:function(){this.props.value&&(this.unsubscribe=this.props.value.onValue(function(e){this.setState({value:this.displayValue(e)||this.state.value,label:this.state.label,unit:this.state.unit})}.bind(this)))},componentWillUnmount:function(){this.unsubscribe&&this.unsubscribe()}}},function(e,t,n){"use strict";var r=n(28),i=n(1),o=(n(64),r.Table),s=(r.tr,r.td,r.form,r.Input,n(157)),a=i.createClass({displayName:"WidgetList",getInitialState:function(){return{activeKey:2}},render:function(){return i.createElement("div",{className:"widgetlist"},i.createElement(o,{striped:!0,bordered:!0,condensed:!0,hover:!0},i.createElement("tbody",null,this.props.instrumentPanel.widgets.map(function(e,t){return i.createElement(s,{key:t,widget:e})}))))},toggleActive:function(e){e.setActive(!e.active),this.setState(this.state)},handleSelect:function(e){this.setState({activeKey:e})}});e.exports=a},function(e,t,n){"use strict";var r=n(28),i=n(1),o=(n(64),r.Table,r.tr,r.td,r.form,r.Input),s=i.createClass({displayName:"WidgetRow",render:function(){return i.createElement("tr",null,i.createElement("td",null,i.createElement(o,{type:"checkbox",label:"",checked:this.props.widget.options.active,onChange:this.toggleActive})),i.createElement("td",null,this.props.widget.getType()),i.createElement("td",{style:{height:"16vh",width:"16vw"}},this.props.widget.getReactElement()),i.createElement("td",null,i.createElement("ul",null,this.props.widget.getHandledPaths().map(function(e){return i.createElement("li",null,e)}))))},toggleActive:function(){this.props.widget.setActive(!this.props.widget.options.active)}});e.exports=s},function(e,t,n){"use strict";function r(e,t,n,r){v.call(this,e,t,n,r),this.options=t;t.path.split(".");this.widget=o.createElement(g,{key:e,value:n.getStream(t.path),label:t.path,path:t.path})}function i(e){return e/180*Math.PI}var o=n(1),s=n(163),a=n(160),u=a.getShadow,l=a.getHand,c=400,p=c/2,h=25,f="^propulsion.[A-Za-z0-9-]*.",d=["navigation.speedOverGround",f+"engineTemperature$",f+"oilTemperature",f+"oilPressure",f+"transmissionOilPressure",f+"rpm"],m={engineTemperature:{redLine:90,max:110},oilTemperature:{redLine:200,max:250},oilPressure:{redLine:90,max:110},transmissionOilPressure:{redLine:240,max:260},rpm:{redLine:2500,max:3e3}},g=o.createClass({displayName:"componentClass",getInitialState:function(){var e=this.props.path.split("."),t=m[e[e.length-1]];return{value:0,label:this.props.label,minValue:0,maxValue:t?t.max:1,redLine:t?t.redLine:.9}},renderTicks:function(e){var t=0;return e.ticks().map(function(n){return o.createElement("g",{key:"text-"+n,transform:"rotate("+e(n)+" 200 0)"},o.createElement("text",{x:-p,y:t+10,textAnchor:"middle","dominant-baseline":"central",style:{fontSize:"28px"},transform:"rotate("+-e(n)+")"},n))})},render:function(){var e=s.scale.linear().domain([this.state.minValue,this.state.maxValue]).range([10,170]).clamp(!0),t=s.scale.linear().domain([this.state.minValue,this.state.maxValue]).range([-80,80]),n=30,r=s.svg.arc().startAngle(i(-80)).endAngle(i(80)).innerRadius(p-h-n).outerRadius(p-n).cornerRadius(h/4),a=s.svg.arc().startAngle(i(t(this.state.redLine))).endAngle(i(t(this.state.maxValue))).innerRadius(p-h-n).outerRadius(p-n).cornerRadius(h/4),c=s.svg.arc().startAngle(i(-80)).endAngle(i(80)).outerRadius(p-h-n).innerRadius(p/20),f=e.ticks([5]).slice(1,5);return o.createElement("svg",{height:"100%",width:"100%",viewBox:"0 -20 400 240"},o.createElement("svg",{dangerouslySetInnerHTML:u()}),o.createElement("g",{transform:"translate("+p+","+p+" )",stroke:"black"},f.map(function(t){return o.createElement("path",{key:"tick-"+t,d:"M -180 0 L -176 0",strokeWidth:2,transform:"rotate("+e(t)+")",stroke:"black"})}),o.createElement("path",{d:r(),stroke:"black","stroke-width":"5",fill:"white"}),o.createElement("path",{d:a(),stroke:"black","stroke-width":"5",fill:"red"}),l(200-n/2,e(this.state.value)-90),o.createElement("path",{d:c(),stroke:"none","stroke-width":"5",fill:"#efefef",opacity:"0.8"}),this.renderTicks(e),o.createElement("text",{y:"-50",textAnchor:"middle",fontSize:"70",dominantBaseline:"middle"},o.createElement("tspan",{x:"0"},v.prototype.displayValue(this.state.value)),o.createElement("tspan",{x:"0",dy:"30",fontSize:"30"},"-"),o.createElement("tspan",{x:"0",dy:"30",fontSize:"30"},this.props.label))))},componentDidMount:function(){this.props.value&&(this.unsubscribe=this.props.value.onValue(function(e){var t={value:e};this.setState(t)}.bind(this)))},componentWillUnmount:function(){this.unsubscribe&&this.unsubscribe()}}),v=n(40);n(39).inherits(r,v),r.prototype.getReactElement=function(){return this.widget},r.prototype.getType=function(){return"analog"},r.prototype.getHandledPaths=function(){return[this.options.path]},r.prototype.getOptions=function(){return this.options},e.exports={constructor:r,type:"analog",paths:d}},function(e,t,n){"use strict";function r(e,t,n,r){i.call(this,e,t,n,r)}var i=n(53).constructor,o=n(1);n(39).inherits(r,i),r.prototype.getType=function(){return"digitalposition"},r.prototype.render=function(){return o.createElement("svg",{height:"100%",width:"100%",viewBox:"0 0 20 40"},o.createElement("text",{x:"10",y:"19",textAnchor:"middle",fontSize:"16","dominant-baseline":"middle"},(this.state.value.longitude?this.state.value.longitude.toFixed(3):"--.--")+""),o.createElement("text",{x:"10",y:"35",textAnchor:"middle",fontSize:"16","dominant-baseline":"middle"},(this.state.value.latitude?this.state.value.latitude.toFixed(3):"--.--")+""),o.createElement("text",{x:"10",y:"4",textAnchor:"middle",fontSize:"5","dominant-baseline":"middle"},this.state.label))},e.exports={constructor:r,type:"digitalposition",paths:["navigation.position"]}},function(e,t,n){"use strict";var r=n(1);e.exports={getShadow:function(){return{__html:'<filter id="f1"><feGaussianBlur in="SourceAlpha" stdDeviation="2" /><feOffset dx="2.4" dy="1.6" /><feMerge><feMergeNode /><feMergeNode in="SourceGraphic" /></feMerge></filter>'}},getHand:function(e,t){var n=(e/20).toFixed(0),i="";return i+="0,"+-e+" ",i+=-n+",0 ",i+="0,"+n+" ",i+=n+",0 ",r.createElement("polygon",{points:i,fill:"rgba(221, 221, 221, 0.6)",stroke:"#333",strokeWidth:"1",transform:"rotate("+t+")",style:{filter:"url(#f1)"}})}}},function(e,t,n){"use strict";function r(e,t,n,r){_.call(this,e,t,n,r),this.options=t,this.active=!0,this.widget=a.createElement(b,{key:e,streams:f.map(function(e){return n.getStream(e)}),label:this.getLabelForPath(t.path)})}function i(e){return e>=0&&180>=e?e:e>180?Math.abs(e-360):Math.abs(e)}function o(e){try{return e.toFixed(2)}catch(t){console.err("Could not round:"+e)}return"-"}function s(e){return["rotate(",e,l,l,")"].join(" ")}for(var a=n(1),u=400,l=u/2,c=.15*l,p=.15*l,h=.075*l,f=["environment.wind.angleApparent","environment.wind.angleTrue","environment.wind.speedApparent","environment.wind.speedTrue"],d=[],m=0;180>m;m+=10){var g=1,v=h;m%30===0&&(g=3,v=p),d.push(a.createElement("path",{key:"tick-"+m,d:"M 200 0 L 200 "+v+" M 200 "+(400-v)+" L 200 400",strokeWidth:g,transform:s(m)}))}for(var y=.85*u,m=0;190>m;m+=30)d.push(a.createElement("g",{key:"text-"+m,transform:s(180+m)},a.createElement("text",{x:"200",y:y+10,textAnchor:"middle","dominant-baseline":"central",style:{fontSize:"28px"},transform:"rotate("+(-m-180)+" "+l+" "+y+")"},m))),d.push(a.createElement("g",{key:"text--"+m,transform:s(180-m)},a.createElement("text",{x:"200",y:y+10,textAnchor:"middle","dominant-baseline":"central",style:{fontSize:"28px"},transform:"rotate("+(m-180)+" "+l+" "+y+")"},m)));var b=a.createClass({displayName:"componentClass",getInitialState:function(){return{angle:0,speed:0,label:this.props.label}},getShadow:function(){return{__html:'<filter id="f1"><feGaussianBlur in="SourceAlpha" stdDeviation="2" /><feOffset dx="2.4" dy="1.6" /><feMerge><feMergeNode /><feMergeNode in="SourceGraphic" /></feMerge></filter>'}},render:function(){var e=l,t=c/2,n=l-t,r=n*Math.sin(Math.PI/3),u=n*Math.cos(Math.PI/3);return a.createElement("svg",{height:"100%",width:"100%",viewBox:"0 0 400 400"},a.createElement("svg",{dangerouslySetInnerHTML:this.getShadow()}),a.createElement("g",{stroke:"black",transform:"scale(0.9) translate(20 40)"},a.createElement("path",{d:["M",e,t,"a",n,n,"0 0 1",r,u].join(" "),style:{fill:"none",stroke:"green",strokeWidth:c}}),a.createElement("path",{d:["M",e,t,"a",n,n,"0 0 0",-r,u].join(" "),style:{fill:"none",stroke:"red",strokeWidth:c}}),d,a.createElement("rect",{width:"150",height:"50",x:"125",y:"135",rx:"5",ry:"5",fill:"rgba(255,255,255,0.8)"}),a.createElement("text",{x:"200",y:"172",textAnchor:"middle",fontSize:"38",dominantBaseline:"middle"},i(this.state.angle)),a.createElement("rect",{width:"150",height:"50",x:"125",y:"215",rx:"5",ry:"5",fill:"rgba(255,255,255,0.8)"}),a.createElement("text",{x:"200",y:"252",textAnchor:"middle",fontSize:"38",dominantBaseline:"middle"},o(this.state.speed)),a.createElement("polygon",{points:"200,20 190,200 200,215 210,200",fill:"rgba(221, 221, 221, 0.6)",stroke:"#333",strokeWidth:"1",transform:s(this.state.angle),style:{filter:"url(#f1)"}})),a.createElement("text",{x:"200",y:"24",textAnchor:"middle",fontSize:"20"},this.state.label))},componentDidMount:function(){this.props.streams&&(this.unsubscribe=[],this.unsubscribe.push(this.props.streams[0].onValue(function(e){this.setState({angle:e.toFixed(0)})}.bind(this))),this.unsubscribe.push(this.props.streams[2].onValue(function(e){this.setState({speed:e.toFixed(2)})}.bind(this))))},componentWillUnmount:function(){this.unsubscribe&&this.unsubscribe.forEach(function(e){e()})}}),_=n(40);n(39).inherits(r,_),r.prototype.getReactElement=function(){return this.widget},r.prototype.getType=function(){return"windmeter"},r.prototype.getHandledPaths=function(){return f},r.prototype.getOptions=function(){return this.options},e.exports={constructor:r,type:"windmeter",paths:f}},function(e,t,n){(function(t,n,r){/* @preserve
	 * The MIT License (MIT)
	 * 
	 * Copyright (c) 2013-2015 Petka Antonov
	 * 
	 * Permission is hereby granted, free of charge, to any person obtaining a copy
	 * of this software and associated documentation files (the "Software"), to deal
	 * in the Software without restriction, including without limitation the rights
	 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
	 * copies of the Software, and to permit persons to whom the Software is
	 * furnished to do so, subject to the following conditions:
	 * 
	 * The above copyright notice and this permission notice shall be included in
	 * all copies or substantial portions of the Software.
	 * 
	 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
	 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
	 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL THE
	 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
	 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
	 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
	 * THE SOFTWARE.
	 * 
	 */
!function(t){e.exports=t()}(function(){var e,i,o;return function s(e,t,n){function r(o,a){if(!t[o]){if(!e[o]){var u="function"==typeof _dereq_&&_dereq_;if(!a&&u)return u(o,!0);if(i)return i(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var c=t[o]={exports:{}};e[o][0].call(c.exports,function(t){var n=e[o][1][t];return r(n?n:t)},c,c.exports,s,e,t,n)}return t[o].exports}for(var i="function"==typeof _dereq_&&_dereq_,o=0;o<n.length;o++)r(n[o]);return r}({1:[function(e,t,n){"use strict";t.exports=function(e){function t(e){var t=new n(e),r=t.promise();return t.setHowMany(1),t.setUnwrap(),t.init(),r}var n=e._SomePromiseArray;e.any=function(e){return t(e)},e.prototype.any=function(){return t(this)}}},{}],2:[function(e,t,n){"use strict";function r(){this._isTickUsed=!1,this._lateQueue=new c(16),this._normalQueue=new c(16),this._trampolineEnabled=!0;var e=this;this.drainQueues=function(){e._drainQueues()},this._schedule=l.isStatic?l(this.drainQueues):l}function i(e,t,n){this._lateQueue.push(e,t,n),this._queueTick()}function o(e,t,n){this._normalQueue.push(e,t,n),this._queueTick()}function s(e){this._normalQueue._pushOne(e),this._queueTick()}var a;try{throw new Error}catch(u){a=u}var l=e("./schedule.js"),c=e("./queue.js"),p=e("./util.js");r.prototype.disableTrampolineIfNecessary=function(){p.hasDevTools&&(this._trampolineEnabled=!1)},r.prototype.enableTrampoline=function(){this._trampolineEnabled||(this._trampolineEnabled=!0,this._schedule=function(e){setTimeout(e,0)})},r.prototype.haveItemsQueued=function(){return this._normalQueue.length()>0},r.prototype.throwLater=function(e,t){if(1===arguments.length&&(t=e,e=function(){throw t}),"undefined"!=typeof setTimeout)setTimeout(function(){e(t)},0);else try{this._schedule(function(){e(t)})}catch(n){throw new Error("No async scheduler available\n\n    See http://goo.gl/m3OTXk\n")}},p.hasDevTools?(l.isStatic&&(l=function(e){setTimeout(e,0)}),r.prototype.invokeLater=function(e,t,n){this._trampolineEnabled?i.call(this,e,t,n):this._schedule(function(){setTimeout(function(){e.call(t,n)},100)})},r.prototype.invoke=function(e,t,n){this._trampolineEnabled?o.call(this,e,t,n):this._schedule(function(){e.call(t,n)})},r.prototype.settlePromises=function(e){this._trampolineEnabled?s.call(this,e):this._schedule(function(){e._settlePromises()})}):(r.prototype.invokeLater=i,r.prototype.invoke=o,r.prototype.settlePromises=s),r.prototype.invokeFirst=function(e,t,n){this._normalQueue.unshift(e,t,n),this._queueTick()},r.prototype._drainQueue=function(e){for(;e.length()>0;){var t=e.shift();if("function"==typeof t){var n=e.shift(),r=e.shift();t.call(n,r)}else t._settlePromises()}},r.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._drainQueue(this._lateQueue)},r.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},r.prototype._reset=function(){this._isTickUsed=!1},t.exports=new r,t.exports.firstLineError=a},{"./queue.js":28,"./schedule.js":31,"./util.js":38}],3:[function(e,t,n){"use strict";t.exports=function(e,t,n){var r=function(e,t){this._reject(t)},i=function(e,t){t.promiseRejectionQueued=!0,t.bindingPromise._then(r,r,null,this,e)},o=function(e,t){this._isPending()&&this._resolveCallback(t.target)},s=function(e,t){t.promiseRejectionQueued||this._reject(e)};e.prototype.bind=function(r){var a=n(r),u=new e(t);u._propagateFrom(this,1);var l=this._target();if(u._setBoundTo(a),a instanceof e){var c={promiseRejectionQueued:!1,promise:u,target:l,bindingPromise:a};l._then(t,i,u._progress,u,c),a._then(o,s,u._progress,u,c)}else u._resolveCallback(l);return u},e.prototype._setBoundTo=function(e){void 0!==e?(this._bitField=131072|this._bitField,this._boundTo=e):this._bitField=-131073&this._bitField},e.prototype._isBound=function(){return 131072===(131072&this._bitField)},e.bind=function(r,i){var o=n(r),s=new e(t);return s._setBoundTo(o),o instanceof e?o._then(function(){s._resolveCallback(i)},s._reject,s._progress,s,null):s._resolveCallback(i),s}}},{}],4:[function(e,t,n){"use strict";function r(){try{Promise===o&&(Promise=i)}catch(e){}return o}var i;"undefined"!=typeof Promise&&(i=Promise);var o=e("./promise.js")();o.noConflict=r,t.exports=o},{"./promise.js":23}],5:[function(e,t,n){"use strict";var r=Object.create;if(r){var i=r(null),o=r(null);i[" size"]=o[" size"]=0}t.exports=function(t){function n(e,n){var r;if(null!=e&&(r=e[n]),"function"!=typeof r){var i="Object "+a.classString(e)+" has no method '"+a.toString(n)+"'";throw new t.TypeError(i)}return r}function r(e){var t=this.pop(),r=n(e,t);return r.apply(e,this)}function i(e){return e[this]}function o(e){var t=+this;return 0>t&&(t=Math.max(0,t+e.length)),e[t]}var s,a=e("./util.js"),u=a.canEvaluate;a.isIdentifier;t.prototype.call=function(e){for(var t=arguments.length,n=new Array(t-1),i=1;t>i;++i)n[i-1]=arguments[i];return n.push(e),this._then(r,void 0,void 0,n,void 0)},t.prototype.get=function(e){var t,n="number"==typeof e;if(n)t=o;else if(u){var r=s(e);t=null!==r?r:i}else t=i;return this._then(t,void 0,void 0,e,void 0)}}},{"./util.js":38}],6:[function(e,t,n){"use strict";t.exports=function(t){var n=e("./errors.js"),r=e("./async.js"),i=n.CancellationError;t.prototype._cancel=function(e){if(!this.isCancellable())return this;for(var t,n=this;void 0!==(t=n._cancellationParent)&&t.isCancellable();)n=t;this._unsetCancellable(),n._target()._rejectCallback(e,!1,!0)},t.prototype.cancel=function(e){return this.isCancellable()?(void 0===e&&(e=new i),r.invokeLater(this._cancel,this,e),this):this},t.prototype.cancellable=function(){return this._cancellable()?this:(r.enableTrampoline(),this._setCancellable(),this._cancellationParent=void 0,this)},t.prototype.uncancellable=function(){var e=this.then();return e._unsetCancellable(),e},t.prototype.fork=function(e,t,n){var r=this._then(e,t,n,void 0,void 0);return r._setCancellable(),r._cancellationParent=void 0,r}}},{"./async.js":2,"./errors.js":13}],7:[function(e,n,r){"use strict";n.exports=function(){function n(e){this._parent=e;var t=this._length=1+(void 0===e?0:e._length);w(this,n),t>32&&this.uncycle()}function r(e,t){for(var n=0;n<t.length-1;++n)t[n].push("From previous event:"),t[n]=t[n].join("\n");return n<t.length&&(t[n]=t[n].join("\n")),e+"\n"+t.join("\n")}function i(e){for(var t=0;t<e.length;++t)(0===e[t].length||t+1<e.length&&e[t][0]===e[t+1][0])&&(e.splice(t,1),t--)}function o(e){for(var t=e[0],n=1;n<e.length;++n){for(var r=e[n],i=t.length-1,o=t[i],s=-1,a=r.length-1;a>=0;--a)if(r[a]===o){s=a;break}for(var a=s;a>=0;--a){var u=r[a];if(t[i]!==u)break;t.pop(),i--}t=r}}function s(e){for(var t=[],n=0;n<e.length;++n){var r=e[n],i=m.test(r)||"    (No stack trace)"===r,o=i&&y(r);i&&!o&&(v&&" "!==r.charAt(0)&&(r="    "+r),t.push(r))}return t}function a(e){for(var t=e.stack.replace(/\s+$/g,"").split("\n"),n=0;n<t.length;++n){var r=t[n];if("    (No stack trace)"===r||m.test(r))break}return n>0&&(t=t.slice(n)),t}function u(e){var t;if("function"==typeof e)t="[function "+(e.name||"anonymous")+"]";else{t=e.toString();var n=/\[object [a-zA-Z0-9$_]+\]/;if(n.test(t))try{var r=JSON.stringify(e);t=r}catch(i){}0===t.length&&(t="(empty array)")}return"(<"+l(t)+">, no stack trace)"}function l(e){var t=41;return e.length<t?e:e.substr(0,t-3)+"..."}function c(e){var t=e.match(b);return t?{fileName:t[1],line:parseInt(t[2],10)}:void 0}var p,h=e("./async.js"),f=e("./util.js"),d=/[\\\/]bluebird[\\\/]js[\\\/](main|debug|zalgo|instrumented)/,m=null,g=null,v=!1;f.inherits(n,Error),n.prototype.uncycle=function(){var e=this._length;if(!(2>e)){for(var t=[],n={},r=0,i=this;void 0!==i;++r)t.push(i),i=i._parent;e=this._length=r;for(var r=e-1;r>=0;--r){var o=t[r].stack;void 0===n[o]&&(n[o]=r)}for(var r=0;e>r;++r){var s=t[r].stack,a=n[s];if(void 0!==a&&a!==r){a>0&&(t[a-1]._parent=void 0,t[a-1]._length=1),t[r]._parent=void 0,t[r]._length=1;var u=r>0?t[r-1]:this;e-1>a?(u._parent=t[a+1],u._parent.uncycle(),u._length=u._parent._length+1):(u._parent=void 0,u._length=1);for(var l=u._length+1,c=r-2;c>=0;--c)t[c]._length=l,l++;return}}}},n.prototype.parent=function(){return this._parent},n.prototype.hasParent=function(){return void 0!==this._parent},n.prototype.attachExtraTrace=function(e){if(!e.__stackCleaned__){this.uncycle();for(var t=n.parseStackAndMessage(e),a=t.message,u=[t.stack],l=this;void 0!==l;)u.push(s(l.stack.split("\n"))),l=l._parent;o(u),i(u),f.notEnumerableProp(e,"stack",r(a,u)),f.notEnumerableProp(e,"__stackCleaned__",!0)}},n.parseStackAndMessage=function(e){var t=e.stack,n=e.toString();return t="string"==typeof t&&t.length>0?a(e):["    (No stack trace)"],{message:n,stack:s(t)}},n.formatAndLogError=function(e,t){if("undefined"!=typeof console){var n;if("object"==typeof e||"function"==typeof e){var r=e.stack;n=t+g(r,e)}else n=t+String(e);"function"==typeof p?p(n):("function"==typeof console.log||"object"==typeof console.log)&&console.log(n)}},n.unhandledRejection=function(e){n.formatAndLogError(e,"^--- With additional stack trace: ")},n.isSupported=function(){return"function"==typeof w},n.fireRejectionEvent=function(e,t,r,i){var o=!1;try{"function"==typeof t&&(o=!0,"rejectionHandled"===e?t(i):t(r,i))}catch(s){h.throwLater(s)}var a=!1;try{a=E(e,r,i)}catch(s){a=!0,h.throwLater(s)}var u=!1;if(_)try{u=_(e.toLowerCase(),{reason:r,promise:i})}catch(s){u=!0,h.throwLater(s)}a||o||u||"unhandledRejection"!==e||n.formatAndLogError(r,"Unhandled rejection ")};var y=function(){return!1},b=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;n.setBounds=function(e,t){if(n.isSupported()){for(var r,i,o=e.stack.split("\n"),s=t.stack.split("\n"),a=-1,u=-1,l=0;l<o.length;++l){var p=c(o[l]);if(p){r=p.fileName,a=p.line;break}}for(var l=0;l<s.length;++l){var p=c(s[l]);if(p){i=p.fileName,u=p.line;break}}0>a||0>u||!r||!i||r!==i||a>=u||(y=function(e){if(d.test(e))return!0;var t=c(e);return t&&t.fileName===r&&a<=t.line&&t.line<=u?!0:!1})}};var _,w=function(){var e=/^\s*at\s*/,t=function(e,t){return"string"==typeof e?e:void 0!==t.name&&void 0!==t.message?t.toString():u(t)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit=Error.stackTraceLimit+6,m=e,g=t;var n=Error.captureStackTrace;return y=function(e){return d.test(e)},function(e,t){Error.stackTraceLimit=Error.stackTraceLimit+6,n(e,t),Error.stackTraceLimit=Error.stackTraceLimit-6}}var r=new Error;if("string"==typeof r.stack&&r.stack.split("\n")[0].indexOf("stackDetection@")>=0)return m=/@/,g=t,v=!0,function(e){e.stack=(new Error).stack};var i;try{throw new Error}catch(o){i="stack"in o}return"stack"in r||!i||"number"!=typeof Error.stackTraceLimit?(g=function(e,t){return"string"==typeof e?e:"object"!=typeof t&&"function"!=typeof t||void 0===t.name||void 0===t.message?u(t):t.toString()},null):(m=e,g=t,function(e){Error.stackTraceLimit=Error.stackTraceLimit+6;try{throw new Error}catch(t){e.stack=t.stack}Error.stackTraceLimit=Error.stackTraceLimit-6})}([]),E=function(){if(f.isNode)return function(e,n,r){return"rejectionHandled"===e?t.emit(e,r):t.emit(e,n,r)};var e=!1,n=!0;try{var r=new self.CustomEvent("test");e=r instanceof CustomEvent}catch(i){}if(!e)try{var o=document.createEvent("CustomEvent");o.initCustomEvent("testingtheevent",!1,!0,{}),self.dispatchEvent(o)}catch(i){n=!1}n&&(_=function(t,n){var r;return e?r=new self.CustomEvent(t,{detail:n,bubbles:!1,cancelable:!0}):self.dispatchEvent&&(r=document.createEvent("CustomEvent"),r.initCustomEvent(t,!1,!0,n)),r?!self.dispatchEvent(r):!1});var s={};return s.unhandledRejection="onunhandledRejection".toLowerCase(),s.rejectionHandled="onrejectionHandled".toLowerCase(),function(e,t,n){var r=s[e],i=self[r];return i?("rejectionHandled"===e?i.call(self,n):i.call(self,t,n),!0):!1}}();return"undefined"!=typeof console&&"undefined"!=typeof console.warn&&(p=function(e){console.warn(e)},f.isNode&&t.stderr.isTTY?p=function(e){t.stderr.write("[31m"+e+"[39m\n")}:f.isNode||"string"!=typeof(new Error).stack||(p=function(e){console.warn("%c"+e,"color: red")})),n}},{"./async.js":2,"./util.js":38}],8:[function(e,t,n){"use strict";t.exports=function(t){function n(e,t,n){this._instances=e,this._callback=t,this._promise=n}function r(e,t){var n={},r=s(e).call(n,t);if(r===a)return r;var i=u(n);return i.length?(a.e=new l("Catch filter must inherit from Error or be a simple predicate function\n\n    See http://goo.gl/o84o68\n"),a):r}var i=e("./util.js"),o=e("./errors.js"),s=i.tryCatch,a=i.errorObj,u=e("./es5.js").keys,l=o.TypeError;return n.prototype.doFilter=function(e){for(var n=this._callback,i=this._promise,o=i._boundValue(),u=0,l=this._instances.length;l>u;++u){var c=this._instances[u],p=c===Error||null!=c&&c.prototype instanceof Error;if(p&&e instanceof c){var h=s(n).call(o,e);return h===a?(t.e=h.e,t):h}if("function"==typeof c&&!p){var f=r(c,e);if(f===a){e=a.e;break}if(f){var h=s(n).call(o,e);return h===a?(t.e=h.e,t):h}}}return t.e=e,t},n}},{"./errors.js":13,"./es5.js":14,"./util.js":38}],9:[function(e,t,n){"use strict";t.exports=function(e,t,n){function r(){this._trace=new t(o())}function i(){return n()?new r:void 0}function o(){var e=s.length-1;return e>=0?s[e]:void 0}var s=[];return r.prototype._pushContext=function(){n()&&void 0!==this._trace&&s.push(this._trace)},r.prototype._popContext=function(){n()&&void 0!==this._trace&&s.pop()},e.prototype._peekContext=o,e.prototype._pushContext=r.prototype._pushContext,e.prototype._popContext=r.prototype._popContext,i}},{}],10:[function(e,n,r){"use strict";n.exports=function(n,r){var i,o,s=n._getDomain,a=e("./async.js"),u=e("./errors.js").Warning,l=e("./util.js"),c=l.canAttachTrace,p=l.isNode&&(!!t.env.BLUEBIRD_DEBUG||"development"===t.env.NODE_ENV);return l.isNode&&0==t.env.BLUEBIRD_DEBUG&&(p=!1),p&&a.disableTrampolineIfNecessary(),n.prototype._ignoreRejections=function(){this._unsetRejectionIsUnhandled(),this._bitField=16777216|this._bitField},n.prototype._ensurePossibleRejectionHandled=function(){0===(16777216&this._bitField)&&(this._setRejectionIsUnhandled(),a.invokeLater(this._notifyUnhandledRejection,this,void 0))},n.prototype._notifyUnhandledRejectionIsHandled=function(){r.fireRejectionEvent("rejectionHandled",i,void 0,this)},n.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var e=this._getCarriedStackTrace()||this._settledValue;this._setUnhandledRejectionIsNotified(),r.fireRejectionEvent("unhandledRejection",o,e,this)}},n.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=524288|this._bitField},n.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-524289&this._bitField},n.prototype._isUnhandledRejectionNotified=function(){return(524288&this._bitField)>0},n.prototype._setRejectionIsUnhandled=function(){this._bitField=2097152|this._bitField},n.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-2097153&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},n.prototype._isRejectionUnhandled=function(){return(2097152&this._bitField)>0},n.prototype._setCarriedStackTrace=function(e){this._bitField=1048576|this._bitField,this._fulfillmentHandler0=e},n.prototype._isCarryingStackTrace=function(){return(1048576&this._bitField)>0},n.prototype._getCarriedStackTrace=function(){return this._isCarryingStackTrace()?this._fulfillmentHandler0:void 0},n.prototype._captureStackTrace=function(){return p&&(this._trace=new r(this._peekContext())),this},n.prototype._attachExtraTrace=function(e,t){if(p&&c(e)){var n=this._trace;if(void 0!==n&&t&&(n=n._parent),void 0!==n)n.attachExtraTrace(e);else if(!e.__stackCleaned__){var i=r.parseStackAndMessage(e);l.notEnumerableProp(e,"stack",i.message+"\n"+i.stack.join("\n")),l.notEnumerableProp(e,"__stackCleaned__",!0)}}},n.prototype._warn=function(e){var t=new u(e),n=this._peekContext();if(n)n.attachExtraTrace(t);else{var i=r.parseStackAndMessage(t);t.stack=i.message+"\n"+i.stack.join("\n")}r.formatAndLogError(t,"")},n.onPossiblyUnhandledRejection=function(e){var t=s();o="function"==typeof e?null===t?e:t.bind(e):void 0},n.onUnhandledRejectionHandled=function(e){var t=s();i="function"==typeof e?null===t?e:t.bind(e):void 0},n.longStackTraces=function(){if(a.haveItemsQueued()&&p===!1)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/DT1qyG\n");p=r.isSupported(),p&&a.disableTrampolineIfNecessary()},n.hasLongStackTraces=function(){return p&&r.isSupported()},r.isSupported()||(n.longStackTraces=function(){},p=!1),function(){return p}}},{"./async.js":2,"./errors.js":13,"./util.js":38}],11:[function(e,t,n){"use strict";var r=e("./util.js"),i=r.isPrimitive;t.exports=function(e){var t=function(){return this},n=function(){throw this},r=function(){},o=function(){throw void 0},s=function(e,t){return 1===t?function(){throw e}:2===t?function(){return e}:void 0};e.prototype["return"]=e.prototype.thenReturn=function(n){return void 0===n?this.then(r):i(n)?this._then(s(n,2),void 0,void 0,void 0,void 0):(n instanceof e&&n._ignoreRejections(),this._then(t,void 0,void 0,n,void 0))},e.prototype["throw"]=e.prototype.thenThrow=function(e){return void 0===e?this.then(o):i(e)?this._then(s(e,1),void 0,void 0,void 0,void 0):this._then(n,void 0,void 0,e,void 0)}}},{"./util.js":38}],12:[function(e,t,n){"use strict";t.exports=function(e,t){var n=e.reduce;e.prototype.each=function(e){return n(this,e,null,t)},e.each=function(e,r){return n(e,r,null,t)}}},{}],13:[function(e,t,n){"use strict";function r(e,t){function n(r){return this instanceof n?(p(this,"message","string"==typeof r?r:t),p(this,"name",e),void(Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this))):new n(r)}return c(n,Error),n}function i(e){return this instanceof i?(p(this,"name","OperationalError"),p(this,"message",e),this.cause=e,this.isOperational=!0,void(e instanceof Error?(p(this,"message",e.message),p(this,"stack",e.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor))):new i(e)}var o,s,a=e("./es5.js"),u=a.freeze,l=e("./util.js"),c=l.inherits,p=l.notEnumerableProp,h=r("Warning","warning"),f=r("CancellationError","cancellation error"),d=r("TimeoutError","timeout error"),m=r("AggregateError","aggregate error");try{o=TypeError,s=RangeError}catch(g){o=r("TypeError","type error"),s=r("RangeError","range error")}for(var v="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),y=0;y<v.length;++y)"function"==typeof Array.prototype[v[y]]&&(m.prototype[v[y]]=Array.prototype[v[y]]);a.defineProperty(m.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),m.prototype.isOperational=!0;var b=0;m.prototype.toString=function(){var e=Array(4*b+1).join(" "),t="\n"+e+"AggregateError of:\n";b++,e=Array(4*b+1).join(" ");for(var n=0;n<this.length;++n){for(var r=this[n]===this?"[Circular AggregateError]":this[n]+"",i=r.split("\n"),o=0;o<i.length;++o)i[o]=e+i[o];r=i.join("\n"),t+=r+"\n"}return b--,t},c(i,Error);var _=Error.__BluebirdErrorTypes__;_||(_=u({CancellationError:f,TimeoutError:d,OperationalError:i,RejectionError:i,AggregateError:m}),p(Error,"__BluebirdErrorTypes__",_)),t.exports={Error:Error,TypeError:o,RangeError:s,CancellationError:_.CancellationError,OperationalError:_.OperationalError,TimeoutError:_.TimeoutError,AggregateError:_.AggregateError,Warning:h}},{"./es5.js":14,"./util.js":38}],14:[function(e,t,n){var r=function(){"use strict";return void 0===this}();if(r)t.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:r,propertyIsWritable:function(e,t){var n=Object.getOwnPropertyDescriptor(e,t);return!(n&&!n.writable&&!n.set)}};else{var i={}.hasOwnProperty,o={}.toString,s={}.constructor.prototype,a=function(e){var t=[];for(var n in e)i.call(e,n)&&t.push(n);return t},u=function(e,t){return{value:e[t]}},l=function(e,t,n){return e[t]=n.value,e},c=function(e){return e},p=function(e){try{return Object(e).constructor.prototype}catch(t){return s}},h=function(e){try{return"[object Array]"===o.call(e)}catch(t){return!1}};t.exports={isArray:h,keys:a,names:a,defineProperty:l,getDescriptor:u,freeze:c,getPrototypeOf:p,isES5:r,propertyIsWritable:function(){return!0}}}},{}],15:[function(e,t,n){"use strict";t.exports=function(e,t){var n=e.map;e.prototype.filter=function(e,r){return n(this,e,r,t)},e.filter=function(e,r,i){return n(e,r,i,t)}}},{}],16:[function(e,t,n){"use strict";t.exports=function(t,n,r){function i(){return this}function o(){throw this}function s(e){return function(){return e}}function a(e){return function(){throw e}}function u(e,t,n){var r;return r=h(t)?n?s(t):a(t):n?i:o,e._then(r,f,void 0,t,void 0)}function l(e){var i=this.promise,o=this.handler,s=i._isBound()?o.call(i._boundValue()):o();if(void 0!==s){var a=r(s,i);if(a instanceof t)return a=a._target(),u(a,e,i.isFulfilled())}return i.isRejected()?(n.e=e,n):e}function c(e){var n=this.promise,i=this.handler,o=n._isBound()?i.call(n._boundValue(),e):i(e);if(void 0!==o){var s=r(o,n);if(s instanceof t)return s=s._target(),u(s,e,!0)}return e}var p=e("./util.js"),h=p.isPrimitive,f=p.thrower;t.prototype._passThroughHandler=function(e,t){if("function"!=typeof e)return this.then();var n={promise:this,handler:e};return this._then(t?l:c,t?l:void 0,void 0,n,void 0)},t.prototype.lastly=t.prototype["finally"]=function(e){return this._passThroughHandler(e,!0)},t.prototype.tap=function(e){return this._passThroughHandler(e,!1)}}},{"./util.js":38}],17:[function(e,t,n){"use strict";t.exports=function(t,n,r,i){function o(e,n,r){for(var o=0;o<n.length;++o){r._pushContext();var s=p(n[o])(e);if(r._popContext(),s===c){r._pushContext();var a=t.reject(c.e);return r._popContext(),a}var u=i(s,r);if(u instanceof t)return u}return null}function s(e,n,i,o){var s=this._promise=new t(r);s._captureStackTrace(),this._stack=o,this._generatorFunction=e,this._receiver=n,this._generator=void 0,this._yieldHandlers="function"==typeof i?[i].concat(h):h}var a=e("./errors.js"),u=a.TypeError,l=e("./util.js"),c=l.errorObj,p=l.tryCatch,h=[];s.prototype.promise=function(){return this._promise},s.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._next(void 0)},s.prototype._continue=function(e){if(e===c)return this._promise._rejectCallback(e.e,!1,!0);var n=e.value;if(e.done===!0)this._promise._resolveCallback(n);else{var r=i(n,this._promise);if(!(r instanceof t)&&(r=o(r,this._yieldHandlers,this._promise),null===r))return void this._throw(new u("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/4Y4pDk\n\n".replace("%s",n)+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")));r._then(this._next,this._throw,void 0,this,null)}},s.prototype._throw=function(e){this._promise._attachExtraTrace(e),this._promise._pushContext();var t=p(this._generator["throw"]).call(this._generator,e);this._promise._popContext(),this._continue(t)},s.prototype._next=function(e){this._promise._pushContext();var t=p(this._generator.next).call(this._generator,e);this._promise._popContext(),this._continue(t)},t.coroutine=function(e,t){if("function"!=typeof e)throw new u("generatorFunction must be a function\n\n    See http://goo.gl/6Vqhm0\n");var n=Object(t).yieldHandler,r=s,i=(new Error).stack;return function(){var t=e.apply(this,arguments),o=new r(void 0,void 0,n,i);return o._generator=t,o._next(void 0),o.promise()}},t.coroutine.addYieldHandler=function(e){if("function"!=typeof e)throw new u("fn must be a function\n\n    See http://goo.gl/916lJJ\n");h.push(e)},t.spawn=function(e){if("function"!=typeof e)return n("generatorFunction must be a function\n\n    See http://goo.gl/6Vqhm0\n");var r=new s(e,this),i=r.promise();return r._run(t.spawn),i}}},{"./errors.js":13,"./util.js":38}],18:[function(e,t,n){"use strict";t.exports=function(t,n,r,i){var o=e("./util.js");o.canEvaluate,o.tryCatch,o.errorObj;t.join=function(){var e,t=arguments.length-1;if(t>0&&"function"==typeof arguments[t]){e=arguments[t];var r}for(var i=arguments.length,o=new Array(i),s=0;i>s;++s)o[s]=arguments[s];e&&o.pop();var r=new n(o).promise();return void 0!==e?r.spread(e):r}}},{"./util.js":38}],19:[function(e,t,n){"use strict";t.exports=function(t,n,r,i,o){function s(e,t,n,r){this.constructor$(e),this._promise._captureStackTrace();var i=l();this._callback=null===i?t:i.bind(t),this._preservedValues=r===o?new Array(this.length()):null,this._limit=n,this._inFlight=0,this._queue=n>=1?[]:m,c.invoke(a,this,void 0)}function a(){this._init$(void 0,-2)}function u(e,t,n,r){var i="object"==typeof n&&null!==n?n.concurrency:0;return i="number"==typeof i&&isFinite(i)&&i>=1?i:0,new s(e,t,i,r)}var l=t._getDomain,c=e("./async.js"),p=e("./util.js"),h=p.tryCatch,f=p.errorObj,d={},m=[];p.inherits(s,n),s.prototype._init=function(){},s.prototype._promiseFulfilled=function(e,n){var r=this._values,o=this.length(),s=this._preservedValues,a=this._limit;if(r[n]===d){if(r[n]=e,a>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return}else{if(a>=1&&this._inFlight>=a)return r[n]=e,void this._queue.push(n);null!==s&&(s[n]=e);var u=this._callback,l=this._promise._boundValue();this._promise._pushContext();var c=h(u).call(l,e,n,o);if(this._promise._popContext(),c===f)return this._reject(c.e);var p=i(c,this._promise);if(p instanceof t){if(p=p._target(),p._isPending())return a>=1&&this._inFlight++,r[n]=d,p._proxyPromiseArray(this,n);if(!p._isFulfilled())return this._reject(p._reason());c=p._value()}r[n]=c}var m=++this._totalResolved;m>=o&&(null!==s?this._filter(r,s):this._resolve(r))},s.prototype._drainQueue=function(){for(var e=this._queue,t=this._limit,n=this._values;e.length>0&&this._inFlight<t;){if(this._isResolved())return;var r=e.pop();this._promiseFulfilled(n[r],r)}},s.prototype._filter=function(e,t){for(var n=t.length,r=new Array(n),i=0,o=0;n>o;++o)e[o]&&(r[i++]=t[o]);r.length=i,this._resolve(r)},s.prototype.preservedValues=function(){return this._preservedValues},t.prototype.map=function(e,t){return"function"!=typeof e?r("fn must be a function\n\n    See http://goo.gl/916lJJ\n"):u(this,e,t,null).promise()},t.map=function(e,t,n,i){return"function"!=typeof t?r("fn must be a function\n\n    See http://goo.gl/916lJJ\n"):u(e,t,n,i).promise()}}},{"./async.js":2,"./util.js":38}],20:[function(e,t,n){"use strict";t.exports=function(t,n,r,i){var o=e("./util.js"),s=o.tryCatch;t.method=function(e){if("function"!=typeof e)throw new t.TypeError("fn must be a function\n\n    See http://goo.gl/916lJJ\n");return function(){var r=new t(n);r._captureStackTrace(),r._pushContext();var i=s(e).apply(this,arguments);return r._popContext(),r._resolveFromSyncValue(i),r}},t.attempt=t["try"]=function(e,r,a){if("function"!=typeof e)return i("fn must be a function\n\n    See http://goo.gl/916lJJ\n");var u=new t(n);u._captureStackTrace(),u._pushContext();var l=o.isArray(r)?s(e).apply(a,r):s(e).call(a,r);return u._popContext(),u._resolveFromSyncValue(l),u},t.prototype._resolveFromSyncValue=function(e){e===o.errorObj?this._rejectCallback(e.e,!1,!0):this._resolveCallback(e,!0)}}},{"./util.js":38}],21:[function(e,t,n){"use strict";t.exports=function(t){function n(e,t){var n=this;if(!o.isArray(e))return r.call(n,e,t);var i=a(t).apply(n._boundValue(),[null].concat(e));i===u&&s.throwLater(i.e)}function r(e,t){var n=this,r=n._boundValue(),i=void 0===e?a(t).call(r,null):a(t).call(r,null,e);i===u&&s.throwLater(i.e)}function i(e,t){var n=this;if(!e){var r=n._target(),i=r._getCarriedStackTrace();i.cause=e,e=i}var o=a(t).call(n._boundValue(),e);o===u&&s.throwLater(o.e)}var o=e("./util.js"),s=e("./async.js"),a=o.tryCatch,u=o.errorObj;t.prototype.asCallback=t.prototype.nodeify=function(e,t){if("function"==typeof e){var o=r;void 0!==t&&Object(t).spread&&(o=n),this._then(o,i,void 0,this,e)}return this}}},{"./async.js":2,"./util.js":38}],22:[function(e,t,n){"use strict";t.exports=function(t,n){var r=e("./util.js"),i=e("./async.js"),o=r.tryCatch,s=r.errorObj;t.prototype.progressed=function(e){return this._then(void 0,void 0,e,void 0,void 0)},t.prototype._progress=function(e){this._isFollowingOrFulfilledOrRejected()||this._target()._progressUnchecked(e)},t.prototype._progressHandlerAt=function(e){return 0===e?this._progressHandler0:this[(e<<2)+e-5+2]},t.prototype._doProgressWith=function(e){var n=e.value,i=e.handler,a=e.promise,u=e.receiver,l=o(i).call(u,n);if(l===s){if(null!=l.e&&"StopProgressPropagation"!==l.e.name){var c=r.canAttachTrace(l.e)?l.e:new Error(r.toString(l.e));a._attachExtraTrace(c),a._progress(l.e)}}else l instanceof t?l._then(a._progress,null,null,a,void 0):a._progress(l)},t.prototype._progressUnchecked=function(e){for(var r=this._length(),o=this._progress,s=0;r>s;s++){var a=this._progressHandlerAt(s),u=this._promiseAt(s);if(u instanceof t)"function"==typeof a?i.invoke(this._doProgressWith,this,{handler:a,promise:u,receiver:this._receiverAt(s),value:e}):i.invoke(o,u,e);else{var l=this._receiverAt(s);"function"==typeof a?a.call(l,e,u):l instanceof n&&!l._isResolved()&&l._promiseProgressed(e,u)}}}}},{"./async.js":2,"./util.js":38}],23:[function(e,n,r){"use strict";n.exports=function(){function n(e){if("function"!=typeof e)throw new h("the promise constructor requires a resolver function\n\n    See http://goo.gl/EC22Yn\n");if(this.constructor!==n)throw new h("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/KsIlge\n");this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._progressHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._settledValue=void 0,e!==f&&this._resolveFromResolver(e)}function r(e){var t=new n(f);t._fulfillmentHandler0=e,t._rejectionHandler0=e,t._progressHandler0=e,t._promise0=e,t._receiver0=e,t._settledValue=e}var i,o=function(){return new h("circular promise resolution chain\n\n    See http://goo.gl/LhFpo0\n")},s=function(){return new n.PromiseInspection(this._target())},a=function(e){return n.reject(new h(e))},u=e("./util.js");i=u.isNode?function(){var e=t.domain;return void 0===e&&(e=null),e}:function(){return null},u.notEnumerableProp(n,"_getDomain",i);var l={},c=e("./async.js"),p=e("./errors.js"),h=n.TypeError=p.TypeError;n.RangeError=p.RangeError,n.CancellationError=p.CancellationError,n.TimeoutError=p.TimeoutError,n.OperationalError=p.OperationalError,n.RejectionError=p.OperationalError,n.AggregateError=p.AggregateError;var f=function(){},d={},m={e:null},g=e("./thenables.js")(n,f),v=e("./promise_array.js")(n,f,g,a),y=e("./captured_trace.js")(),b=e("./debuggability.js")(n,y),_=e("./context.js")(n,y,b),w=e("./catch_filter.js")(m),E=e("./promise_resolver.js"),x=E._nodebackForPromise,N=u.errorObj,C=u.tryCatch;return n.prototype.toString=function(){return"[object Promise]"},n.prototype.caught=n.prototype["catch"]=function(e){var t=arguments.length;if(t>1){var r,i=new Array(t-1),o=0;for(r=0;t-1>r;++r){var s=arguments[r];if("function"!=typeof s)return n.reject(new h("Catch filter must inherit from Error or be a simple predicate function\n\n    See http://goo.gl/o84o68\n"));i[o++]=s}i.length=o,e=arguments[r];var a=new w(i,e,this);return this._then(void 0,a.doFilter,void 0,a,void 0)}return this._then(void 0,e,void 0,void 0,void 0)},n.prototype.reflect=function(){return this._then(s,s,void 0,this,void 0)},n.prototype.then=function(e,t,n){if(b()&&arguments.length>0&&"function"!=typeof e&&"function"!=typeof t){var r=".then() only accepts functions but was passed: "+u.classString(e);arguments.length>1&&(r+=", "+u.classString(t)),this._warn(r)}return this._then(e,t,n,void 0,void 0)},n.prototype.done=function(e,t,n){var r=this._then(e,t,n,void 0,void 0);r._setIsFinal()},n.prototype.spread=function(e,t){return this.all()._then(e,t,void 0,d,void 0)},n.prototype.isCancellable=function(){return!this.isResolved()&&this._cancellable()},n.prototype.toJSON=function(){
var e={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(e.fulfillmentValue=this.value(),e.isFulfilled=!0):this.isRejected()&&(e.rejectionReason=this.reason(),e.isRejected=!0),e},n.prototype.all=function(){return new v(this).promise()},n.prototype.error=function(e){return this.caught(u.originatesFromRejection,e)},n.is=function(e){return e instanceof n},n.fromNode=function(e){var t=new n(f),r=C(e)(x(t));return r===N&&t._rejectCallback(r.e,!0,!0),t},n.all=function(e){return new v(e).promise()},n.defer=n.pending=function(){var e=new n(f);return new E(e)},n.cast=function(e){var t=g(e);if(!(t instanceof n)){var r=t;t=new n(f),t._fulfillUnchecked(r)}return t},n.resolve=n.fulfilled=n.cast,n.reject=n.rejected=function(e){var t=new n(f);return t._captureStackTrace(),t._rejectCallback(e,!0),t},n.setScheduler=function(e){if("function"!=typeof e)throw new h("fn must be a function\n\n    See http://goo.gl/916lJJ\n");var t=c._schedule;return c._schedule=e,t},n.prototype._then=function(e,t,r,o,s){var a=void 0!==s,u=a?s:new n(f);a||(u._propagateFrom(this,5),u._captureStackTrace());var l=this._target();l!==this&&(void 0===o&&(o=this._boundTo),a||u._setIsMigrated());var p=l._addCallbacks(e,t,r,u,o,i());return l._isResolved()&&!l._isSettlePromisesQueued()&&c.invoke(l._settlePromiseAtPostResolution,l,p),u},n.prototype._settlePromiseAtPostResolution=function(e){this._isRejectionUnhandled()&&this._unsetRejectionIsUnhandled(),this._settlePromiseAt(e)},n.prototype._length=function(){return 131071&this._bitField},n.prototype._isFollowingOrFulfilledOrRejected=function(){return(939524096&this._bitField)>0},n.prototype._isFollowing=function(){return 536870912===(536870912&this._bitField)},n.prototype._setLength=function(e){this._bitField=-131072&this._bitField|131071&e},n.prototype._setFulfilled=function(){this._bitField=268435456|this._bitField},n.prototype._setRejected=function(){this._bitField=134217728|this._bitField},n.prototype._setFollowing=function(){this._bitField=536870912|this._bitField},n.prototype._setIsFinal=function(){this._bitField=33554432|this._bitField},n.prototype._isFinal=function(){return(33554432&this._bitField)>0},n.prototype._cancellable=function(){return(67108864&this._bitField)>0},n.prototype._setCancellable=function(){this._bitField=67108864|this._bitField},n.prototype._unsetCancellable=function(){this._bitField=-67108865&this._bitField},n.prototype._setIsMigrated=function(){this._bitField=4194304|this._bitField},n.prototype._unsetIsMigrated=function(){this._bitField=-4194305&this._bitField},n.prototype._isMigrated=function(){return(4194304&this._bitField)>0},n.prototype._receiverAt=function(e){var t=0===e?this._receiver0:this[5*e-5+4];return t===l?void 0:void 0===t&&this._isBound()?this._boundValue():t},n.prototype._promiseAt=function(e){return 0===e?this._promise0:this[5*e-5+3]},n.prototype._fulfillmentHandlerAt=function(e){return 0===e?this._fulfillmentHandler0:this[5*e-5+0]},n.prototype._rejectionHandlerAt=function(e){return 0===e?this._rejectionHandler0:this[5*e-5+1]},n.prototype._boundValue=function(){var e=this._boundTo;return void 0!==e&&e instanceof n?e.isFulfilled()?e.value():void 0:e},n.prototype._migrateCallbacks=function(e,t){var r=e._fulfillmentHandlerAt(t),i=e._rejectionHandlerAt(t),o=e._progressHandlerAt(t),s=e._promiseAt(t),a=e._receiverAt(t);s instanceof n&&s._setIsMigrated(),void 0===a&&(a=l),this._addCallbacks(r,i,o,s,a,null)},n.prototype._addCallbacks=function(e,t,n,r,i,o){var s=this._length();if(s>=131066&&(s=0,this._setLength(0)),0===s)this._promise0=r,void 0!==i&&(this._receiver0=i),"function"!=typeof e||this._isCarryingStackTrace()||(this._fulfillmentHandler0=null===o?e:o.bind(e)),"function"==typeof t&&(this._rejectionHandler0=null===o?t:o.bind(t)),"function"==typeof n&&(this._progressHandler0=null===o?n:o.bind(n));else{var a=5*s-5;this[a+3]=r,this[a+4]=i,"function"==typeof e&&(this[a+0]=null===o?e:o.bind(e)),"function"==typeof t&&(this[a+1]=null===o?t:o.bind(t)),"function"==typeof n&&(this[a+2]=null===o?n:o.bind(n))}return this._setLength(s+1),s},n.prototype._setProxyHandlers=function(e,t){var n=this._length();if(n>=131066&&(n=0,this._setLength(0)),0===n)this._promise0=t,this._receiver0=e;else{var r=5*n-5;this[r+3]=t,this[r+4]=e}this._setLength(n+1)},n.prototype._proxyPromiseArray=function(e,t){this._setProxyHandlers(e,t)},n.prototype._resolveCallback=function(e,t){if(!this._isFollowingOrFulfilledOrRejected()){if(e===this)return this._rejectCallback(o(),!1,!0);var r=g(e,this);if(!(r instanceof n))return this._fulfill(e);var i=1|(t?4:0);this._propagateFrom(r,i);var s=r._target();if(s._isPending()){for(var a=this._length(),u=0;a>u;++u)s._migrateCallbacks(this,u);this._setFollowing(),this._setLength(0),this._setFollowee(s)}else s._isFulfilled()?this._fulfillUnchecked(s._value()):this._rejectUnchecked(s._reason(),s._getCarriedStackTrace())}},n.prototype._rejectCallback=function(e,t,n){n||u.markAsOriginatingFromRejection(e);var r=u.ensureErrorObject(e),i=r===e;this._attachExtraTrace(r,t?i:!1),this._reject(e,i?void 0:r)},n.prototype._resolveFromResolver=function(e){var t=this;this._captureStackTrace(),this._pushContext();var n=!0,r=C(e)(function(e){null!==t&&(t._resolveCallback(e),t=null)},function(e){null!==t&&(t._rejectCallback(e,n),t=null)});n=!1,this._popContext(),void 0!==r&&r===N&&null!==t&&(t._rejectCallback(r.e,!0,!0),t=null)},n.prototype._settlePromiseFromHandler=function(e,t,n,r){if(!r._isRejected()){r._pushContext();var i;if(i=t!==d||this._isRejected()?C(e).call(t,n):C(e).apply(this._boundValue(),n),r._popContext(),i===N||i===r||i===m){var s=i===r?o():i.e;r._rejectCallback(s,!1,!0)}else r._resolveCallback(i)}},n.prototype._target=function(){for(var e=this;e._isFollowing();)e=e._followee();return e},n.prototype._followee=function(){return this._rejectionHandler0},n.prototype._setFollowee=function(e){this._rejectionHandler0=e},n.prototype._cleanValues=function(){this._cancellable()&&(this._cancellationParent=void 0)},n.prototype._propagateFrom=function(e,t){(1&t)>0&&e._cancellable()&&(this._setCancellable(),this._cancellationParent=e),(4&t)>0&&e._isBound()&&this._setBoundTo(e._boundTo)},n.prototype._fulfill=function(e){this._isFollowingOrFulfilledOrRejected()||this._fulfillUnchecked(e)},n.prototype._reject=function(e,t){this._isFollowingOrFulfilledOrRejected()||this._rejectUnchecked(e,t)},n.prototype._settlePromiseAt=function(e){var t=this._promiseAt(e),r=t instanceof n;if(r&&t._isMigrated())return t._unsetIsMigrated(),c.invoke(this._settlePromiseAt,this,e);var i=this._isFulfilled()?this._fulfillmentHandlerAt(e):this._rejectionHandlerAt(e),o=this._isCarryingStackTrace()?this._getCarriedStackTrace():void 0,s=this._settledValue,a=this._receiverAt(e);this._clearCallbackDataAtIndex(e),"function"==typeof i?r?this._settlePromiseFromHandler(i,a,s,t):i.call(a,s,t):a instanceof v?a._isResolved()||(this._isFulfilled()?a._promiseFulfilled(s,t):a._promiseRejected(s,t)):r&&(this._isFulfilled()?t._fulfill(s):t._reject(s,o)),e>=4&&4===(31&e)&&c.invokeLater(this._setLength,this,0)},n.prototype._clearCallbackDataAtIndex=function(e){if(0===e)this._isCarryingStackTrace()||(this._fulfillmentHandler0=void 0),this._rejectionHandler0=this._progressHandler0=this._receiver0=this._promise0=void 0;else{var t=5*e-5;this[t+3]=this[t+4]=this[t+0]=this[t+1]=this[t+2]=void 0}},n.prototype._isSettlePromisesQueued=function(){return-1073741824===(-1073741824&this._bitField)},n.prototype._setSettlePromisesQueued=function(){this._bitField=-1073741824|this._bitField},n.prototype._unsetSettlePromisesQueued=function(){this._bitField=1073741823&this._bitField},n.prototype._queueSettlePromises=function(){c.settlePromises(this),this._setSettlePromisesQueued()},n.prototype._fulfillUnchecked=function(e){if(e===this){var t=o();return this._attachExtraTrace(t),this._rejectUnchecked(t,void 0)}this._setFulfilled(),this._settledValue=e,this._cleanValues(),this._length()>0&&this._queueSettlePromises()},n.prototype._rejectUncheckedCheckError=function(e){var t=u.ensureErrorObject(e);this._rejectUnchecked(e,t===e?void 0:t)},n.prototype._rejectUnchecked=function(e,t){if(e===this){var n=o();return this._attachExtraTrace(n),this._rejectUnchecked(n)}return this._setRejected(),this._settledValue=e,this._cleanValues(),this._isFinal()?void c.throwLater(function(e){throw"stack"in e&&c.invokeFirst(y.unhandledRejection,void 0,e),e},void 0===t?e:t):(void 0!==t&&t!==e&&this._setCarriedStackTrace(t),void(this._length()>0?this._queueSettlePromises():this._ensurePossibleRejectionHandled()))},n.prototype._settlePromises=function(){this._unsetSettlePromisesQueued();for(var e=this._length(),t=0;e>t;t++)this._settlePromiseAt(t)},u.notEnumerableProp(n,"_makeSelfResolutionError",o),e("./progress.js")(n,v),e("./method.js")(n,f,g,a),e("./bind.js")(n,f,g),e("./finally.js")(n,m,g),e("./direct_resolve.js")(n),e("./synchronous_inspection.js")(n),e("./join.js")(n,v,g,f),n.Promise=n,e("./map.js")(n,v,a,g,f),e("./cancel.js")(n),e("./using.js")(n,a,g,_),e("./generators.js")(n,a,f,g),e("./nodeify.js")(n),e("./call_get.js")(n),e("./props.js")(n,v,g,a),e("./race.js")(n,f,g,a),e("./reduce.js")(n,v,a,g,f),e("./settle.js")(n,v),e("./some.js")(n,v,a),e("./promisify.js")(n,f),e("./any.js")(n),e("./each.js")(n,f),e("./timers.js")(n,f),e("./filter.js")(n,f),u.toFastProperties(n),u.toFastProperties(n.prototype),r({a:1}),r({b:2}),r({c:3}),r(1),r(function(){}),r(void 0),r(!1),r(new n(f)),y.setBounds(c.firstLineError,u.lastLineError),n}},{"./any.js":1,"./async.js":2,"./bind.js":3,"./call_get.js":5,"./cancel.js":6,"./captured_trace.js":7,"./catch_filter.js":8,"./context.js":9,"./debuggability.js":10,"./direct_resolve.js":11,"./each.js":12,"./errors.js":13,"./filter.js":15,"./finally.js":16,"./generators.js":17,"./join.js":18,"./map.js":19,"./method.js":20,"./nodeify.js":21,"./progress.js":22,"./promise_array.js":24,"./promise_resolver.js":25,"./promisify.js":26,"./props.js":27,"./race.js":29,"./reduce.js":30,"./settle.js":32,"./some.js":33,"./synchronous_inspection.js":34,"./thenables.js":35,"./timers.js":36,"./using.js":37,"./util.js":38}],24:[function(e,t,n){"use strict";t.exports=function(t,n,r,i){function o(e){switch(e){case-2:return[];case-3:return{}}}function s(e){var r,i=this._promise=new t(n);e instanceof t&&(r=e,i._propagateFrom(r,5)),this._values=e,this._length=0,this._totalResolved=0,this._init(void 0,-2)}var a=e("./util.js"),u=a.isArray;return s.prototype.length=function(){return this._length},s.prototype.promise=function(){return this._promise},s.prototype._init=function l(e,n){var s=r(this._values,this._promise);if(s instanceof t){if(s=s._target(),this._values=s,!s._isFulfilled())return s._isPending()?void s._then(l,this._reject,void 0,this,n):void this._reject(s._reason());if(s=s._value(),!u(s)){var a=new t.TypeError("expecting an array, a promise or a thenable\n\n    See http://goo.gl/s8MMhc\n");return void this.__hardReject__(a)}}else if(!u(s))return void this._promise._reject(i("expecting an array, a promise or a thenable\n\n    See http://goo.gl/s8MMhc\n")._reason());if(0===s.length)return void(-5===n?this._resolveEmptyArray():this._resolve(o(n)));var c=this.getActualLength(s.length);this._length=c,this._values=this.shouldCopyValues()?new Array(c):this._values;for(var p=this._promise,h=0;c>h;++h){var f=this._isResolved(),d=r(s[h],p);d instanceof t?(d=d._target(),f?d._ignoreRejections():d._isPending()?d._proxyPromiseArray(this,h):d._isFulfilled()?this._promiseFulfilled(d._value(),h):this._promiseRejected(d._reason(),h)):f||this._promiseFulfilled(d,h)}},s.prototype._isResolved=function(){return null===this._values},s.prototype._resolve=function(e){this._values=null,this._promise._fulfill(e)},s.prototype.__hardReject__=s.prototype._reject=function(e){this._values=null,this._promise._rejectCallback(e,!1,!0)},s.prototype._promiseProgressed=function(e,t){this._promise._progress({index:t,value:e})},s.prototype._promiseFulfilled=function(e,t){this._values[t]=e;var n=++this._totalResolved;n>=this._length&&this._resolve(this._values)},s.prototype._promiseRejected=function(e,t){this._totalResolved++,this._reject(e)},s.prototype.shouldCopyValues=function(){return!0},s.prototype.getActualLength=function(e){return e},s}},{"./util.js":38}],25:[function(e,t,n){"use strict";function r(e){return e instanceof Error&&f.getPrototypeOf(e)===Error.prototype}function i(e){var t;if(r(e)){t=new p(e),t.name=e.name,t.message=e.message,t.stack=e.stack;for(var n=f.keys(e),i=0;i<n.length;++i){var o=n[i];d.test(o)||(t[o]=e[o])}return t}return a.markAsOriginatingFromRejection(e),e}function o(e){return function(t,n){if(null!==e){if(t){var r=i(u(t));e._attachExtraTrace(r),e._reject(r)}else if(arguments.length>2){for(var o=arguments.length,s=new Array(o-1),a=1;o>a;++a)s[a-1]=arguments[a];e._fulfill(s)}else e._fulfill(n);e=null}}}var s,a=e("./util.js"),u=a.maybeWrapAsError,l=e("./errors.js"),c=l.TimeoutError,p=l.OperationalError,h=a.haveGetters,f=e("./es5.js"),d=/^(?:name|message|stack|cause)$/;if(s=h?function(e){this.promise=e}:function(e){this.promise=e,this.asCallback=o(e),this.callback=this.asCallback},h){var m={get:function(){return o(this.promise)}};f.defineProperty(s.prototype,"asCallback",m),f.defineProperty(s.prototype,"callback",m)}s._nodebackForPromise=o,s.prototype.toString=function(){return"[object PromiseResolver]"},s.prototype.resolve=s.prototype.fulfill=function(e){if(!(this instanceof s))throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.\n\n    See http://goo.gl/sdkXL9\n");this.promise._resolveCallback(e)},s.prototype.reject=function(e){if(!(this instanceof s))throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.\n\n    See http://goo.gl/sdkXL9\n");this.promise._rejectCallback(e)},s.prototype.progress=function(e){if(!(this instanceof s))throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.\n\n    See http://goo.gl/sdkXL9\n");this.promise._progress(e)},s.prototype.cancel=function(e){this.promise.cancel(e)},s.prototype.timeout=function(){this.reject(new c("timeout"))},s.prototype.isResolved=function(){return this.promise.isResolved()},s.prototype.toJSON=function(){return this.promise.toJSON()},t.exports=s},{"./errors.js":13,"./es5.js":14,"./util.js":38}],26:[function(e,t,n){"use strict";t.exports=function(t,n){function r(e){return!E.test(e)}function i(e){try{return e.__isPromisified__===!0}catch(t){return!1}}function o(e,t,n){var r=f.getDataPropertyOrDefault(e,t+n,_);return r?i(r):!1}function s(e,t,n){for(var r=0;r<e.length;r+=2){var i=e[r];if(n.test(i))for(var o=i.replace(n,""),s=0;s<e.length;s+=2)if(e[s]===o)throw new y("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/iWrZbw\n".replace("%s",t))}}function a(e,t,n,r){for(var a=f.inheritedDataKeys(e),u=[],l=0;l<a.length;++l){var c=a[l],p=e[c],h=r===x?!0:x(c,p,e);"function"!=typeof p||i(p)||o(e,c,t)||!r(c,p,e,h)||u.push(c,p)}return s(u,t,n),u}function u(e,r,i,o){function s(){var i=r;r===h&&(i=this);var o=new t(n);o._captureStackTrace();var s="string"==typeof u&&this!==a?this[u]:e,l=d(o);try{s.apply(i,m(arguments,l))}catch(c){o._rejectCallback(g(c),!0,!0)}return o}var a=function(){return this}(),u=e;return"string"==typeof u&&(e=o),f.notEnumerableProp(s,"__isPromisified__",!0),s}function l(e,t,n,r){for(var i=new RegExp(N(t)+"$"),o=a(e,t,i,n),s=0,u=o.length;u>s;s+=2){var l=o[s],c=o[s+1],p=l+t;e[p]=r===C?C(l,h,l,c,t):r(c,function(){return C(l,h,l,c,t)})}return f.toFastProperties(e),e}function c(e,t){return C(e,t,void 0,e)}var p,h={},f=e("./util.js"),d=e("./promise_resolver.js")._nodebackForPromise,m=f.withAppended,g=f.maybeWrapAsError,v=f.canEvaluate,y=e("./errors").TypeError,b="Async",_={__isPromisified__:!0},w=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"],E=new RegExp("^(?:"+w.join("|")+")$"),x=function(e){return f.isIdentifier(e)&&"_"!==e.charAt(0)&&"constructor"!==e},N=function(e){return e.replace(/([$])/,"\\$")},C=v?p:u;t.promisify=function(e,t){if("function"!=typeof e)throw new y("fn must be a function\n\n    See http://goo.gl/916lJJ\n");if(i(e))return e;var n=c(e,arguments.length<2?h:t);return f.copyDescriptors(e,n,r),n},t.promisifyAll=function(e,t){if("function"!=typeof e&&"object"!=typeof e)throw new y("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/9ITlV0\n");t=Object(t);var n=t.suffix;"string"!=typeof n&&(n=b);var r=t.filter;"function"!=typeof r&&(r=x);var i=t.promisifier;if("function"!=typeof i&&(i=C),!f.isIdentifier(n))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/8FZo5V\n");for(var o=f.inheritedDataKeys(e),s=0;s<o.length;++s){var a=e[o[s]];"constructor"!==o[s]&&f.isClass(a)&&(l(a.prototype,n,r,i),l(a,n,r,i))}return l(e,n,r,i)}}},{"./errors":13,"./promise_resolver.js":25,"./util.js":38}],27:[function(e,t,n){"use strict";t.exports=function(t,n,r,i){function o(e){for(var t=l.keys(e),n=t.length,r=new Array(2*n),i=0;n>i;++i){var o=t[i];r[i]=e[o],r[i+n]=o}this.constructor$(r)}function s(e){var n,s=r(e);return u(s)?(n=s instanceof t?s._then(t.props,void 0,void 0,void 0,void 0):new o(s).promise(),s instanceof t&&n._propagateFrom(s,4),n):i("cannot await properties of a non-object\n\n    See http://goo.gl/OsFKC8\n")}var a=e("./util.js"),u=a.isObject,l=e("./es5.js");a.inherits(o,n),o.prototype._init=function(){this._init$(void 0,-3)},o.prototype._promiseFulfilled=function(e,t){this._values[t]=e;var n=++this._totalResolved;if(n>=this._length){for(var r={},i=this.length(),o=0,s=this.length();s>o;++o)r[this._values[o+i]]=this._values[o];this._resolve(r)}},o.prototype._promiseProgressed=function(e,t){this._promise._progress({key:this._values[t+this.length()],value:e})},o.prototype.shouldCopyValues=function(){return!1},o.prototype.getActualLength=function(e){return e>>1},t.prototype.props=function(){return s(this)},t.props=function(e){return s(e)}}},{"./es5.js":14,"./util.js":38}],28:[function(e,t,n){"use strict";function r(e,t,n,r,i){for(var o=0;i>o;++o)n[o+r]=e[o+t],e[o+t]=void 0}function i(e){this._capacity=e,this._length=0,this._front=0}i.prototype._willBeOverCapacity=function(e){return this._capacity<e},i.prototype._pushOne=function(e){var t=this.length();this._checkCapacity(t+1);var n=this._front+t&this._capacity-1;this[n]=e,this._length=t+1},i.prototype._unshiftOne=function(e){var t=this._capacity;this._checkCapacity(this.length()+1);var n=this._front,r=(n-1&t-1^t)-t;this[r]=e,this._front=r,this._length=this.length()+1},i.prototype.unshift=function(e,t,n){this._unshiftOne(n),this._unshiftOne(t),this._unshiftOne(e)},i.prototype.push=function(e,t,n){var r=this.length()+3;if(this._willBeOverCapacity(r))return this._pushOne(e),this._pushOne(t),void this._pushOne(n);var i=this._front+r-3;this._checkCapacity(r);var o=this._capacity-1;this[i+0&o]=e,this[i+1&o]=t,this[i+2&o]=n,this._length=r},i.prototype.shift=function(){var e=this._front,t=this[e];return this[e]=void 0,this._front=e+1&this._capacity-1,this._length--,t},i.prototype.length=function(){return this._length},i.prototype._checkCapacity=function(e){this._capacity<e&&this._resizeTo(this._capacity<<1)},i.prototype._resizeTo=function(e){var t=this._capacity;this._capacity=e;var n=this._front,i=this._length,o=n+i&t-1;r(this,0,this,t,o)},t.exports=i},{}],29:[function(e,t,n){"use strict";t.exports=function(t,n,r,i){function o(e,o){var u=r(e);if(u instanceof t)return a(u);if(!s(e))return i("expecting an array, a promise or a thenable\n\n    See http://goo.gl/s8MMhc\n");var l=new t(n);void 0!==o&&l._propagateFrom(o,5);for(var c=l._fulfill,p=l._reject,h=0,f=e.length;f>h;++h){var d=e[h];(void 0!==d||h in e)&&t.cast(d)._then(c,p,void 0,l,null)}return l}var s=e("./util.js").isArray,a=function(e){return e.then(function(t){return o(t,e)})};t.race=function(e){return o(e,void 0)},t.prototype.race=function(){return o(this,void 0)}}},{"./util.js":38}],30:[function(e,t,n){"use strict";t.exports=function(t,n,r,i,o){function s(e,n,r,s){this.constructor$(e),this._promise._captureStackTrace(),this._preservedValues=s===o?[]:null,this._zerothIsAccum=void 0===r,this._gotAccum=!1,this._reducingIndex=this._zerothIsAccum?1:0,this._valuesPhase=void 0;var u=i(r,this._promise),p=!1,h=u instanceof t;h&&(u=u._target(),u._isPending()?u._proxyPromiseArray(this,-1):u._isFulfilled()?(r=u._value(),this._gotAccum=!0):(this._reject(u._reason()),p=!0)),h||this._zerothIsAccum||(this._gotAccum=!0);var f=l();this._callback=null===f?n:f.bind(n),this._accum=r,p||c.invoke(a,this,void 0)}function a(){this._init$(void 0,-5)}function u(e,t,n,i){if("function"!=typeof t)return r("fn must be a function\n\n    See http://goo.gl/916lJJ\n");var o=new s(e,t,n,i);return o.promise()}var l=t._getDomain,c=e("./async.js"),p=e("./util.js"),h=p.tryCatch,f=p.errorObj;p.inherits(s,n),s.prototype._init=function(){},s.prototype._resolveEmptyArray=function(){(this._gotAccum||this._zerothIsAccum)&&this._resolve(null!==this._preservedValues?[]:this._accum)},s.prototype._promiseFulfilled=function(e,n){var r=this._values;r[n]=e;var o,s=this.length(),a=this._preservedValues,u=null!==a,l=this._gotAccum,c=this._valuesPhase;if(!c)for(c=this._valuesPhase=new Array(s),o=0;s>o;++o)c[o]=0;if(o=c[n],0===n&&this._zerothIsAccum?(this._accum=e,this._gotAccum=l=!0,c[n]=0===o?1:2):-1===n?(this._accum=e,this._gotAccum=l=!0):0===o?c[n]=1:(c[n]=2,this._accum=e),l){for(var p,d=this._callback,m=this._promise._boundValue(),g=this._reducingIndex;s>g;++g)if(o=c[g],2!==o){if(1!==o)return;if(e=r[g],this._promise._pushContext(),u?(a.push(e),p=h(d).call(m,e,g,s)):p=h(d).call(m,this._accum,e,g,s),this._promise._popContext(),p===f)return this._reject(p.e);var v=i(p,this._promise);if(v instanceof t){if(v=v._target(),v._isPending())return c[g]=4,v._proxyPromiseArray(this,g);if(!v._isFulfilled())return this._reject(v._reason());p=v._value()}this._reducingIndex=g+1,this._accum=p}else this._reducingIndex=g+1;this._resolve(u?a:this._accum)}},t.prototype.reduce=function(e,t){return u(this,e,t,null)},t.reduce=function(e,t,n,r){return u(e,t,n,r)}}},{"./async.js":2,"./util.js":38}],31:[function(e,i,o){"use strict";var s,a=e("./util"),u=function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/m3OTXk\n")};if(a.isNode&&"undefined"==typeof MutationObserver){var l=n.setImmediate,c=t.nextTick;s=a.isRecentNode?function(e){l.call(n,e)}:function(e){c.call(t,e)}}else"undefined"==typeof MutationObserver||"undefined"!=typeof window&&window.navigator&&window.navigator.standalone?s="undefined"!=typeof r?function(e){r(e)}:"undefined"!=typeof setTimeout?function(e){setTimeout(e,0)}:u:(s=function(e){var t=document.createElement("div"),n=new MutationObserver(e);return n.observe(t,{attributes:!0}),function(){t.classList.toggle("foo")}},s.isStatic=!0);i.exports=s},{"./util":38}],32:[function(e,t,n){"use strict";t.exports=function(t,n){function r(e){this.constructor$(e)}var i=t.PromiseInspection,o=e("./util.js");o.inherits(r,n),r.prototype._promiseResolved=function(e,t){this._values[e]=t;var n=++this._totalResolved;n>=this._length&&this._resolve(this._values)},r.prototype._promiseFulfilled=function(e,t){var n=new i;n._bitField=268435456,n._settledValue=e,this._promiseResolved(t,n)},r.prototype._promiseRejected=function(e,t){var n=new i;n._bitField=134217728,n._settledValue=e,this._promiseResolved(t,n)},t.settle=function(e){return new r(e).promise()},t.prototype.settle=function(){return new r(this).promise()}}},{"./util.js":38}],33:[function(e,t,n){"use strict";t.exports=function(t,n,r){function i(e){this.constructor$(e),this._howMany=0,this._unwrap=!1,this._initialized=!1}function o(e,t){if((0|t)!==t||0>t)return r("expecting a positive integer\n\n    See http://goo.gl/1wAmHx\n");var n=new i(e),o=n.promise();return n.setHowMany(t),n.init(),o}var s=e("./util.js"),a=e("./errors.js").RangeError,u=e("./errors.js").AggregateError,l=s.isArray;s.inherits(i,n),i.prototype._init=function(){if(this._initialized){if(0===this._howMany)return void this._resolve([]);this._init$(void 0,-5);var e=l(this._values);!this._isResolved()&&e&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},i.prototype.init=function(){this._initialized=!0,this._init()},i.prototype.setUnwrap=function(){this._unwrap=!0},i.prototype.howMany=function(){return this._howMany},i.prototype.setHowMany=function(e){this._howMany=e},i.prototype._promiseFulfilled=function(e){this._addFulfilled(e),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values))},i.prototype._promiseRejected=function(e){if(this._addRejected(e),this.howMany()>this._canPossiblyFulfill()){for(var t=new u,n=this.length();n<this._values.length;++n)t.push(this._values[n]);this._reject(t)}},i.prototype._fulfilled=function(){return this._totalResolved},i.prototype._rejected=function(){return this._values.length-this.length()},i.prototype._addRejected=function(e){this._values.push(e)},i.prototype._addFulfilled=function(e){this._values[this._totalResolved++]=e},i.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},i.prototype._getRangeError=function(e){var t="Input array must contain at least "+this._howMany+" items but contains only "+e+" items";return new a(t)},i.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},t.some=function(e,t){return o(e,t)},t.prototype.some=function(e){return o(this,e)},t._SomePromiseArray=i}},{"./errors.js":13,"./util.js":38}],34:[function(e,t,n){"use strict";t.exports=function(e){function t(e){void 0!==e?(e=e._target(),this._bitField=e._bitField,this._settledValue=e._settledValue):(this._bitField=0,this._settledValue=void 0)}t.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/hc1DLj\n");return this._settledValue},t.prototype.error=t.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/hPuiwB\n");return this._settledValue},t.prototype.isFulfilled=e.prototype._isFulfilled=function(){return(268435456&this._bitField)>0},t.prototype.isRejected=e.prototype._isRejected=function(){return(134217728&this._bitField)>0},t.prototype.isPending=e.prototype._isPending=function(){return 0===(402653184&this._bitField)},t.prototype.isResolved=e.prototype._isResolved=function(){return(402653184&this._bitField)>0},e.prototype.isPending=function(){return this._target()._isPending()},e.prototype.isRejected=function(){return this._target()._isRejected()},e.prototype.isFulfilled=function(){return this._target()._isFulfilled()},e.prototype.isResolved=function(){return this._target()._isResolved()},e.prototype._value=function(){return this._settledValue},e.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue},e.prototype.value=function(){var e=this._target();if(!e.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/hc1DLj\n");return e._settledValue},e.prototype.reason=function(){var e=this._target();if(!e.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/hPuiwB\n");return e._unsetRejectionIsUnhandled(),e._settledValue},e.PromiseInspection=t}},{}],35:[function(e,t,n){"use strict";t.exports=function(t,n){function r(e,r){if(l(e)){if(e instanceof t)return e;if(o(e)){var c=new t(n);return e._then(c._fulfillUnchecked,c._rejectUncheckedCheckError,c._progressUnchecked,c,null),c}var p=a.tryCatch(i)(e);if(p===u){r&&r._pushContext();var c=t.reject(p.e);return r&&r._popContext(),c}if("function"==typeof p)return s(e,p,r)}return e}function i(e){return e.then}function o(e){return c.call(e,"_promise0")}function s(e,r,i){function o(e){c&&(c._resolveCallback(e),c=null)}function s(e){c&&(c._rejectCallback(e,h,!0),c=null)}function l(e){c&&"function"==typeof c._progress&&c._progress(e)}var c=new t(n),p=c;i&&i._pushContext(),c._captureStackTrace(),i&&i._popContext();var h=!0,f=a.tryCatch(r).call(e,o,s,l);return h=!1,c&&f===u&&(c._rejectCallback(f.e,!0,!0),c=null),p}var a=e("./util.js"),u=a.errorObj,l=a.isObject,c={}.hasOwnProperty;return r}},{"./util.js":38}],36:[function(e,t,n){"use strict";t.exports=function(t,n){function r(e){var t=this;return t instanceof Number&&(t=+t),clearTimeout(t),e}function i(e){var t=this;throw t instanceof Number&&(t=+t),clearTimeout(t),e}var o=e("./util.js"),s=t.TimeoutError,a=function(e,t){if(e.isPending()){"string"!=typeof t&&(t="operation timed out");var n=new s(t);o.markAsOriginatingFromRejection(n),e._attachExtraTrace(n),e._cancel(n)}},u=function(e){return l(+this).thenReturn(e)},l=t.delay=function(e,r){if(void 0===r){r=e,e=void 0;var i=new t(n);return setTimeout(function(){i._fulfill()},r),i}return r=+r,t.resolve(e)._then(u,null,null,r,void 0)};t.prototype.delay=function(e){return l(this,e)},t.prototype.timeout=function(e,t){e=+e;var n=this.then().cancellable();n._cancellationParent=this;var o=setTimeout(function(){a(n,t)},e);return n._then(r,i,void 0,o,void 0)}}},{"./util.js":38}],37:[function(e,t,n){"use strict";t.exports=function(t,n,r,i){function o(e){for(var n=e.length,r=0;n>r;++r){var i=e[r];if(i.isRejected())return t.reject(i.error());e[r]=i._settledValue}return e}function s(e){setTimeout(function(){throw e},0)}function a(e){var t=r(e);return t!==e&&"function"==typeof e._isDisposable&&"function"==typeof e._getDisposer&&e._isDisposable()&&t._setDisposable(e._getDisposer()),t}function u(e,n){function i(){if(o>=u)return l.resolve();var c=a(e[o++]);if(c instanceof t&&c._isDisposable()){try{c=r(c._getDisposer().tryDispose(n),e.promise)}catch(p){return s(p)}if(c instanceof t)return c._then(i,s,null,null,null)}i()}var o=0,u=e.length,l=t.defer();return i(),l.promise}function l(e){var t=new g;return t._settledValue=e,t._bitField=268435456,u(this,t).thenReturn(e)}function c(e){var t=new g;return t._settledValue=e,t._bitField=134217728,u(this,t).thenThrow(e)}function p(e,t,n){this._data=e,this._promise=t,this._context=n}function h(e,t,n){this.constructor$(e,t,n)}function f(e){return p.isDisposer(e)?(this.resources[this.index]._setDisposable(e),e.promise()):e}var d=e("./errors.js").TypeError,m=e("./util.js").inherits,g=t.PromiseInspection;p.prototype.data=function(){return this._data},p.prototype.promise=function(){return this._promise},p.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():null},p.prototype.tryDispose=function(e){var t=this.resource(),n=this._context;void 0!==n&&n._pushContext();var r=null!==t?this.doDispose(t,e):null;return void 0!==n&&n._popContext(),this._promise._unsetDisposable(),this._data=null,r},p.isDisposer=function(e){return null!=e&&"function"==typeof e.resource&&"function"==typeof e.tryDispose},m(h,p),h.prototype.doDispose=function(e,t){var n=this.data();return n.call(e,e,t)},t.using=function(){var e=arguments.length;if(2>e)return n("you must pass at least 2 arguments to Promise.using");var i=arguments[e-1];if("function"!=typeof i)return n("fn must be a function\n\n    See http://goo.gl/916lJJ\n");var s,a=!0;2===e&&Array.isArray(arguments[0])?(s=arguments[0],e=s.length,a=!1):(s=arguments,e--);for(var u=new Array(e),h=0;e>h;++h){var d=s[h];if(p.isDisposer(d)){var m=d;d=d.promise(),d._setDisposable(m)}else{var g=r(d);g instanceof t&&(d=g._then(f,null,null,{resources:u,index:h},void 0))}u[h]=d}var v=t.settle(u).then(o).then(function(e){v._pushContext();var t;try{t=a?i.apply(void 0,e):i.call(void 0,e)}finally{v._popContext()}return t})._then(l,c,void 0,u,void 0);return u.promise=v,v},t.prototype._setDisposable=function(e){
this._bitField=262144|this._bitField,this._disposer=e},t.prototype._isDisposable=function(){return(262144&this._bitField)>0},t.prototype._getDisposer=function(){return this._disposer},t.prototype._unsetDisposable=function(){this._bitField=-262145&this._bitField,this._disposer=void 0},t.prototype.disposer=function(e){if("function"==typeof e)return new h(e,this,i());throw new d}}},{"./errors.js":13,"./util.js":38}],38:[function(e,n,r){"use strict";function i(){try{var e=S;return S=null,e.apply(this,arguments)}catch(t){return M.e=t,M}}function o(e){return S=e,i}function s(e){return null==e||e===!0||e===!1||"string"==typeof e||"number"==typeof e}function a(e){return!s(e)}function u(e){return s(e)?new Error(v(e)):e}function l(e,t){var n,r=e.length,i=new Array(r+1);for(n=0;r>n;++n)i[n]=e[n];return i[n]=t,i}function c(e,t,n){if(!x.isES5)return{}.hasOwnProperty.call(e,t)?e[t]:void 0;var r=Object.getOwnPropertyDescriptor(e,t);return null!=r?null==r.get&&null==r.set?r.value:n:void 0}function p(e,t,n){if(s(e))return e;var r={value:n,configurable:!0,enumerable:!1,writable:!0};return x.defineProperty(e,t,r),e}function h(e){throw e}function f(e){try{if("function"==typeof e){var t=x.names(e.prototype),n=x.isES5&&t.length>1,r=t.length>0&&!(1===t.length&&"constructor"===t[0]),i=P.test(e+"")&&x.names(e).length>0;if(n||r||i)return!0}return!1}catch(o){return!1}}function d(e){function t(){}t.prototype=e;for(var n=8;n--;)new t;return e}function m(e){return k.test(e)}function g(e,t,n){for(var r=new Array(e),i=0;e>i;++i)r[i]=t+i+n;return r}function v(e){try{return e+""}catch(t){return"[no string representation]"}}function y(e){try{p(e,"isOperational",!0)}catch(t){}}function b(e){return null==e?!1:e instanceof Error.__BluebirdErrorTypes__.OperationalError||e.isOperational===!0}function _(e){return e instanceof Error&&x.propertyIsWritable(e,"stack")}function w(e){return{}.toString.call(e)}function E(e,t,n){for(var r=x.names(e),i=0;i<r.length;++i){var o=r[i];if(n(o))try{x.defineProperty(t,o,x.getDescriptor(e,o))}catch(s){}}}var x=e("./es5.js"),N="undefined"==typeof navigator,C=function(){try{var e={};return x.defineProperty(e,"f",{get:function(){return 3}}),3===e.f}catch(t){return!1}}(),M={e:{}},S,T=function(e,t){function n(){this.constructor=e,this.constructor$=t;for(var n in t.prototype)r.call(t.prototype,n)&&"$"!==n.charAt(n.length-1)&&(this[n+"$"]=t.prototype[n])}var r={}.hasOwnProperty;return n.prototype=t.prototype,e.prototype=new n,e.prototype},D=function(){var e=[Array.prototype,Object.prototype,Function.prototype],t=function(t){for(var n=0;n<e.length;++n)if(e[n]===t)return!0;return!1};if(x.isES5){var n=Object.getOwnPropertyNames;return function(e){for(var r=[],i=Object.create(null);null!=e&&!t(e);){var o;try{o=n(e)}catch(s){return r}for(var a=0;a<o.length;++a){var u=o[a];if(!i[u]){i[u]=!0;var l=Object.getOwnPropertyDescriptor(e,u);null!=l&&null==l.get&&null==l.set&&r.push(u)}}e=x.getPrototypeOf(e)}return r}}var r={}.hasOwnProperty;return function(n){if(t(n))return[];var i=[];e:for(var o in n)if(r.call(n,o))i.push(o);else{for(var s=0;s<e.length;++s)if(r.call(e[s],o))continue e;i.push(o)}return i}}(),P=/this\s*\.\s*\S+\s*=/,k=/^[a-z$_][a-z$_0-9]*$/i,O=function(){return"stack"in new Error?function(e){return _(e)?e:new Error(v(e))}:function(e){if(_(e))return e;try{throw new Error(v(e))}catch(t){return t}}}(),A={isClass:f,isIdentifier:m,inheritedDataKeys:D,getDataPropertyOrDefault:c,thrower:h,isArray:x.isArray,haveGetters:C,notEnumerableProp:p,isPrimitive:s,isObject:a,canEvaluate:N,errorObj:M,tryCatch:o,inherits:T,withAppended:l,maybeWrapAsError:u,toFastProperties:d,filledRange:g,toString:v,canAttachTrace:_,ensureErrorObject:O,originatesFromRejection:b,markAsOriginatingFromRejection:y,classString:w,copyDescriptors:E,hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:"undefined"!=typeof t&&"[object process]"===w(t).toLowerCase()};A.isRecentNode=A.isNode&&function(){var e=t.versions.node.split(".").map(Number);return 0===e[0]&&e[1]>10||e[0]>0}(),A.isNode&&A.toFastProperties(t);try{throw new Error}catch(j){A.lastLineError=j}n.exports=A},{"./es5.js":14}]},{},[4])(4)}),"undefined"!=typeof window&&null!==window?window.P=window.Promise:"undefined"!=typeof self&&null!==self&&(self.P=self.Promise)}).call(t,n(2),function(){return this}(),n(94).setImmediate)},function(e,t,n){var r,i;!function(){function o(e){return e&&(e.ownerDocument||e.document||e).documentElement}function s(e){return e&&(e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView)}function a(e,t){return t>e?-1:e>t?1:e>=t?0:NaN}function u(e){return null===e?NaN:+e}function l(e){return!isNaN(e)}function c(e){return{left:function(t,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=t.length);i>r;){var o=r+i>>>1;e(t[o],n)<0?r=o+1:i=o}return r},right:function(t,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=t.length);i>r;){var o=r+i>>>1;e(t[o],n)>0?i=o:r=o+1}return r}}}function p(e){return e.length}function h(e){for(var t=1;e*t%1;)t*=10;return t}function f(e,t){for(var n in t)Object.defineProperty(e.prototype,n,{value:t[n],enumerable:!1})}function d(){this._=Object.create(null)}function m(e){return(e+="")===_s||e[0]===ws?ws+e:e}function g(e){return(e+="")[0]===ws?e.slice(1):e}function v(e){return m(e)in this._}function y(e){return(e=m(e))in this._&&delete this._[e]}function b(){var e=[];for(var t in this._)e.push(g(t));return e}function _(){var e=0;for(var t in this._)++e;return e}function w(){for(var e in this._)return!1;return!0}function E(){this._=Object.create(null)}function x(e){return e}function N(e,t,n){return function(){var r=n.apply(t,arguments);return r===t?e:r}}function C(e,t){if(t in e)return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var n=0,r=Es.length;r>n;++n){var i=Es[n]+t;if(i in e)return i}}function M(){}function S(){}function T(e){function t(){for(var t,r=n,i=-1,o=r.length;++i<o;)(t=r[i].on)&&t.apply(this,arguments);return e}var n=[],r=new d;return t.on=function(t,i){var o,s=r.get(t);return arguments.length<2?s&&s.on:(s&&(s.on=null,n=n.slice(0,o=n.indexOf(s)).concat(n.slice(o+1)),r.remove(t)),i&&n.push(r.set(t,{on:i})),e)},t}function D(){as.event.preventDefault()}function P(){for(var e,t=as.event;e=t.sourceEvent;)t=e;return t}function k(e){for(var t=new S,n=0,r=arguments.length;++n<r;)t[arguments[n]]=T(t);return t.of=function(n,r){return function(i){try{var o=i.sourceEvent=as.event;i.target=e,as.event=i,t[i.type].apply(n,r)}finally{as.event=o}}},t}function O(e){return Ns(e,Ts),e}function A(e){return"function"==typeof e?e:function(){return Cs(e,this)}}function j(e){return"function"==typeof e?e:function(){return Ms(e,this)}}function R(e,t){function n(){this.removeAttribute(e)}function r(){this.removeAttributeNS(e.space,e.local)}function i(){this.setAttribute(e,t)}function o(){this.setAttributeNS(e.space,e.local,t)}function s(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}function a(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}return e=as.ns.qualify(e),null==t?e.local?r:n:"function"==typeof t?e.local?a:s:e.local?o:i}function I(e){return e.trim().replace(/\s+/g," ")}function L(e){return new RegExp("(?:^|\\s+)"+as.requote(e)+"(?:\\s+|$)","g")}function V(e){return(e+"").trim().split(/^|\s+/)}function U(e,t){function n(){for(var n=-1;++n<i;)e[n](this,t)}function r(){for(var n=-1,r=t.apply(this,arguments);++n<i;)e[n](this,r)}e=V(e).map(F);var i=e.length;return"function"==typeof t?r:n}function F(e){var t=L(e);return function(n,r){if(i=n.classList)return r?i.add(e):i.remove(e);var i=n.getAttribute("class")||"";r?(t.lastIndex=0,t.test(i)||n.setAttribute("class",I(i+" "+e))):n.setAttribute("class",I(i.replace(t," ")))}}function B(e,t,n){function r(){this.style.removeProperty(e)}function i(){this.style.setProperty(e,t,n)}function o(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}return null==t?r:"function"==typeof t?o:i}function z(e,t){function n(){delete this[e]}function r(){this[e]=t}function i(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}return null==t?n:"function"==typeof t?i:r}function H(e){function t(){var t=this.ownerDocument,n=this.namespaceURI;return n?t.createElementNS(n,e):t.createElement(e)}function n(){return this.ownerDocument.createElementNS(e.space,e.local)}return"function"==typeof e?e:(e=as.ns.qualify(e)).local?n:t}function W(){var e=this.parentNode;e&&e.removeChild(this)}function $(e){return{__data__:e}}function q(e){return function(){return Ss(this,e)}}function K(e){return arguments.length||(e=a),function(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}}function G(e,t){for(var n=0,r=e.length;r>n;n++)for(var i,o=e[n],s=0,a=o.length;a>s;s++)(i=o[s])&&t(i,s,n);return e}function Y(e){return Ns(e,Ps),e}function X(e){var t,n;return function(r,i,o){var s,a=e[o].update,u=a.length;for(o!=n&&(n=o,t=0),i>=t&&(t=i+1);!(s=a[t])&&++t<u;);return s}}function J(e,t,n){function r(){var t=this[s];t&&(this.removeEventListener(e,t,t.$),delete this[s])}function i(){var i=u(t,ls(arguments));r.call(this),this.addEventListener(e,this[s]=i,i.$=n),i._=t}function o(){var t,n=new RegExp("^__on([^.]+)"+as.requote(e)+"$");for(var r in this)if(t=r.match(n)){var i=this[r];this.removeEventListener(t[1],i,i.$),delete this[r]}}var s="__on"+e,a=e.indexOf("."),u=Q;a>0&&(e=e.slice(0,a));var l=ks.get(e);return l&&(e=l,u=Z),a?t?i:r:t?M:o}function Q(e,t){return function(n){var r=as.event;as.event=n,t[0]=this.__data__;try{e.apply(this,t)}finally{as.event=r}}}function Z(e,t){var n=Q(e,t);return function(e){var t=this,r=e.relatedTarget;r&&(r===t||8&r.compareDocumentPosition(t))||n.call(t,e)}}function ee(e){var t=".dragsuppress-"+ ++As,n="click"+t,r=as.select(s(e)).on("touchmove"+t,D).on("dragstart"+t,D).on("selectstart"+t,D);if(null==Os&&(Os="onselectstart"in e?!1:C(e.style,"userSelect")),Os){var i=o(e).style,a=i[Os];i[Os]="none"}return function(e){if(r.on(t,null),Os&&(i[Os]=a),e){var o=function(){r.on(n,null)};r.on(n,function(){D(),o()},!0),setTimeout(o,0)}}}function te(e,t){t.changedTouches&&(t=t.changedTouches[0]);var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();if(0>js){var i=s(e);if(i.scrollX||i.scrollY){n=as.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var o=n[0][0].getScreenCTM();js=!(o.f||o.e),n.remove()}}return js?(r.x=t.pageX,r.y=t.pageY):(r.x=t.clientX,r.y=t.clientY),r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}var a=e.getBoundingClientRect();return[t.clientX-a.left-e.clientLeft,t.clientY-a.top-e.clientTop]}function ne(){return as.event.changedTouches[0].identifier}function re(e){return e>0?1:0>e?-1:0}function ie(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0])}function oe(e){return e>1?0:-1>e?Ls:Math.acos(e)}function se(e){return e>1?Fs:-1>e?-Fs:Math.asin(e)}function ae(e){return((e=Math.exp(e))-1/e)/2}function ue(e){return((e=Math.exp(e))+1/e)/2}function le(e){return((e=Math.exp(2*e))-1)/(e+1)}function ce(e){return(e=Math.sin(e/2))*e}function pe(){}function he(e,t,n){return this instanceof he?(this.h=+e,this.s=+t,void(this.l=+n)):arguments.length<2?e instanceof he?new he(e.h,e.s,e.l):Me(""+e,Se,he):new he(e,t,n)}function fe(e,t,n){function r(e){return e>360?e-=360:0>e&&(e+=360),60>e?o+(s-o)*e/60:180>e?s:240>e?o+(s-o)*(240-e)/60:o}function i(e){return Math.round(255*r(e))}var o,s;return e=isNaN(e)?0:(e%=360)<0?e+360:e,t=isNaN(t)?0:0>t?0:t>1?1:t,n=0>n?0:n>1?1:n,s=.5>=n?n*(1+t):n+t-n*t,o=2*n-s,new Ee(i(e+120),i(e),i(e-120))}function de(e,t,n){return this instanceof de?(this.h=+e,this.c=+t,void(this.l=+n)):arguments.length<2?e instanceof de?new de(e.h,e.c,e.l):e instanceof ge?ye(e.l,e.a,e.b):ye((e=Te((e=as.rgb(e)).r,e.g,e.b)).l,e.a,e.b):new de(e,t,n)}function me(e,t,n){return isNaN(e)&&(e=0),isNaN(t)&&(t=0),new ge(n,Math.cos(e*=Bs)*t,Math.sin(e)*t)}function ge(e,t,n){return this instanceof ge?(this.l=+e,this.a=+t,void(this.b=+n)):arguments.length<2?e instanceof ge?new ge(e.l,e.a,e.b):e instanceof de?me(e.h,e.c,e.l):Te((e=Ee(e)).r,e.g,e.b):new ge(e,t,n)}function ve(e,t,n){var r=(e+16)/116,i=r+t/500,o=r-n/200;return i=be(i)*Qs,r=be(r)*Zs,o=be(o)*ea,new Ee(we(3.2404542*i-1.5371385*r-.4985314*o),we(-.969266*i+1.8760108*r+.041556*o),we(.0556434*i-.2040259*r+1.0572252*o))}function ye(e,t,n){return e>0?new de(Math.atan2(n,t)*zs,Math.sqrt(t*t+n*n),e):new de(NaN,NaN,e)}function be(e){return e>.206893034?e*e*e:(e-4/29)/7.787037}function _e(e){return e>.008856?Math.pow(e,1/3):7.787037*e+4/29}function we(e){return Math.round(255*(.00304>=e?12.92*e:1.055*Math.pow(e,1/2.4)-.055))}function Ee(e,t,n){return this instanceof Ee?(this.r=~~e,this.g=~~t,void(this.b=~~n)):arguments.length<2?e instanceof Ee?new Ee(e.r,e.g,e.b):Me(""+e,Ee,fe):new Ee(e,t,n)}function xe(e){return new Ee(e>>16,e>>8&255,255&e)}function Ne(e){return xe(e)+""}function Ce(e){return 16>e?"0"+Math.max(0,e).toString(16):Math.min(255,e).toString(16)}function Me(e,t,n){e=e.toLowerCase();var r,i,o,s=0,a=0,u=0;if(r=/([a-z]+)\((.*)\)/.exec(e))switch(i=r[2].split(","),r[1]){case"hsl":return n(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100);case"rgb":return t(Pe(i[0]),Pe(i[1]),Pe(i[2]))}return(o=ra.get(e))?t(o.r,o.g,o.b):(null==e||"#"!==e.charAt(0)||isNaN(o=parseInt(e.slice(1),16))||(4===e.length?(s=(3840&o)>>4,s=s>>4|s,a=240&o,a=a>>4|a,u=15&o,u=u<<4|u):7===e.length&&(s=(16711680&o)>>16,a=(65280&o)>>8,u=255&o)),t(s,a,u))}function Se(e,t,n){var r,i,o=Math.min(e/=255,t/=255,n/=255),s=Math.max(e,t,n),a=s-o,u=(s+o)/2;return a?(i=.5>u?a/(s+o):a/(2-s-o),r=e==s?(t-n)/a+(n>t?6:0):t==s?(n-e)/a+2:(e-t)/a+4,r*=60):(r=NaN,i=u>0&&1>u?0:r),new he(r,i,u)}function Te(e,t,n){e=De(e),t=De(t),n=De(n);var r=_e((.4124564*e+.3575761*t+.1804375*n)/Qs),i=_e((.2126729*e+.7151522*t+.072175*n)/Zs),o=_e((.0193339*e+.119192*t+.9503041*n)/ea);return ge(116*i-16,500*(r-i),200*(i-o))}function De(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Pe(e){var t=parseFloat(e);return"%"===e.charAt(e.length-1)?Math.round(2.55*t):t}function ke(e){return"function"==typeof e?e:function(){return e}}function Oe(e){return function(t,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=null),Ae(t,n,e,r)}}function Ae(e,t,n,r){function i(){var e,t=u.status;if(!t&&Re(u)||t>=200&&300>t||304===t){try{e=n.call(o,u)}catch(r){return void s.error.call(o,r)}s.load.call(o,e)}else s.error.call(o,u)}var o={},s=as.dispatch("beforesend","progress","load","error"),a={},u=new XMLHttpRequest,l=null;return!this.XDomainRequest||"withCredentials"in u||!/^(http(s)?:)?\/\//.test(e)||(u=new XDomainRequest),"onload"in u?u.onload=u.onerror=i:u.onreadystatechange=function(){u.readyState>3&&i()},u.onprogress=function(e){var t=as.event;as.event=e;try{s.progress.call(o,u)}finally{as.event=t}},o.header=function(e,t){return e=(e+"").toLowerCase(),arguments.length<2?a[e]:(null==t?delete a[e]:a[e]=t+"",o)},o.mimeType=function(e){return arguments.length?(t=null==e?null:e+"",o):t},o.responseType=function(e){return arguments.length?(l=e,o):l},o.response=function(e){return n=e,o},["get","post"].forEach(function(e){o[e]=function(){return o.send.apply(o,[e].concat(ls(arguments)))}}),o.send=function(n,r,i){if(2===arguments.length&&"function"==typeof r&&(i=r,r=null),u.open(n,e,!0),null==t||"accept"in a||(a.accept=t+",*/*"),u.setRequestHeader)for(var c in a)u.setRequestHeader(c,a[c]);return null!=t&&u.overrideMimeType&&u.overrideMimeType(t),null!=l&&(u.responseType=l),null!=i&&o.on("error",i).on("load",function(e){i(null,e)}),s.beforesend.call(o,u),u.send(null==r?null:r),o},o.abort=function(){return u.abort(),o},as.rebind(o,s,"on"),null==r?o:o.get(je(r))}function je(e){return 1===e.length?function(t,n){e(null==t?n:null)}:e}function Re(e){var t=e.responseType;return t&&"text"!==t?e.response:e.responseText}function Ie(){var e=Le(),t=Ve()-e;t>24?(isFinite(t)&&(clearTimeout(aa),aa=setTimeout(Ie,t)),sa=0):(sa=1,la(Ie))}function Le(){var e=Date.now();for(ua=ia;ua;)e>=ua.t&&(ua.f=ua.c(e-ua.t)),ua=ua.n;return e}function Ve(){for(var e,t=ia,n=1/0;t;)t.f?t=e?e.n=t.n:ia=t.n:(t.t<n&&(n=t.t),t=(e=t).n);return oa=e,n}function Ue(e,t){return t-(e?Math.ceil(Math.log(e)/Math.LN10):1)}function Fe(e,t){var n=Math.pow(10,3*bs(8-t));return{scale:t>8?function(e){return e/n}:function(e){return e*n},symbol:e}}function Be(e){var t=e.decimal,n=e.thousands,r=e.grouping,i=e.currency,o=r&&n?function(e,t){for(var i=e.length,o=[],s=0,a=r[0],u=0;i>0&&a>0&&(u+a+1>t&&(a=Math.max(1,t-u)),o.push(e.substring(i-=a,i+a)),!((u+=a+1)>t));)a=r[s=(s+1)%r.length];return o.reverse().join(n)}:x;return function(e){var n=pa.exec(e),r=n[1]||" ",s=n[2]||">",a=n[3]||"-",u=n[4]||"",l=n[5],c=+n[6],p=n[7],h=n[8],f=n[9],d=1,m="",g="",v=!1,y=!0;switch(h&&(h=+h.substring(1)),(l||"0"===r&&"="===s)&&(l=r="0",s="="),f){case"n":p=!0,f="g";break;case"%":d=100,g="%",f="f";break;case"p":d=100,g="%",f="r";break;case"b":case"o":case"x":case"X":"#"===u&&(m="0"+f.toLowerCase());case"c":y=!1;case"d":v=!0,h=0;break;case"s":d=-1,f="r"}"$"===u&&(m=i[0],g=i[1]),"r"!=f||h||(f="g"),null!=h&&("g"==f?h=Math.max(1,Math.min(21,h)):("e"==f||"f"==f)&&(h=Math.max(0,Math.min(20,h)))),f=ha.get(f)||ze;var b=l&&p;return function(e){var n=g;if(v&&e%1)return"";var i=0>e||0===e&&0>1/e?(e=-e,"-"):"-"===a?"":a;if(0>d){var u=as.formatPrefix(e,h);e=u.scale(e),n=u.symbol+g}else e*=d;e=f(e,h);var _,w,E=e.lastIndexOf(".");if(0>E){var x=y?e.lastIndexOf("e"):-1;0>x?(_=e,w=""):(_=e.substring(0,x),w=e.substring(x))}else _=e.substring(0,E),w=t+e.substring(E+1);!l&&p&&(_=o(_,1/0));var N=m.length+_.length+w.length+(b?0:i.length),C=c>N?new Array(N=c-N+1).join(r):"";return b&&(_=o(C+_,C.length?c-w.length:1/0)),i+=m,e=_+w,("<"===s?i+e+C:">"===s?C+i+e:"^"===s?C.substring(0,N>>=1)+i+e+C.substring(N):i+(b?e:C+e))+n}}}function ze(e){return e+""}function He(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function We(e,t,n){function r(t){var n=e(t),r=o(n,1);return r-t>t-n?n:r}function i(n){return t(n=e(new da(n-1)),1),n}function o(e,n){return t(e=new da(+e),n),e}function s(e,r,o){var s=i(e),a=[];if(o>1)for(;r>s;)n(s)%o||a.push(new Date(+s)),t(s,1);else for(;r>s;)a.push(new Date(+s)),t(s,1);return a}function a(e,t,n){try{da=He;var r=new He;return r._=e,s(r,t,n)}finally{da=Date}}e.floor=e,e.round=r,e.ceil=i,e.offset=o,e.range=s;var u=e.utc=$e(e);return u.floor=u,u.round=$e(r),u.ceil=$e(i),u.offset=$e(o),u.range=a,e}function $e(e){return function(t,n){try{da=He;var r=new He;return r._=t,e(r,n)._}finally{da=Date}}}function qe(e){function t(e){function t(t){for(var n,i,o,s=[],a=-1,u=0;++a<r;)37===e.charCodeAt(a)&&(s.push(e.slice(u,a)),null!=(i=ga[n=e.charAt(++a)])&&(n=e.charAt(++a)),(o=T[n])&&(n=o(t,null==i?"e"===n?" ":"0":i)),s.push(n),u=a+1);return s.push(e.slice(u,a)),s.join("")}var r=e.length;return t.parse=function(t){var r={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},i=n(r,e,t,0);if(i!=t.length)return null;"p"in r&&(r.H=r.H%12+12*r.p);var o=null!=r.Z&&da!==He,s=new(o?He:da);return"j"in r?s.setFullYear(r.y,0,r.j):"w"in r&&("W"in r||"U"in r)?(s.setFullYear(r.y,0,1),s.setFullYear(r.y,0,"W"in r?(r.w+6)%7+7*r.W-(s.getDay()+5)%7:r.w+7*r.U-(s.getDay()+6)%7)):s.setFullYear(r.y,r.m,r.d),s.setHours(r.H+(r.Z/100|0),r.M+r.Z%100,r.S,r.L),o?s._:s},t.toString=function(){return e},t}function n(e,t,n,r){for(var i,o,s,a=0,u=t.length,l=n.length;u>a;){if(r>=l)return-1;if(i=t.charCodeAt(a++),37===i){if(s=t.charAt(a++),o=D[s in ga?t.charAt(a++):s],!o||(r=o(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}function r(e,t,n){E.lastIndex=0;var r=E.exec(t.slice(n));return r?(e.w=x.get(r[0].toLowerCase()),n+r[0].length):-1}function i(e,t,n){_.lastIndex=0;var r=_.exec(t.slice(n));return r?(e.w=w.get(r[0].toLowerCase()),n+r[0].length):-1}function o(e,t,n){M.lastIndex=0;var r=M.exec(t.slice(n));return r?(e.m=S.get(r[0].toLowerCase()),n+r[0].length):-1}function s(e,t,n){N.lastIndex=0;var r=N.exec(t.slice(n));return r?(e.m=C.get(r[0].toLowerCase()),n+r[0].length):-1}function a(e,t,r){return n(e,T.c.toString(),t,r)}function u(e,t,r){return n(e,T.x.toString(),t,r)}function l(e,t,r){return n(e,T.X.toString(),t,r)}function c(e,t,n){var r=b.get(t.slice(n,n+=2).toLowerCase());return null==r?-1:(e.p=r,n)}var p=e.dateTime,h=e.date,f=e.time,d=e.periods,m=e.days,g=e.shortDays,v=e.months,y=e.shortMonths;t.utc=function(e){function n(e){try{da=He;var t=new da;return t._=e,r(t)}finally{da=Date}}var r=t(e);return n.parse=function(e){try{da=He;var t=r.parse(e);return t&&t._}finally{da=Date}},n.toString=r.toString,n},t.multi=t.utc.multi=ht;var b=as.map(),_=Ge(m),w=Ye(m),E=Ge(g),x=Ye(g),N=Ge(v),C=Ye(v),M=Ge(y),S=Ye(y);d.forEach(function(e,t){b.set(e.toLowerCase(),t)});var T={a:function(e){return g[e.getDay()]},A:function(e){return m[e.getDay()]},b:function(e){return y[e.getMonth()]},B:function(e){return v[e.getMonth()]},c:t(p),d:function(e,t){return Ke(e.getDate(),t,2)},e:function(e,t){return Ke(e.getDate(),t,2)},H:function(e,t){return Ke(e.getHours(),t,2)},I:function(e,t){return Ke(e.getHours()%12||12,t,2)},j:function(e,t){return Ke(1+fa.dayOfYear(e),t,3)},L:function(e,t){return Ke(e.getMilliseconds(),t,3)},m:function(e,t){return Ke(e.getMonth()+1,t,2)},M:function(e,t){return Ke(e.getMinutes(),t,2)},p:function(e){return d[+(e.getHours()>=12)]},S:function(e,t){return Ke(e.getSeconds(),t,2)},U:function(e,t){return Ke(fa.sundayOfYear(e),t,2)},w:function(e){return e.getDay()},W:function(e,t){return Ke(fa.mondayOfYear(e),t,2)},x:t(h),X:t(f),y:function(e,t){return Ke(e.getFullYear()%100,t,2)},Y:function(e,t){return Ke(e.getFullYear()%1e4,t,4)},Z:ct,"%":function(){return"%"}},D={a:r,A:i,b:o,B:s,c:a,d:it,e:it,H:st,I:st,j:ot,L:lt,m:rt,M:at,p:c,S:ut,U:Je,w:Xe,W:Qe,x:u,X:l,y:et,Y:Ze,Z:tt,"%":pt};return t}function Ke(e,t,n){var r=0>e?"-":"",i=(r?-e:e)+"",o=i.length;return r+(n>o?new Array(n-o+1).join(t)+i:i)}function Ge(e){return new RegExp("^(?:"+e.map(as.requote).join("|")+")","i")}function Ye(e){for(var t=new d,n=-1,r=e.length;++n<r;)t.set(e[n].toLowerCase(),n);return t}function Xe(e,t,n){va.lastIndex=0;var r=va.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Je(e,t,n){va.lastIndex=0;var r=va.exec(t.slice(n));return r?(e.U=+r[0],n+r[0].length):-1}function Qe(e,t,n){va.lastIndex=0;var r=va.exec(t.slice(n));return r?(e.W=+r[0],n+r[0].length):-1}function Ze(e,t,n){va.lastIndex=0;var r=va.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function et(e,t,n){va.lastIndex=0;var r=va.exec(t.slice(n,n+2));return r?(e.y=nt(+r[0]),n+r[0].length):-1}function tt(e,t,n){return/^[+-]\d{4}$/.test(t=t.slice(n,n+5))?(e.Z=-t,n+5):-1}function nt(e){return e+(e>68?1900:2e3)}function rt(e,t,n){va.lastIndex=0;var r=va.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function it(e,t,n){va.lastIndex=0;var r=va.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function ot(e,t,n){va.lastIndex=0;var r=va.exec(t.slice(n,n+3));return r?(e.j=+r[0],n+r[0].length):-1}function st(e,t,n){va.lastIndex=0;var r=va.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function at(e,t,n){va.lastIndex=0;var r=va.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function ut(e,t,n){va.lastIndex=0;var r=va.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function lt(e,t,n){va.lastIndex=0;var r=va.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function ct(e){var t=e.getTimezoneOffset(),n=t>0?"-":"+",r=bs(t)/60|0,i=bs(t)%60;return n+Ke(r,"0",2)+Ke(i,"0",2)}function pt(e,t,n){ya.lastIndex=0;var r=ya.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function ht(e){for(var t=e.length,n=-1;++n<t;)e[n][0]=this(e[n][0]);return function(t){for(var n=0,r=e[n];!r[1](t);)r=e[++n];return r[0](t)}}function ft(){}function dt(e,t,n){var r=n.s=e+t,i=r-e,o=r-i;n.t=e-o+(t-i)}function mt(e,t){e&&Ea.hasOwnProperty(e.type)&&Ea[e.type](e,t)}function gt(e,t,n){var r,i=-1,o=e.length-n;for(t.lineStart();++i<o;)r=e[i],t.point(r[0],r[1],r[2]);t.lineEnd()}function vt(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)gt(e[n],t,1);t.polygonEnd()}function yt(){function e(e,t){e*=Bs,t=t*Bs/2+Ls/4;var n=e-r,s=n>=0?1:-1,a=s*n,u=Math.cos(t),l=Math.sin(t),c=o*l,p=i*u+c*Math.cos(a),h=c*s*Math.sin(a);Na.add(Math.atan2(h,p)),r=e,i=u,o=l}var t,n,r,i,o;Ca.point=function(s,a){Ca.point=e,r=(t=s)*Bs,i=Math.cos(a=(n=a)*Bs/2+Ls/4),o=Math.sin(a)},Ca.lineEnd=function(){e(t,n)}}function bt(e){var t=e[0],n=e[1],r=Math.cos(n);return[r*Math.cos(t),r*Math.sin(t),Math.sin(n)]}function _t(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function wt(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function Et(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function xt(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function Nt(e){var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function Ct(e){return[Math.atan2(e[1],e[0]),se(e[2])]}function Mt(e,t){return bs(e[0]-t[0])<Rs&&bs(e[1]-t[1])<Rs}function St(e,t){e*=Bs;var n=Math.cos(t*=Bs);Tt(n*Math.cos(e),n*Math.sin(e),Math.sin(t))}function Tt(e,t,n){++Ma,Ta+=(e-Ta)/Ma,Da+=(t-Da)/Ma,Pa+=(n-Pa)/Ma}function Dt(){function e(e,i){e*=Bs;var o=Math.cos(i*=Bs),s=o*Math.cos(e),a=o*Math.sin(e),u=Math.sin(i),l=Math.atan2(Math.sqrt((l=n*u-r*a)*l+(l=r*s-t*u)*l+(l=t*a-n*s)*l),t*s+n*a+r*u);Sa+=l,ka+=l*(t+(t=s)),Oa+=l*(n+(n=a)),Aa+=l*(r+(r=u)),Tt(t,n,r)}var t,n,r;La.point=function(i,o){i*=Bs;var s=Math.cos(o*=Bs);t=s*Math.cos(i),n=s*Math.sin(i),r=Math.sin(o),La.point=e,Tt(t,n,r)}}function Pt(){La.point=St}function kt(){function e(e,t){e*=Bs;var n=Math.cos(t*=Bs),s=n*Math.cos(e),a=n*Math.sin(e),u=Math.sin(t),l=i*u-o*a,c=o*s-r*u,p=r*a-i*s,h=Math.sqrt(l*l+c*c+p*p),f=r*s+i*a+o*u,d=h&&-oe(f)/h,m=Math.atan2(h,f);ja+=d*l,Ra+=d*c,Ia+=d*p,Sa+=m,ka+=m*(r+(r=s)),Oa+=m*(i+(i=a)),Aa+=m*(o+(o=u)),Tt(r,i,o)}var t,n,r,i,o;La.point=function(s,a){t=s,n=a,La.point=e,s*=Bs;var u=Math.cos(a*=Bs);r=u*Math.cos(s),i=u*Math.sin(s),o=Math.sin(a),Tt(r,i,o)},La.lineEnd=function(){e(t,n),La.lineEnd=Pt,La.point=St}}function Ot(e,t){function n(n,r){return n=e(n,r),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,r){return n=t.invert(n,r),n&&e.invert(n[0],n[1])}),n}function At(){return!0}function jt(e,t,n,r,i){var o=[],s=[];if(e.forEach(function(e){if(!((t=e.length-1)<=0)){var t,n=e[0],r=e[t];if(Mt(n,r)){i.lineStart();for(var a=0;t>a;++a)i.point((n=e[a])[0],n[1]);return void i.lineEnd()}var u=new It(n,e,null,!0),l=new It(n,null,u,!1);u.o=l,o.push(u),s.push(l),u=new It(r,e,null,!1),l=new It(r,null,u,!0),u.o=l,o.push(u),s.push(l)}}),s.sort(t),Rt(o),Rt(s),o.length){for(var a=0,u=n,l=s.length;l>a;++a)s[a].e=u=!u;for(var c,p,h=o[0];;){for(var f=h,d=!0;f.v;)if((f=f.n)===h)return;c=f.z,i.lineStart();do{if(f.v=f.o.v=!0,f.e){if(d)for(var a=0,l=c.length;l>a;++a)i.point((p=c[a])[0],p[1]);else r(f.x,f.n.x,1,i);f=f.n}else{if(d){c=f.p.z;for(var a=c.length-1;a>=0;--a)i.point((p=c[a])[0],p[1])}else r(f.x,f.p.x,-1,i);f=f.p}f=f.o,c=f.z,d=!d}while(!f.v);i.lineEnd()}}}function Rt(e){if(t=e.length){for(var t,n,r=0,i=e[0];++r<t;)i.n=n=e[r],n.p=i,i=n;i.n=n=e[0],n.p=i}}function It(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Lt(e,t,n,r){return function(i,o){function s(t,n){var r=i(t,n);e(t=r[0],n=r[1])&&o.point(t,n)}function a(e,t){var n=i(e,t);g.point(n[0],n[1])}function u(){y.point=a,g.lineStart()}function l(){y.point=s,g.lineEnd()}function c(e,t){m.push([e,t]);var n=i(e,t);_.point(n[0],n[1])}function p(){_.lineStart(),m=[]}function h(){c(m[0][0],m[0][1]),_.lineEnd();var e,t=_.clean(),n=b.buffer(),r=n.length;if(m.pop(),d.push(m),m=null,r)if(1&t){e=n[0];var i,r=e.length-1,s=-1;if(r>0){for(w||(o.polygonStart(),w=!0),o.lineStart();++s<r;)o.point((i=e[s])[0],i[1]);o.lineEnd()}}else r>1&&2&t&&n.push(n.pop().concat(n.shift())),f.push(n.filter(Vt))}var f,d,m,g=t(o),v=i.invert(r[0],r[1]),y={point:s,lineStart:u,lineEnd:l,polygonStart:function(){y.point=c,y.lineStart=p,y.lineEnd=h,f=[],d=[]},polygonEnd:function(){y.point=s,y.lineStart=u,y.lineEnd=l,f=as.merge(f);var e=Wt(v,d);f.length?(w||(o.polygonStart(),w=!0),jt(f,Ft,e,n,o)):e&&(w||(o.polygonStart(),w=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),w&&(o.polygonEnd(),w=!1),f=d=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}},b=Ut(),_=t(b),w=!1;return y}}function Vt(e){return e.length>1}function Ut(){var e,t=[];return{lineStart:function(){t.push(e=[])},point:function(t,n){e.push([t,n])},lineEnd:M,buffer:function(){var n=t;return t=[],e=null,n},rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))}}}function Ft(e,t){return((e=e.x)[0]<0?e[1]-Fs-Rs:Fs-e[1])-((t=t.x)[0]<0?t[1]-Fs-Rs:Fs-t[1])}function Bt(e){var t,n=NaN,r=NaN,i=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(o,s){var a=o>0?Ls:-Ls,u=bs(o-n);bs(u-Ls)<Rs?(e.point(n,r=(r+s)/2>0?Fs:-Fs),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(a,r),e.point(o,r),t=0):i!==a&&u>=Ls&&(bs(n-i)<Rs&&(n-=i*Rs),bs(o-a)<Rs&&(o-=a*Rs),r=zt(n,r,o,s),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(a,r),t=0),e.point(n=o,r=s),i=a},lineEnd:function(){e.lineEnd(),n=r=NaN},clean:function(){return 2-t}}}function zt(e,t,n,r){var i,o,s=Math.sin(e-n);return bs(s)>Rs?Math.atan((Math.sin(t)*(o=Math.cos(r))*Math.sin(n)-Math.sin(r)*(i=Math.cos(t))*Math.sin(e))/(i*o*s)):(t+r)/2}function Ht(e,t,n,r){var i;if(null==e)i=n*Fs,r.point(-Ls,i),r.point(0,i),r.point(Ls,i),r.point(Ls,0),r.point(Ls,-i),r.point(0,-i),r.point(-Ls,-i),r.point(-Ls,0),r.point(-Ls,i);else if(bs(e[0]-t[0])>Rs){var o=e[0]<t[0]?Ls:-Ls;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(t[0],t[1])}function Wt(e,t){var n=e[0],r=e[1],i=[Math.sin(n),-Math.cos(n),0],o=0,s=0;Na.reset();for(var a=0,u=t.length;u>a;++a){var l=t[a],c=l.length;if(c)for(var p=l[0],h=p[0],f=p[1]/2+Ls/4,d=Math.sin(f),m=Math.cos(f),g=1;;){g===c&&(g=0),e=l[g];var v=e[0],y=e[1]/2+Ls/4,b=Math.sin(y),_=Math.cos(y),w=v-h,E=w>=0?1:-1,x=E*w,N=x>Ls,C=d*b;if(Na.add(Math.atan2(C*E*Math.sin(x),m*_+C*Math.cos(x))),o+=N?w+E*Vs:w,N^h>=n^v>=n){var M=wt(bt(p),bt(e));Nt(M);var S=wt(i,M);Nt(S);var T=(N^w>=0?-1:1)*se(S[2]);(r>T||r===T&&(M[0]||M[1]))&&(s+=N^w>=0?1:-1)}if(!g++)break;h=v,d=b,m=_,p=e}}return(-Rs>o||Rs>o&&0>Na)^1&s}function $t(e){function t(e,t){return Math.cos(e)*Math.cos(t)>o}function n(e){var n,o,u,l,c;return{lineStart:function(){l=u=!1,c=1},point:function(p,h){var f,d=[p,h],m=t(p,h),g=s?m?0:i(p,h):m?i(p+(0>p?Ls:-Ls),h):0;if(!n&&(l=u=m)&&e.lineStart(),m!==u&&(f=r(n,d),(Mt(n,f)||Mt(d,f))&&(d[0]+=Rs,d[1]+=Rs,m=t(d[0],d[1]))),m!==u)c=0,m?(e.lineStart(),f=r(d,n),e.point(f[0],f[1])):(f=r(n,d),e.point(f[0],f[1]),e.lineEnd()),n=f;else if(a&&n&&s^m){var v;g&o||!(v=r(d,n,!0))||(c=0,s?(e.lineStart(),e.point(v[0][0],v[0][1]),e.point(v[1][0],v[1][1]),e.lineEnd()):(e.point(v[1][0],v[1][1]),e.lineEnd(),e.lineStart(),e.point(v[0][0],v[0][1])))}!m||n&&Mt(n,d)||e.point(d[0],d[1]),n=d,u=m,o=g},lineEnd:function(){u&&e.lineEnd(),n=null},clean:function(){return c|(l&&u)<<1}}}function r(e,t,n){var r=bt(e),i=bt(t),s=[1,0,0],a=wt(r,i),u=_t(a,a),l=a[0],c=u-l*l;if(!c)return!n&&e;var p=o*u/c,h=-o*l/c,f=wt(s,a),d=xt(s,p),m=xt(a,h);Et(d,m);var g=f,v=_t(d,g),y=_t(g,g),b=v*v-y*(_t(d,d)-1);if(!(0>b)){var _=Math.sqrt(b),w=xt(g,(-v-_)/y);if(Et(w,d),w=Ct(w),!n)return w;var E,x=e[0],N=t[0],C=e[1],M=t[1];x>N&&(E=x,x=N,N=E);var S=N-x,T=bs(S-Ls)<Rs,D=T||Rs>S;if(!T&&C>M&&(E=C,C=M,M=E),D?T?C+M>0^w[1]<(bs(w[0]-x)<Rs?C:M):C<=w[1]&&w[1]<=M:S>Ls^(x<=w[0]&&w[0]<=N)){var P=xt(g,(-v+_)/y);return Et(P,d),[w,Ct(P)]}}}function i(t,n){var r=s?e:Ls-e,i=0;return-r>t?i|=1:t>r&&(i|=2),-r>n?i|=4:n>r&&(i|=8),i}var o=Math.cos(e),s=o>0,a=bs(o)>Rs,u=bn(e,6*Bs);return Lt(t,n,u,s?[0,-e]:[-Ls,e-Ls])}function qt(e,t,n,r){return function(i){var o,s=i.a,a=i.b,u=s.x,l=s.y,c=a.x,p=a.y,h=0,f=1,d=c-u,m=p-l;if(o=e-u,d||!(o>0)){if(o/=d,0>d){if(h>o)return;f>o&&(f=o)}else if(d>0){if(o>f)return;o>h&&(h=o)}if(o=n-u,d||!(0>o)){if(o/=d,0>d){if(o>f)return;o>h&&(h=o)}else if(d>0){if(h>o)return;f>o&&(f=o)}if(o=t-l,m||!(o>0)){if(o/=m,0>m){if(h>o)return;f>o&&(f=o)}else if(m>0){if(o>f)return;
o>h&&(h=o)}if(o=r-l,m||!(0>o)){if(o/=m,0>m){if(o>f)return;o>h&&(h=o)}else if(m>0){if(h>o)return;f>o&&(f=o)}return h>0&&(i.a={x:u+h*d,y:l+h*m}),1>f&&(i.b={x:u+f*d,y:l+f*m}),i}}}}}}function Kt(e,t,n,r){function i(r,i){return bs(r[0]-e)<Rs?i>0?0:3:bs(r[0]-n)<Rs?i>0?2:1:bs(r[1]-t)<Rs?i>0?1:0:i>0?3:2}function o(e,t){return s(e.x,t.x)}function s(e,t){var n=i(e,1),r=i(t,1);return n!==r?n-r:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(a){function u(e){for(var t=0,n=g.length,r=e[1],i=0;n>i;++i)for(var o,s=1,a=g[i],u=a.length,l=a[0];u>s;++s)o=a[s],l[1]<=r?o[1]>r&&ie(l,o,e)>0&&++t:o[1]<=r&&ie(l,o,e)<0&&--t,l=o;return 0!==t}function l(o,a,u,l){var c=0,p=0;if(null==o||(c=i(o,u))!==(p=i(a,u))||s(o,a)<0^u>0){do l.point(0===c||3===c?e:n,c>1?r:t);while((c=(c+u+4)%4)!==p)}else l.point(a[0],a[1])}function c(i,o){return i>=e&&n>=i&&o>=t&&r>=o}function p(e,t){c(e,t)&&a.point(e,t)}function h(){D.point=d,g&&g.push(v=[]),N=!0,x=!1,w=E=NaN}function f(){m&&(d(y,b),_&&x&&S.rejoin(),m.push(S.buffer())),D.point=p,x&&a.lineEnd()}function d(e,t){e=Math.max(-Ua,Math.min(Ua,e)),t=Math.max(-Ua,Math.min(Ua,t));var n=c(e,t);if(g&&v.push([e,t]),N)y=e,b=t,_=n,N=!1,n&&(a.lineStart(),a.point(e,t));else if(n&&x)a.point(e,t);else{var r={a:{x:w,y:E},b:{x:e,y:t}};T(r)?(x||(a.lineStart(),a.point(r.a.x,r.a.y)),a.point(r.b.x,r.b.y),n||a.lineEnd(),C=!1):n&&(a.lineStart(),a.point(e,t),C=!1)}w=e,E=t,x=n}var m,g,v,y,b,_,w,E,x,N,C,M=a,S=Ut(),T=qt(e,t,n,r),D={point:p,lineStart:h,lineEnd:f,polygonStart:function(){a=S,m=[],g=[],C=!0},polygonEnd:function(){a=M,m=as.merge(m);var t=u([e,r]),n=C&&t,i=m.length;(n||i)&&(a.polygonStart(),n&&(a.lineStart(),l(null,null,1,a),a.lineEnd()),i&&jt(m,o,t,l,a),a.polygonEnd()),m=g=v=null}};return D}}function Gt(e){var t=0,n=Ls/3,r=pn(e),i=r(t,n);return i.parallels=function(e){return arguments.length?r(t=e[0]*Ls/180,n=e[1]*Ls/180):[t/Ls*180,n/Ls*180]},i}function Yt(e,t){function n(e,t){var n=Math.sqrt(o-2*i*Math.sin(t))/i;return[n*Math.sin(e*=i),s-n*Math.cos(e)]}var r=Math.sin(e),i=(r+Math.sin(t))/2,o=1+r*(2*i-r),s=Math.sqrt(o)/i;return n.invert=function(e,t){var n=s-t;return[Math.atan2(e,n)/i,se((o-(e*e+n*n)*i*i)/(2*i))]},n}function Xt(){function e(e,t){Ba+=i*e-r*t,r=e,i=t}var t,n,r,i;qa.point=function(o,s){qa.point=e,t=r=o,n=i=s},qa.lineEnd=function(){e(t,n)}}function Jt(e,t){za>e&&(za=e),e>Wa&&(Wa=e),Ha>t&&(Ha=t),t>$a&&($a=t)}function Qt(){function e(e,t){s.push("M",e,",",t,o)}function t(e,t){s.push("M",e,",",t),a.point=n}function n(e,t){s.push("L",e,",",t)}function r(){a.point=e}function i(){s.push("Z")}var o=Zt(4.5),s=[],a={point:e,lineStart:function(){a.point=t},lineEnd:r,polygonStart:function(){a.lineEnd=i},polygonEnd:function(){a.lineEnd=r,a.point=e},pointRadius:function(e){return o=Zt(e),a},result:function(){if(s.length){var e=s.join("");return s=[],e}}};return a}function Zt(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function en(e,t){Ta+=e,Da+=t,++Pa}function tn(){function e(e,r){var i=e-t,o=r-n,s=Math.sqrt(i*i+o*o);ka+=s*(t+e)/2,Oa+=s*(n+r)/2,Aa+=s,en(t=e,n=r)}var t,n;Ga.point=function(r,i){Ga.point=e,en(t=r,n=i)}}function nn(){Ga.point=en}function rn(){function e(e,t){var n=e-r,o=t-i,s=Math.sqrt(n*n+o*o);ka+=s*(r+e)/2,Oa+=s*(i+t)/2,Aa+=s,s=i*e-r*t,ja+=s*(r+e),Ra+=s*(i+t),Ia+=3*s,en(r=e,i=t)}var t,n,r,i;Ga.point=function(o,s){Ga.point=e,en(t=r=o,n=i=s)},Ga.lineEnd=function(){e(t,n)}}function on(e){function t(t,n){e.moveTo(t+s,n),e.arc(t,n,s,0,Vs)}function n(t,n){e.moveTo(t,n),a.point=r}function r(t,n){e.lineTo(t,n)}function i(){a.point=t}function o(){e.closePath()}var s=4.5,a={point:t,lineStart:function(){a.point=n},lineEnd:i,polygonStart:function(){a.lineEnd=o},polygonEnd:function(){a.lineEnd=i,a.point=t},pointRadius:function(e){return s=e,a},result:M};return a}function sn(e){function t(e){return(a?r:n)(e)}function n(t){return ln(t,function(n,r){n=e(n,r),t.point(n[0],n[1])})}function r(t){function n(n,r){n=e(n,r),t.point(n[0],n[1])}function r(){b=NaN,N.point=o,t.lineStart()}function o(n,r){var o=bt([n,r]),s=e(n,r);i(b,_,y,w,E,x,b=s[0],_=s[1],y=n,w=o[0],E=o[1],x=o[2],a,t),t.point(b,_)}function s(){N.point=n,t.lineEnd()}function u(){r(),N.point=l,N.lineEnd=c}function l(e,t){o(p=e,h=t),f=b,d=_,m=w,g=E,v=x,N.point=o}function c(){i(b,_,y,w,E,x,f,d,p,m,g,v,a,t),N.lineEnd=s,s()}var p,h,f,d,m,g,v,y,b,_,w,E,x,N={point:n,lineStart:r,lineEnd:s,polygonStart:function(){t.polygonStart(),N.lineStart=u},polygonEnd:function(){t.polygonEnd(),N.lineStart=r}};return N}function i(t,n,r,a,u,l,c,p,h,f,d,m,g,v){var y=c-t,b=p-n,_=y*y+b*b;if(_>4*o&&g--){var w=a+f,E=u+d,x=l+m,N=Math.sqrt(w*w+E*E+x*x),C=Math.asin(x/=N),M=bs(bs(x)-1)<Rs||bs(r-h)<Rs?(r+h)/2:Math.atan2(E,w),S=e(M,C),T=S[0],D=S[1],P=T-t,k=D-n,O=b*P-y*k;(O*O/_>o||bs((y*P+b*k)/_-.5)>.3||s>a*f+u*d+l*m)&&(i(t,n,r,a,u,l,T,D,M,w/=N,E/=N,x,g,v),v.point(T,D),i(T,D,M,w,E,x,c,p,h,f,d,m,g,v))}}var o=.5,s=Math.cos(30*Bs),a=16;return t.precision=function(e){return arguments.length?(a=(o=e*e)>0&&16,t):Math.sqrt(o)},t}function an(e){var t=sn(function(t,n){return e([t*zs,n*zs])});return function(e){return hn(t(e))}}function un(e){this.stream=e}function ln(e,t){return{point:t,sphere:function(){e.sphere()},lineStart:function(){e.lineStart()},lineEnd:function(){e.lineEnd()},polygonStart:function(){e.polygonStart()},polygonEnd:function(){e.polygonEnd()}}}function cn(e){return pn(function(){return e})()}function pn(e){function t(e){return e=a(e[0]*Bs,e[1]*Bs),[e[0]*h+u,l-e[1]*h]}function n(e){return e=a.invert((e[0]-u)/h,(l-e[1])/h),e&&[e[0]*zs,e[1]*zs]}function r(){a=Ot(s=mn(v,y,b),o);var e=o(m,g);return u=f-e[0]*h,l=d+e[1]*h,i()}function i(){return c&&(c.valid=!1,c=null),t}var o,s,a,u,l,c,p=sn(function(e,t){return e=o(e,t),[e[0]*h+u,l-e[1]*h]}),h=150,f=480,d=250,m=0,g=0,v=0,y=0,b=0,_=Va,w=x,E=null,N=null;return t.stream=function(e){return c&&(c.valid=!1),c=hn(_(s,p(w(e)))),c.valid=!0,c},t.clipAngle=function(e){return arguments.length?(_=null==e?(E=e,Va):$t((E=+e)*Bs),i()):E},t.clipExtent=function(e){return arguments.length?(N=e,w=e?Kt(e[0][0],e[0][1],e[1][0],e[1][1]):x,i()):N},t.scale=function(e){return arguments.length?(h=+e,r()):h},t.translate=function(e){return arguments.length?(f=+e[0],d=+e[1],r()):[f,d]},t.center=function(e){return arguments.length?(m=e[0]%360*Bs,g=e[1]%360*Bs,r()):[m*zs,g*zs]},t.rotate=function(e){return arguments.length?(v=e[0]%360*Bs,y=e[1]%360*Bs,b=e.length>2?e[2]%360*Bs:0,r()):[v*zs,y*zs,b*zs]},as.rebind(t,p,"precision"),function(){return o=e.apply(this,arguments),t.invert=o.invert&&n,r()}}function hn(e){return ln(e,function(t,n){e.point(t*Bs,n*Bs)})}function fn(e,t){return[e,t]}function dn(e,t){return[e>Ls?e-Vs:-Ls>e?e+Vs:e,t]}function mn(e,t,n){return e?t||n?Ot(vn(e),yn(t,n)):vn(e):t||n?yn(t,n):dn}function gn(e){return function(t,n){return t+=e,[t>Ls?t-Vs:-Ls>t?t+Vs:t,n]}}function vn(e){var t=gn(e);return t.invert=gn(-e),t}function yn(e,t){function n(e,t){var n=Math.cos(t),a=Math.cos(e)*n,u=Math.sin(e)*n,l=Math.sin(t),c=l*r+a*i;return[Math.atan2(u*o-c*s,a*r-l*i),se(c*o+u*s)]}var r=Math.cos(e),i=Math.sin(e),o=Math.cos(t),s=Math.sin(t);return n.invert=function(e,t){var n=Math.cos(t),a=Math.cos(e)*n,u=Math.sin(e)*n,l=Math.sin(t),c=l*o-u*s;return[Math.atan2(u*o+l*s,a*r+c*i),se(c*r-a*i)]},n}function bn(e,t){var n=Math.cos(e),r=Math.sin(e);return function(i,o,s,a){var u=s*t;null!=i?(i=_n(n,i),o=_n(n,o),(s>0?o>i:i>o)&&(i+=s*Vs)):(i=e+s*Vs,o=e-.5*u);for(var l,c=i;s>0?c>o:o>c;c-=u)a.point((l=Ct([n,-r*Math.cos(c),-r*Math.sin(c)]))[0],l[1])}}function _n(e,t){var n=bt(t);n[0]-=e,Nt(n);var r=oe(-n[1]);return((-n[2]<0?-r:r)+2*Math.PI-Rs)%(2*Math.PI)}function wn(e,t,n){var r=as.range(e,t-Rs,n).concat(t);return function(e){return r.map(function(t){return[e,t]})}}function En(e,t,n){var r=as.range(e,t-Rs,n).concat(t);return function(e){return r.map(function(t){return[t,e]})}}function xn(e){return e.source}function Nn(e){return e.target}function Cn(e,t,n,r){var i=Math.cos(t),o=Math.sin(t),s=Math.cos(r),a=Math.sin(r),u=i*Math.cos(e),l=i*Math.sin(e),c=s*Math.cos(n),p=s*Math.sin(n),h=2*Math.asin(Math.sqrt(ce(r-t)+i*s*ce(n-e))),f=1/Math.sin(h),d=h?function(e){var t=Math.sin(e*=h)*f,n=Math.sin(h-e)*f,r=n*u+t*c,i=n*l+t*p,s=n*o+t*a;return[Math.atan2(i,r)*zs,Math.atan2(s,Math.sqrt(r*r+i*i))*zs]}:function(){return[e*zs,t*zs]};return d.distance=h,d}function Mn(){function e(e,i){var o=Math.sin(i*=Bs),s=Math.cos(i),a=bs((e*=Bs)-t),u=Math.cos(a);Ya+=Math.atan2(Math.sqrt((a=s*Math.sin(a))*a+(a=r*o-n*s*u)*a),n*o+r*s*u),t=e,n=o,r=s}var t,n,r;Xa.point=function(i,o){t=i*Bs,n=Math.sin(o*=Bs),r=Math.cos(o),Xa.point=e},Xa.lineEnd=function(){Xa.point=Xa.lineEnd=M}}function Sn(e,t){function n(t,n){var r=Math.cos(t),i=Math.cos(n),o=e(r*i);return[o*i*Math.sin(t),o*Math.sin(n)]}return n.invert=function(e,n){var r=Math.sqrt(e*e+n*n),i=t(r),o=Math.sin(i),s=Math.cos(i);return[Math.atan2(e*o,r*s),Math.asin(r&&n*o/r)]},n}function Tn(e,t){function n(e,t){s>0?-Fs+Rs>t&&(t=-Fs+Rs):t>Fs-Rs&&(t=Fs-Rs);var n=s/Math.pow(i(t),o);return[n*Math.sin(o*e),s-n*Math.cos(o*e)]}var r=Math.cos(e),i=function(e){return Math.tan(Ls/4+e/2)},o=e===t?Math.sin(e):Math.log(r/Math.cos(t))/Math.log(i(t)/i(e)),s=r*Math.pow(i(e),o)/o;return o?(n.invert=function(e,t){var n=s-t,r=re(o)*Math.sqrt(e*e+n*n);return[Math.atan2(e,n)/o,2*Math.atan(Math.pow(s/r,1/o))-Fs]},n):Pn}function Dn(e,t){function n(e,t){var n=o-t;return[n*Math.sin(i*e),o-n*Math.cos(i*e)]}var r=Math.cos(e),i=e===t?Math.sin(e):(r-Math.cos(t))/(t-e),o=r/i+e;return bs(i)<Rs?fn:(n.invert=function(e,t){var n=o-t;return[Math.atan2(e,n)/i,o-re(i)*Math.sqrt(e*e+n*n)]},n)}function Pn(e,t){return[e,Math.log(Math.tan(Ls/4+t/2))]}function kn(e){var t,n=cn(e),r=n.scale,i=n.translate,o=n.clipExtent;return n.scale=function(){var e=r.apply(n,arguments);return e===n?t?n.clipExtent(null):n:e},n.translate=function(){var e=i.apply(n,arguments);return e===n?t?n.clipExtent(null):n:e},n.clipExtent=function(e){var s=o.apply(n,arguments);if(s===n){if(t=null==e){var a=Ls*r(),u=i();o([[u[0]-a,u[1]-a],[u[0]+a,u[1]+a]])}}else t&&(s=null);return s},n.clipExtent(null)}function On(e,t){return[Math.log(Math.tan(Ls/4+t/2)),-e]}function An(e){return e[0]}function jn(e){return e[1]}function Rn(e){for(var t=e.length,n=[0,1],r=2,i=2;t>i;i++){for(;r>1&&ie(e[n[r-2]],e[n[r-1]],e[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function In(e,t){return e[0]-t[0]||e[1]-t[1]}function Ln(e,t,n){return(n[0]-t[0])*(e[1]-t[1])<(n[1]-t[1])*(e[0]-t[0])}function Vn(e,t,n,r){var i=e[0],o=n[0],s=t[0]-i,a=r[0]-o,u=e[1],l=n[1],c=t[1]-u,p=r[1]-l,h=(a*(u-l)-p*(i-o))/(p*s-a*c);return[i+h*s,u+h*c]}function Un(e){var t=e[0],n=e[e.length-1];return!(t[0]-n[0]||t[1]-n[1])}function Fn(){ar(this),this.edge=this.site=this.circle=null}function Bn(e){var t=uu.pop()||new Fn;return t.site=e,t}function zn(e){Qn(e),ou.remove(e),uu.push(e),ar(e)}function Hn(e){var t=e.circle,n=t.x,r=t.cy,i={x:n,y:r},o=e.P,s=e.N,a=[e];zn(e);for(var u=o;u.circle&&bs(n-u.circle.x)<Rs&&bs(r-u.circle.cy)<Rs;)o=u.P,a.unshift(u),zn(u),u=o;a.unshift(u),Qn(u);for(var l=s;l.circle&&bs(n-l.circle.x)<Rs&&bs(r-l.circle.cy)<Rs;)s=l.N,a.push(l),zn(l),l=s;a.push(l),Qn(l);var c,p=a.length;for(c=1;p>c;++c)l=a[c],u=a[c-1],ir(l.edge,u.site,l.site,i);u=a[0],l=a[p-1],l.edge=nr(u.site,l.site,null,i),Jn(u),Jn(l)}function Wn(e){for(var t,n,r,i,o=e.x,s=e.y,a=ou._;a;)if(r=$n(a,s)-o,r>Rs)a=a.L;else{if(i=o-qn(a,s),!(i>Rs)){r>-Rs?(t=a.P,n=a):i>-Rs?(t=a,n=a.N):t=n=a;break}if(!a.R){t=a;break}a=a.R}var u=Bn(e);if(ou.insert(t,u),t||n){if(t===n)return Qn(t),n=Bn(t.site),ou.insert(u,n),u.edge=n.edge=nr(t.site,u.site),Jn(t),void Jn(n);if(!n)return void(u.edge=nr(t.site,u.site));Qn(t),Qn(n);var l=t.site,c=l.x,p=l.y,h=e.x-c,f=e.y-p,d=n.site,m=d.x-c,g=d.y-p,v=2*(h*g-f*m),y=h*h+f*f,b=m*m+g*g,_={x:(g*y-f*b)/v+c,y:(h*b-m*y)/v+p};ir(n.edge,l,d,_),u.edge=nr(l,e,null,_),n.edge=nr(e,d,null,_),Jn(t),Jn(n)}}function $n(e,t){var n=e.site,r=n.x,i=n.y,o=i-t;if(!o)return r;var s=e.P;if(!s)return-(1/0);n=s.site;var a=n.x,u=n.y,l=u-t;if(!l)return a;var c=a-r,p=1/o-1/l,h=c/l;return p?(-h+Math.sqrt(h*h-2*p*(c*c/(-2*l)-u+l/2+i-o/2)))/p+r:(r+a)/2}function qn(e,t){var n=e.N;if(n)return $n(n,t);var r=e.site;return r.y===t?r.x:1/0}function Kn(e){this.site=e,this.edges=[]}function Gn(e){for(var t,n,r,i,o,s,a,u,l,c,p=e[0][0],h=e[1][0],f=e[0][1],d=e[1][1],m=iu,g=m.length;g--;)if(o=m[g],o&&o.prepare())for(a=o.edges,u=a.length,s=0;u>s;)c=a[s].end(),r=c.x,i=c.y,l=a[++s%u].start(),t=l.x,n=l.y,(bs(r-t)>Rs||bs(i-n)>Rs)&&(a.splice(s,0,new or(rr(o.site,c,bs(r-p)<Rs&&d-i>Rs?{x:p,y:bs(t-p)<Rs?n:d}:bs(i-d)<Rs&&h-r>Rs?{x:bs(n-d)<Rs?t:h,y:d}:bs(r-h)<Rs&&i-f>Rs?{x:h,y:bs(t-h)<Rs?n:f}:bs(i-f)<Rs&&r-p>Rs?{x:bs(n-f)<Rs?t:p,y:f}:null),o.site,null)),++u)}function Yn(e,t){return t.angle-e.angle}function Xn(){ar(this),this.x=this.y=this.arc=this.site=this.cy=null}function Jn(e){var t=e.P,n=e.N;if(t&&n){var r=t.site,i=e.site,o=n.site;if(r!==o){var s=i.x,a=i.y,u=r.x-s,l=r.y-a,c=o.x-s,p=o.y-a,h=2*(u*p-l*c);if(!(h>=-Is)){var f=u*u+l*l,d=c*c+p*p,m=(p*f-l*d)/h,g=(u*d-c*f)/h,p=g+a,v=lu.pop()||new Xn;v.arc=e,v.site=i,v.x=m+s,v.y=p+Math.sqrt(m*m+g*g),v.cy=p,e.circle=v;for(var y=null,b=au._;b;)if(v.y<b.y||v.y===b.y&&v.x<=b.x){if(!b.L){y=b.P;break}b=b.L}else{if(!b.R){y=b;break}b=b.R}au.insert(y,v),y||(su=v)}}}}function Qn(e){var t=e.circle;t&&(t.P||(su=t.N),au.remove(t),lu.push(t),ar(t),e.circle=null)}function Zn(e){for(var t,n=ru,r=qt(e[0][0],e[0][1],e[1][0],e[1][1]),i=n.length;i--;)t=n[i],(!er(t,e)||!r(t)||bs(t.a.x-t.b.x)<Rs&&bs(t.a.y-t.b.y)<Rs)&&(t.a=t.b=null,n.splice(i,1))}function er(e,t){var n=e.b;if(n)return!0;var r,i,o=e.a,s=t[0][0],a=t[1][0],u=t[0][1],l=t[1][1],c=e.l,p=e.r,h=c.x,f=c.y,d=p.x,m=p.y,g=(h+d)/2,v=(f+m)/2;if(m===f){if(s>g||g>=a)return;if(h>d){if(o){if(o.y>=l)return}else o={x:g,y:u};n={x:g,y:l}}else{if(o){if(o.y<u)return}else o={x:g,y:l};n={x:g,y:u}}}else if(r=(h-d)/(m-f),i=v-r*g,-1>r||r>1)if(h>d){if(o){if(o.y>=l)return}else o={x:(u-i)/r,y:u};n={x:(l-i)/r,y:l}}else{if(o){if(o.y<u)return}else o={x:(l-i)/r,y:l};n={x:(u-i)/r,y:u}}else if(m>f){if(o){if(o.x>=a)return}else o={x:s,y:r*s+i};n={x:a,y:r*a+i}}else{if(o){if(o.x<s)return}else o={x:a,y:r*a+i};n={x:s,y:r*s+i}}return e.a=o,e.b=n,!0}function tr(e,t){this.l=e,this.r=t,this.a=this.b=null}function nr(e,t,n,r){var i=new tr(e,t);return ru.push(i),n&&ir(i,e,t,n),r&&ir(i,t,e,r),iu[e.i].edges.push(new or(i,e,t)),iu[t.i].edges.push(new or(i,t,e)),i}function rr(e,t,n){var r=new tr(e,null);return r.a=t,r.b=n,ru.push(r),r}function ir(e,t,n,r){e.a||e.b?e.l===n?e.b=r:e.a=r:(e.a=r,e.l=t,e.r=n)}function or(e,t,n){var r=e.a,i=e.b;this.edge=e,this.site=t,this.angle=n?Math.atan2(n.y-t.y,n.x-t.x):e.l===t?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)}function sr(){this._=null}function ar(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function ur(e,t){var n=t,r=t.R,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function lr(e,t){var n=t,r=t.L,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function cr(e){for(;e.L;)e=e.L;return e}function pr(e,t){var n,r,i,o=e.sort(hr).pop();for(ru=[],iu=new Array(e.length),ou=new sr,au=new sr;;)if(i=su,o&&(!i||o.y<i.y||o.y===i.y&&o.x<i.x))(o.x!==n||o.y!==r)&&(iu[o.i]=new Kn(o),Wn(o),n=o.x,r=o.y),o=e.pop();else{if(!i)break;Hn(i.arc)}t&&(Zn(t),Gn(t));var s={cells:iu,edges:ru};return ou=au=ru=iu=null,s}function hr(e,t){return t.y-e.y||t.x-e.x}function fr(e,t,n){return(e.x-n.x)*(t.y-e.y)-(e.x-t.x)*(n.y-e.y)}function dr(e){return e.x}function mr(e){return e.y}function gr(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function vr(e,t,n,r,i,o){if(!e(t,n,r,i,o)){var s=.5*(n+i),a=.5*(r+o),u=t.nodes;u[0]&&vr(e,u[0],n,r,s,a),u[1]&&vr(e,u[1],s,r,i,a),u[2]&&vr(e,u[2],n,a,s,o),u[3]&&vr(e,u[3],s,a,i,o)}}function yr(e,t,n,r,i,o,s){var a,u=1/0;return function l(e,c,p,h,f){if(!(c>o||p>s||r>h||i>f)){if(d=e.point){var d,m=t-e.x,g=n-e.y,v=m*m+g*g;if(u>v){var y=Math.sqrt(u=v);r=t-y,i=n-y,o=t+y,s=n+y,a=d}}for(var b=e.nodes,_=.5*(c+h),w=.5*(p+f),E=t>=_,x=n>=w,N=x<<1|E,C=N+4;C>N;++N)if(e=b[3&N])switch(3&N){case 0:l(e,c,p,_,w);break;case 1:l(e,_,p,h,w);break;case 2:l(e,c,w,_,f);break;case 3:l(e,_,w,h,f)}}}(e,r,i,o,s),a}function br(e,t){e=as.rgb(e),t=as.rgb(t);var n=e.r,r=e.g,i=e.b,o=t.r-n,s=t.g-r,a=t.b-i;return function(e){return"#"+Ce(Math.round(n+o*e))+Ce(Math.round(r+s*e))+Ce(Math.round(i+a*e))}}function _r(e,t){var n,r={},i={};for(n in e)n in t?r[n]=xr(e[n],t[n]):i[n]=e[n];for(n in t)n in e||(i[n]=t[n]);return function(e){for(n in r)i[n]=r[n](e);return i}}function wr(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Er(e,t){var n,r,i,o=pu.lastIndex=hu.lastIndex=0,s=-1,a=[],u=[];for(e+="",t+="";(n=pu.exec(e))&&(r=hu.exec(t));)(i=r.index)>o&&(i=t.slice(o,i),a[s]?a[s]+=i:a[++s]=i),(n=n[0])===(r=r[0])?a[s]?a[s]+=r:a[++s]=r:(a[++s]=null,u.push({i:s,x:wr(n,r)})),o=hu.lastIndex;return o<t.length&&(i=t.slice(o),a[s]?a[s]+=i:a[++s]=i),a.length<2?u[0]?(t=u[0].x,function(e){return t(e)+""}):function(){return t}:(t=u.length,function(e){for(var n,r=0;t>r;++r)a[(n=u[r]).i]=n.x(e);return a.join("")})}function xr(e,t){for(var n,r=as.interpolators.length;--r>=0&&!(n=as.interpolators[r](e,t)););return n}function Nr(e,t){var n,r=[],i=[],o=e.length,s=t.length,a=Math.min(e.length,t.length);for(n=0;a>n;++n)r.push(xr(e[n],t[n]));for(;o>n;++n)i[n]=e[n];for(;s>n;++n)i[n]=t[n];return function(e){for(n=0;a>n;++n)i[n]=r[n](e);return i}}function Cr(e){return function(t){return 0>=t?0:t>=1?1:e(t)}}function Mr(e){return function(t){return 1-e(1-t)}}function Sr(e){return function(t){return.5*(.5>t?e(2*t):2-e(2-2*t))}}function Tr(e){return e*e}function Dr(e){return e*e*e}function Pr(e){if(0>=e)return 0;if(e>=1)return 1;var t=e*e,n=t*e;return 4*(.5>e?n:3*(e-t)+n-.75)}function kr(e){return function(t){return Math.pow(t,e)}}function Or(e){return 1-Math.cos(e*Fs)}function Ar(e){return Math.pow(2,10*(e-1))}function jr(e){return 1-Math.sqrt(1-e*e)}function Rr(e,t){var n;return arguments.length<2&&(t=.45),arguments.length?n=t/Vs*Math.asin(1/e):(e=1,n=t/4),function(r){return 1+e*Math.pow(2,-10*r)*Math.sin((r-n)*Vs/t)}}function Ir(e){return e||(e=1.70158),function(t){return t*t*((e+1)*t-e)}}function Lr(e){return 1/2.75>e?7.5625*e*e:2/2.75>e?7.5625*(e-=1.5/2.75)*e+.75:2.5/2.75>e?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}function Vr(e,t){e=as.hcl(e),t=as.hcl(t);var n=e.h,r=e.c,i=e.l,o=t.h-n,s=t.c-r,a=t.l-i;return isNaN(s)&&(s=0,r=isNaN(r)?t.c:r),isNaN(o)?(o=0,n=isNaN(n)?t.h:n):o>180?o-=360:-180>o&&(o+=360),function(e){return me(n+o*e,r+s*e,i+a*e)+""}}function Ur(e,t){e=as.hsl(e),t=as.hsl(t);var n=e.h,r=e.s,i=e.l,o=t.h-n,s=t.s-r,a=t.l-i;return isNaN(s)&&(s=0,r=isNaN(r)?t.s:r),isNaN(o)?(o=0,n=isNaN(n)?t.h:n):o>180?o-=360:-180>o&&(o+=360),function(e){return fe(n+o*e,r+s*e,i+a*e)+""}}function Fr(e,t){e=as.lab(e),t=as.lab(t);var n=e.l,r=e.a,i=e.b,o=t.l-n,s=t.a-r,a=t.b-i;return function(e){return ve(n+o*e,r+s*e,i+a*e)+""}}function Br(e,t){return t-=e,function(n){return Math.round(e+t*n)}}function zr(e){var t=[e.a,e.b],n=[e.c,e.d],r=Wr(t),i=Hr(t,n),o=Wr($r(n,t,-i))||0;t[0]*n[1]<n[0]*t[1]&&(t[0]*=-1,t[1]*=-1,r*=-1,i*=-1),this.rotate=(r?Math.atan2(t[1],t[0]):Math.atan2(-n[0],n[1]))*zs,this.translate=[e.e,e.f],this.scale=[r,o],this.skew=o?Math.atan2(i,o)*zs:0}function Hr(e,t){return e[0]*t[0]+e[1]*t[1]}function Wr(e){var t=Math.sqrt(Hr(e,e));return t&&(e[0]/=t,e[1]/=t),t}function $r(e,t,n){return e[0]+=n*t[0],e[1]+=n*t[1],e}function qr(e,t){var n,r=[],i=[],o=as.transform(e),s=as.transform(t),a=o.translate,u=s.translate,l=o.rotate,c=s.rotate,p=o.skew,h=s.skew,f=o.scale,d=s.scale;return a[0]!=u[0]||a[1]!=u[1]?(r.push("translate(",null,",",null,")"),i.push({i:1,x:wr(a[0],u[0])},{i:3,x:wr(a[1],u[1])})):u[0]||u[1]?r.push("translate("+u+")"):r.push(""),l!=c?(l-c>180?c+=360:c-l>180&&(l+=360),i.push({i:r.push(r.pop()+"rotate(",null,")")-2,x:wr(l,c)})):c&&r.push(r.pop()+"rotate("+c+")"),p!=h?i.push({i:r.push(r.pop()+"skewX(",null,")")-2,x:wr(p,h)}):h&&r.push(r.pop()+"skewX("+h+")"),f[0]!=d[0]||f[1]!=d[1]?(n=r.push(r.pop()+"scale(",null,",",null,")"),i.push({i:n-4,x:wr(f[0],d[0])},{i:n-2,x:wr(f[1],d[1])})):(1!=d[0]||1!=d[1])&&r.push(r.pop()+"scale("+d+")"),n=i.length,function(e){for(var t,o=-1;++o<n;)r[(t=i[o]).i]=t.x(e);return r.join("")}}function Kr(e,t){return t=(t-=e=+e)||1/t,function(n){return(n-e)/t}}function Gr(e,t){return t=(t-=e=+e)||1/t,function(n){return Math.max(0,Math.min(1,(n-e)/t))}}function Yr(e){for(var t=e.source,n=e.target,r=Jr(t,n),i=[t];t!==r;)t=t.parent,i.push(t);for(var o=i.length;n!==r;)i.splice(o,0,n),n=n.parent;return i}function Xr(e){for(var t=[],n=e.parent;null!=n;)t.push(e),e=n,n=n.parent;return t.push(e),t}function Jr(e,t){if(e===t)return e;for(var n=Xr(e),r=Xr(t),i=n.pop(),o=r.pop(),s=null;i===o;)s=i,i=n.pop(),o=r.pop();return s}function Qr(e){e.fixed|=2}function Zr(e){e.fixed&=-7}function ei(e){e.fixed|=4,e.px=e.x,e.py=e.y}function ti(e){e.fixed&=-5}function ni(e,t,n){var r=0,i=0;if(e.charge=0,!e.leaf)for(var o,s=e.nodes,a=s.length,u=-1;++u<a;)o=s[u],null!=o&&(ni(o,t,n),e.charge+=o.charge,r+=o.charge*o.cx,i+=o.charge*o.cy);if(e.point){e.leaf||(e.point.x+=Math.random()-.5,e.point.y+=Math.random()-.5);var l=t*n[e.point.index];e.charge+=e.pointCharge=l,r+=l*e.point.x,i+=l*e.point.y}e.cx=r/e.charge,e.cy=i/e.charge}function ri(e,t){return as.rebind(e,t,"sort","children","value"),e.nodes=e,e.links=li,e}function ii(e,t){for(var n=[e];null!=(e=n.pop());)if(t(e),(i=e.children)&&(r=i.length))for(var r,i;--r>=0;)n.push(i[r])}function oi(e,t){for(var n=[e],r=[];null!=(e=n.pop());)if(r.push(e),(o=e.children)&&(i=o.length))for(var i,o,s=-1;++s<i;)n.push(o[s]);for(;null!=(e=r.pop());)t(e)}function si(e){return e.children}function ai(e){return e.value}function ui(e,t){return t.value-e.value}function li(e){return as.merge(e.map(function(e){return(e.children||[]).map(function(t){return{source:e,target:t}})}))}function ci(e){return e.x}function pi(e){return e.y}function hi(e,t,n){e.y0=t,e.y=n}function fi(e){return as.range(e.length)}function di(e){for(var t=-1,n=e[0].length,r=[];++t<n;)r[t]=0;return r}function mi(e){for(var t,n=1,r=0,i=e[0][1],o=e.length;o>n;++n)(t=e[n][1])>i&&(r=n,i=t);return r}function gi(e){return e.reduce(vi,0)}function vi(e,t){return e+t[1]}function yi(e,t){return bi(e,Math.ceil(Math.log(t.length)/Math.LN2+1))}function bi(e,t){for(var n=-1,r=+e[0],i=(e[1]-r)/t,o=[];++n<=t;)o[n]=i*n+r;return o}function _i(e){return[as.min(e),as.max(e)]}function wi(e,t){return e.value-t.value}function Ei(e,t){var n=e._pack_next;e._pack_next=t,t._pack_prev=e,t._pack_next=n,n._pack_prev=t}function xi(e,t){e._pack_next=t,t._pack_prev=e}function Ni(e,t){var n=t.x-e.x,r=t.y-e.y,i=e.r+t.r;return.999*i*i>n*n+r*r}function Ci(e){function t(e){c=Math.min(e.x-e.r,c),p=Math.max(e.x+e.r,p),h=Math.min(e.y-e.r,h),f=Math.max(e.y+e.r,f)}if((n=e.children)&&(l=n.length)){var n,r,i,o,s,a,u,l,c=1/0,p=-(1/0),h=1/0,f=-(1/0);if(n.forEach(Mi),r=n[0],r.x=-r.r,r.y=0,t(r),l>1&&(i=n[1],i.x=i.r,i.y=0,t(i),l>2))for(o=n[2],Di(r,i,o),t(o),Ei(r,o),r._pack_prev=o,Ei(o,i),i=r._pack_next,s=3;l>s;s++){Di(r,i,o=n[s]);var d=0,m=1,g=1;for(a=i._pack_next;a!==i;a=a._pack_next,m++)if(Ni(a,o)){d=1;break}if(1==d)for(u=r._pack_prev;u!==a._pack_prev&&!Ni(u,o);u=u._pack_prev,g++);d?(g>m||m==g&&i.r<r.r?xi(r,i=a):xi(r=u,i),s--):(Ei(r,o),i=o,t(o))}var v=(c+p)/2,y=(h+f)/2,b=0;for(s=0;l>s;s++)o=n[s],o.x-=v,o.y-=y,b=Math.max(b,o.r+Math.sqrt(o.x*o.x+o.y*o.y));e.r=b,n.forEach(Si)}}function Mi(e){e._pack_next=e._pack_prev=e}function Si(e){delete e._pack_next,delete e._pack_prev}function Ti(e,t,n,r){var i=e.children;if(e.x=t+=r*e.x,e.y=n+=r*e.y,e.r*=r,i)for(var o=-1,s=i.length;++o<s;)Ti(i[o],t,n,r)}function Di(e,t,n){var r=e.r+n.r,i=t.x-e.x,o=t.y-e.y;if(r&&(i||o)){var s=t.r+n.r,a=i*i+o*o;s*=s,r*=r;var u=.5+(r-s)/(2*a),l=Math.sqrt(Math.max(0,2*s*(r+a)-(r-=a)*r-s*s))/(2*a);n.x=e.x+u*i+l*o,n.y=e.y+u*o-l*i}else n.x=e.x+r,n.y=e.y}function Pi(e,t){return e.parent==t.parent?1:2}function ki(e){var t=e.children;return t.length?t[0]:e.t}function Oi(e){var t,n=e.children;return(t=n.length)?n[t-1]:e.t}function Ai(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function ji(e){for(var t,n=0,r=0,i=e.children,o=i.length;--o>=0;)t=i[o],t.z+=n,t.m+=n,n+=t.s+(r+=t.c)}function Ri(e,t,n){return e.a.parent===t.parent?e.a:n}function Ii(e){return 1+as.max(e,function(e){return e.y})}function Li(e){return e.reduce(function(e,t){return e+t.x},0)/e.length}function Vi(e){var t=e.children;return t&&t.length?Vi(t[0]):e}function Ui(e){var t,n=e.children;return n&&(t=n.length)?Ui(n[t-1]):e}function Fi(e){return{x:e.x,y:e.y,dx:e.dx,dy:e.dy}}function Bi(e,t){var n=e.x+t[3],r=e.y+t[0],i=e.dx-t[1]-t[3],o=e.dy-t[0]-t[2];return 0>i&&(n+=i/2,i=0),0>o&&(r+=o/2,o=0),{x:n,y:r,dx:i,dy:o}}function zi(e){var t=e[0],n=e[e.length-1];return n>t?[t,n]:[n,t]}function Hi(e){return e.rangeExtent?e.rangeExtent():zi(e.range())}function Wi(e,t,n,r){var i=n(e[0],e[1]),o=r(t[0],t[1]);return function(e){return o(i(e))}}function $i(e,t){var n,r=0,i=e.length-1,o=e[r],s=e[i];return o>s&&(n=r,r=i,i=n,n=o,o=s,s=n),e[r]=t.floor(o),e[i]=t.ceil(s),e}function qi(e){return e?{floor:function(t){return Math.floor(t/e)*e},ceil:function(t){return Math.ceil(t/e)*e}}:xu}function Ki(e,t,n,r){var i=[],o=[],s=0,a=Math.min(e.length,t.length)-1;for(e[a]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<=a;)i.push(n(e[s-1],e[s])),o.push(r(t[s-1],t[s]));return function(t){var n=as.bisect(e,t,1,a)-1;return o[n](i[n](t))}}function Gi(e,t,n,r){function i(){var i=Math.min(e.length,t.length)>2?Ki:Wi,u=r?Gr:Kr;return s=i(e,t,u,n),a=i(t,e,u,xr),o}function o(e){return s(e)}var s,a;return o.invert=function(e){return a(e)},o.domain=function(t){return arguments.length?(e=t.map(Number),i()):e},o.range=function(e){return arguments.length?(t=e,i()):t},o.rangeRound=function(e){return o.range(e).interpolate(Br)},o.clamp=function(e){return arguments.length?(r=e,i()):r},o.interpolate=function(e){return arguments.length?(n=e,i()):n},o.ticks=function(t){return Qi(e,t)},o.tickFormat=function(t,n){return Zi(e,t,n)},o.nice=function(t){return Xi(e,t),i()},o.copy=function(){return Gi(e,t,n,r)},i()}function Yi(e,t){return as.rebind(e,t,"range","rangeRound","interpolate","clamp")}function Xi(e,t){return $i(e,qi(Ji(e,t)[2]))}function Ji(e,t){null==t&&(t=10);var n=zi(e),r=n[1]-n[0],i=Math.pow(10,Math.floor(Math.log(r/t)/Math.LN10)),o=t/r*i;return.15>=o?i*=10:.35>=o?i*=5:.75>=o&&(i*=2),n[0]=Math.ceil(n[0]/i)*i,n[1]=Math.floor(n[1]/i)*i+.5*i,n[2]=i,n}function Qi(e,t){return as.range.apply(as,Ji(e,t))}function Zi(e,t,n){var r=Ji(e,t);if(n){var i=pa.exec(n);if(i.shift(),"s"===i[8]){var o=as.formatPrefix(Math.max(bs(r[0]),bs(r[1])));return i[7]||(i[7]="."+eo(o.scale(r[2]))),i[8]="f",n=as.format(i.join("")),function(e){return n(o.scale(e))+o.symbol}}i[7]||(i[7]="."+to(i[8],r)),n=i.join("")}else n=",."+eo(r[2])+"f";return as.format(n)}function eo(e){return-Math.floor(Math.log(e)/Math.LN10+.01)}function to(e,t){var n=eo(t[2]);return e in Nu?Math.abs(n-eo(Math.max(bs(t[0]),bs(t[1]))))+ +("e"!==e):n-2*("%"===e)}function no(e,t,n,r){function i(e){return(n?Math.log(0>e?0:e):-Math.log(e>0?0:-e))/Math.log(t)}function o(e){return n?Math.pow(t,e):-Math.pow(t,-e)}function s(t){return e(i(t))}return s.invert=function(t){return o(e.invert(t))},s.domain=function(t){return arguments.length?(n=t[0]>=0,e.domain((r=t.map(Number)).map(i)),s):r},s.base=function(n){return arguments.length?(t=+n,e.domain(r.map(i)),s):t},s.nice=function(){var t=$i(r.map(i),n?Math:Mu);return e.domain(t),r=t.map(o),s},s.ticks=function(){var e=zi(r),s=[],a=e[0],u=e[1],l=Math.floor(i(a)),c=Math.ceil(i(u)),p=t%1?2:t;if(isFinite(c-l)){if(n){for(;c>l;l++)for(var h=1;p>h;h++)s.push(o(l)*h);s.push(o(l))}else for(s.push(o(l));l++<c;)for(var h=p-1;h>0;h--)s.push(o(l)*h);for(l=0;s[l]<a;l++);for(c=s.length;s[c-1]>u;c--);s=s.slice(l,c)}return s},s.tickFormat=function(e,t){if(!arguments.length)return Cu;arguments.length<2?t=Cu:"function"!=typeof t&&(t=as.format(t));var r,a=Math.max(.1,e/s.ticks().length),u=n?(r=1e-12,Math.ceil):(r=-1e-12,Math.floor);return function(e){return e/o(u(i(e)+r))<=a?t(e):""}},s.copy=function(){return no(e.copy(),t,n,r)},Yi(s,e)}function ro(e,t,n){function r(t){return e(i(t))}var i=io(t),o=io(1/t);return r.invert=function(t){return o(e.invert(t))},r.domain=function(t){return arguments.length?(e.domain((n=t.map(Number)).map(i)),r):n},r.ticks=function(e){return Qi(n,e)},r.tickFormat=function(e,t){return Zi(n,e,t)},r.nice=function(e){return r.domain(Xi(n,e))},r.exponent=function(s){return arguments.length?(i=io(t=s),o=io(1/t),e.domain(n.map(i)),r):t},r.copy=function(){return ro(e.copy(),t,n)},Yi(r,e)}function io(e){return function(t){return 0>t?-Math.pow(-t,e):Math.pow(t,e)}}function oo(e,t){function n(n){return o[((i.get(n)||("range"===t.t?i.set(n,e.push(n)):NaN))-1)%o.length]}function r(t,n){return as.range(e.length).map(function(e){return t+n*e})}var i,o,s;return n.domain=function(r){if(!arguments.length)return e;e=[],i=new d;for(var o,s=-1,a=r.length;++s<a;)i.has(o=r[s])||i.set(o,e.push(o));return n[t.t].apply(n,t.a)},n.range=function(e){return arguments.length?(o=e,s=0,t={t:"range",a:arguments},n):o},n.rangePoints=function(i,a){arguments.length<2&&(a=0);var u=i[0],l=i[1],c=e.length<2?(u=(u+l)/2,0):(l-u)/(e.length-1+a);return o=r(u+c*a/2,c),s=0,t={t:"rangePoints",a:arguments},n},n.rangeRoundPoints=function(i,a){arguments.length<2&&(a=0);var u=i[0],l=i[1],c=e.length<2?(u=l=Math.round((u+l)/2),0):(l-u)/(e.length-1+a)|0;return o=r(u+Math.round(c*a/2+(l-u-(e.length-1+a)*c)/2),c),s=0,t={t:"rangeRoundPoints",a:arguments},n},n.rangeBands=function(i,a,u){arguments.length<2&&(a=0),arguments.length<3&&(u=a);var l=i[1]<i[0],c=i[l-0],p=i[1-l],h=(p-c)/(e.length-a+2*u);return o=r(c+h*u,h),l&&o.reverse(),s=h*(1-a),t={t:"rangeBands",a:arguments},n},n.rangeRoundBands=function(i,a,u){arguments.length<2&&(a=0),arguments.length<3&&(u=a);var l=i[1]<i[0],c=i[l-0],p=i[1-l],h=Math.floor((p-c)/(e.length-a+2*u));return o=r(c+Math.round((p-c-(e.length-a)*h)/2),h),l&&o.reverse(),s=Math.round(h*(1-a)),t={t:"rangeRoundBands",a:arguments},n},n.rangeBand=function(){return s},n.rangeExtent=function(){return zi(t.a[0])},n.copy=function(){return oo(e,t)},n.domain(e)}function so(e,t){function n(){var n=0,o=t.length;for(i=[];++n<o;)i[n-1]=as.quantile(e,n/o);return r}function r(e){return isNaN(e=+e)?void 0:t[as.bisect(i,e)]}var i;return r.domain=function(t){return arguments.length?(e=t.map(u).filter(l).sort(a),n()):e},r.range=function(e){return arguments.length?(t=e,n()):t},r.quantiles=function(){return i},r.invertExtent=function(n){return n=t.indexOf(n),0>n?[NaN,NaN]:[n>0?i[n-1]:e[0],n<i.length?i[n]:e[e.length-1]]},r.copy=function(){return so(e,t)},n()}function ao(e,t,n){function r(t){return n[Math.max(0,Math.min(s,Math.floor(o*(t-e))))]}function i(){return o=n.length/(t-e),s=n.length-1,r}var o,s;return r.domain=function(n){return arguments.length?(e=+n[0],t=+n[n.length-1],i()):[e,t]},r.range=function(e){return arguments.length?(n=e,i()):n},r.invertExtent=function(t){return t=n.indexOf(t),t=0>t?NaN:t/o+e,[t,t+1/o]},r.copy=function(){return ao(e,t,n)},i()}function uo(e,t){function n(n){return n>=n?t[as.bisect(e,n)]:void 0}return n.domain=function(t){return arguments.length?(e=t,n):e},n.range=function(e){return arguments.length?(t=e,n):t},n.invertExtent=function(n){return n=t.indexOf(n),[e[n-1],e[n]]},n.copy=function(){return uo(e,t)},n}function lo(e){function t(e){return+e}return t.invert=t,t.domain=t.range=function(n){return arguments.length?(e=n.map(t),t):e},t.ticks=function(t){return Qi(e,t)},t.tickFormat=function(t,n){return Zi(e,t,n)},t.copy=function(){return lo(e)},t}function co(){return 0}function po(e){return e.innerRadius}function ho(e){return e.outerRadius}function fo(e){return e.startAngle}function mo(e){return e.endAngle}function go(e){return e&&e.padAngle}function vo(e,t,n,r){return(e-n)*t-(t-r)*e>0?0:1}function yo(e,t,n,r,i){var o=e[0]-t[0],s=e[1]-t[1],a=(i?r:-r)/Math.sqrt(o*o+s*s),u=a*s,l=-a*o,c=e[0]+u,p=e[1]+l,h=t[0]+u,f=t[1]+l,d=(c+h)/2,m=(p+f)/2,g=h-c,v=f-p,y=g*g+v*v,b=n-r,_=c*f-h*p,w=(0>v?-1:1)*Math.sqrt(b*b*y-_*_),E=(_*v-g*w)/y,x=(-_*g-v*w)/y,N=(_*v+g*w)/y,C=(-_*g+v*w)/y,M=E-d,S=x-m,T=N-d,D=C-m;
return M*M+S*S>T*T+D*D&&(E=N,x=C),[[E-u,x-l],[E*n/b,x*n/b]]}function bo(e){function t(t){function s(){l.push("M",o(e(c),a))}for(var u,l=[],c=[],p=-1,h=t.length,f=ke(n),d=ke(r);++p<h;)i.call(this,u=t[p],p)?c.push([+f.call(this,u,p),+d.call(this,u,p)]):c.length&&(s(),c=[]);return c.length&&s(),l.length?l.join(""):null}var n=An,r=jn,i=At,o=_o,s=o.key,a=.7;return t.x=function(e){return arguments.length?(n=e,t):n},t.y=function(e){return arguments.length?(r=e,t):r},t.defined=function(e){return arguments.length?(i=e,t):i},t.interpolate=function(e){return arguments.length?(s="function"==typeof e?o=e:(o=Ou.get(e)||_o).key,t):s},t.tension=function(e){return arguments.length?(a=e,t):a},t}function _o(e){return e.join("L")}function wo(e){return _o(e)+"Z"}function Eo(e){for(var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];++t<n;)i.push("H",(r[0]+(r=e[t])[0])/2,"V",r[1]);return n>1&&i.push("H",r[0]),i.join("")}function xo(e){for(var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];++t<n;)i.push("V",(r=e[t])[1],"H",r[0]);return i.join("")}function No(e){for(var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];++t<n;)i.push("H",(r=e[t])[0],"V",r[1]);return i.join("")}function Co(e,t){return e.length<4?_o(e):e[1]+To(e.slice(1,-1),Do(e,t))}function Mo(e,t){return e.length<3?_o(e):e[0]+To((e.push(e[0]),e),Do([e[e.length-2]].concat(e,[e[1]]),t))}function So(e,t){return e.length<3?_o(e):e[0]+To(e,Do(e,t))}function To(e,t){if(t.length<1||e.length!=t.length&&e.length!=t.length+2)return _o(e);var n=e.length!=t.length,r="",i=e[0],o=e[1],s=t[0],a=s,u=1;if(n&&(r+="Q"+(o[0]-2*s[0]/3)+","+(o[1]-2*s[1]/3)+","+o[0]+","+o[1],i=e[1],u=2),t.length>1){a=t[1],o=e[u],u++,r+="C"+(i[0]+s[0])+","+(i[1]+s[1])+","+(o[0]-a[0])+","+(o[1]-a[1])+","+o[0]+","+o[1];for(var l=2;l<t.length;l++,u++)o=e[u],a=t[l],r+="S"+(o[0]-a[0])+","+(o[1]-a[1])+","+o[0]+","+o[1]}if(n){var c=e[u];r+="Q"+(o[0]+2*a[0]/3)+","+(o[1]+2*a[1]/3)+","+c[0]+","+c[1]}return r}function Do(e,t){for(var n,r=[],i=(1-t)/2,o=e[0],s=e[1],a=1,u=e.length;++a<u;)n=o,o=s,s=e[a],r.push([i*(s[0]-n[0]),i*(s[1]-n[1])]);return r}function Po(e){if(e.length<3)return _o(e);var t=1,n=e.length,r=e[0],i=r[0],o=r[1],s=[i,i,i,(r=e[1])[0]],a=[o,o,o,r[1]],u=[i,",",o,"L",jo(Ru,s),",",jo(Ru,a)];for(e.push(e[n-1]);++t<=n;)r=e[t],s.shift(),s.push(r[0]),a.shift(),a.push(r[1]),Ro(u,s,a);return e.pop(),u.push("L",r),u.join("")}function ko(e){if(e.length<4)return _o(e);for(var t,n=[],r=-1,i=e.length,o=[0],s=[0];++r<3;)t=e[r],o.push(t[0]),s.push(t[1]);for(n.push(jo(Ru,o)+","+jo(Ru,s)),--r;++r<i;)t=e[r],o.shift(),o.push(t[0]),s.shift(),s.push(t[1]),Ro(n,o,s);return n.join("")}function Oo(e){for(var t,n,r=-1,i=e.length,o=i+4,s=[],a=[];++r<4;)n=e[r%i],s.push(n[0]),a.push(n[1]);for(t=[jo(Ru,s),",",jo(Ru,a)],--r;++r<o;)n=e[r%i],s.shift(),s.push(n[0]),a.shift(),a.push(n[1]),Ro(t,s,a);return t.join("")}function Ao(e,t){var n=e.length-1;if(n)for(var r,i,o=e[0][0],s=e[0][1],a=e[n][0]-o,u=e[n][1]-s,l=-1;++l<=n;)r=e[l],i=l/n,r[0]=t*r[0]+(1-t)*(o+i*a),r[1]=t*r[1]+(1-t)*(s+i*u);return Po(e)}function jo(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function Ro(e,t,n){e.push("C",jo(Au,t),",",jo(Au,n),",",jo(ju,t),",",jo(ju,n),",",jo(Ru,t),",",jo(Ru,n))}function Io(e,t){return(t[1]-e[1])/(t[0]-e[0])}function Lo(e){for(var t=0,n=e.length-1,r=[],i=e[0],o=e[1],s=r[0]=Io(i,o);++t<n;)r[t]=(s+(s=Io(i=o,o=e[t+1])))/2;return r[t]=s,r}function Vo(e){for(var t,n,r,i,o=[],s=Lo(e),a=-1,u=e.length-1;++a<u;)t=Io(e[a],e[a+1]),bs(t)<Rs?s[a]=s[a+1]=0:(n=s[a]/t,r=s[a+1]/t,i=n*n+r*r,i>9&&(i=3*t/Math.sqrt(i),s[a]=i*n,s[a+1]=i*r));for(a=-1;++a<=u;)i=(e[Math.min(u,a+1)][0]-e[Math.max(0,a-1)][0])/(6*(1+s[a]*s[a])),o.push([i||0,s[a]*i||0]);return o}function Uo(e){return e.length<3?_o(e):e[0]+To(e,Vo(e))}function Fo(e){for(var t,n,r,i=-1,o=e.length;++i<o;)t=e[i],n=t[0],r=t[1]-Fs,t[0]=n*Math.cos(r),t[1]=n*Math.sin(r);return e}function Bo(e){function t(t){function u(){m.push("M",a(e(v),p),c,l(e(g.reverse()),p),"Z")}for(var h,f,d,m=[],g=[],v=[],y=-1,b=t.length,_=ke(n),w=ke(i),E=n===r?function(){return f}:ke(r),x=i===o?function(){return d}:ke(o);++y<b;)s.call(this,h=t[y],y)?(g.push([f=+_.call(this,h,y),d=+w.call(this,h,y)]),v.push([+E.call(this,h,y),+x.call(this,h,y)])):g.length&&(u(),g=[],v=[]);return g.length&&u(),m.length?m.join(""):null}var n=An,r=An,i=0,o=jn,s=At,a=_o,u=a.key,l=a,c="L",p=.7;return t.x=function(e){return arguments.length?(n=r=e,t):r},t.x0=function(e){return arguments.length?(n=e,t):n},t.x1=function(e){return arguments.length?(r=e,t):r},t.y=function(e){return arguments.length?(i=o=e,t):o},t.y0=function(e){return arguments.length?(i=e,t):i},t.y1=function(e){return arguments.length?(o=e,t):o},t.defined=function(e){return arguments.length?(s=e,t):s},t.interpolate=function(e){return arguments.length?(u="function"==typeof e?a=e:(a=Ou.get(e)||_o).key,l=a.reverse||a,c=a.closed?"M":"L",t):u},t.tension=function(e){return arguments.length?(p=e,t):p},t}function zo(e){return e.radius}function Ho(e){return[e.x,e.y]}function Wo(e){return function(){var t=e.apply(this,arguments),n=t[0],r=t[1]-Fs;return[n*Math.cos(r),n*Math.sin(r)]}}function $o(){return 64}function qo(){return"circle"}function Ko(e){var t=Math.sqrt(e/Ls);return"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+-t+"A"+t+","+t+" 0 1,1 0,"+t+"Z"}function Go(e){return function(){var t,n;(t=this[e])&&(n=t[t.active])&&(--t.count?delete t[t.active]:delete this[e],t.active+=.5,n.event&&n.event.interrupt.call(this,this.__data__,n.index))}}function Yo(e,t,n){return Ns(e,zu),e.namespace=t,e.id=n,e}function Xo(e,t,n,r){var i=e.id,o=e.namespace;return G(e,"function"==typeof n?function(e,s,a){e[o][i].tween.set(t,r(n.call(e,e.__data__,s,a)))}:(n=r(n),function(e){e[o][i].tween.set(t,n)}))}function Jo(e){return null==e&&(e=""),function(){this.textContent=e}}function Qo(e){return null==e?"__transition__":"__transition_"+e+"__"}function Zo(e,t,n,r,i){var o=e[n]||(e[n]={active:0,count:0}),s=o[r];if(!s){var a=i.time;s=o[r]={tween:new d,time:a,delay:i.delay,duration:i.duration,ease:i.ease,index:t},i=null,++o.count,as.timer(function(i){function u(n){if(o.active>r)return c();var i=o[o.active];i&&(--o.count,delete o[o.active],i.event&&i.event.interrupt.call(e,e.__data__,i.index)),o.active=r,s.event&&s.event.start.call(e,e.__data__,t),s.tween.forEach(function(n,r){(r=r.call(e,e.__data__,t))&&m.push(r)}),h=s.ease,p=s.duration,as.timer(function(){return d.c=l(n||1)?At:l,1},0,a)}function l(n){if(o.active!==r)return 1;for(var i=n/p,a=h(i),u=m.length;u>0;)m[--u].call(e,a);return i>=1?(s.event&&s.event.end.call(e,e.__data__,t),c()):void 0}function c(){return--o.count?delete o[r]:delete e[n],1}var p,h,f=s.delay,d=ua,m=[];return d.t=f+a,i>=f?u(i-f):void(d.c=u)},0,a)}}function es(e,t,n){e.attr("transform",function(e){var r=t(e);return"translate("+(isFinite(r)?r:n(e))+",0)"})}function ts(e,t,n){e.attr("transform",function(e){var r=t(e);return"translate(0,"+(isFinite(r)?r:n(e))+")"})}function ns(e){return e.toISOString()}function rs(e,t,n){function r(t){return e(t)}function i(e,n){var r=e[1]-e[0],i=r/n,o=as.bisect(Ju,i);return o==Ju.length?[t.year,Ji(e.map(function(e){return e/31536e6}),n)[2]]:o?t[i/Ju[o-1]<Ju[o]/i?o-1:o]:[el,Ji(e,n)[2]]}return r.invert=function(t){return is(e.invert(t))},r.domain=function(t){return arguments.length?(e.domain(t),r):e.domain().map(is)},r.nice=function(e,t){function n(n){return!isNaN(n)&&!e.range(n,is(+n+1),t).length}var o=r.domain(),s=zi(o),a=null==e?i(s,10):"number"==typeof e&&i(s,e);return a&&(e=a[0],t=a[1]),r.domain($i(o,t>1?{floor:function(t){for(;n(t=e.floor(t));)t=is(t-1);return t},ceil:function(t){for(;n(t=e.ceil(t));)t=is(+t+1);return t}}:e))},r.ticks=function(e,t){var n=zi(r.domain()),o=null==e?i(n,10):"number"==typeof e?i(n,e):!e.range&&[{range:e},t];return o&&(e=o[0],t=o[1]),e.range(n[0],is(+n[1]+1),1>t?1:t)},r.tickFormat=function(){return n},r.copy=function(){return rs(e.copy(),t,n)},Yi(r,e)}function is(e){return new Date(e)}function os(e){return JSON.parse(e.responseText)}function ss(e){var t=cs.createRange();return t.selectNode(cs.body),t.createContextualFragment(e.responseText)}var as={version:"3.5.6"},us=[].slice,ls=function(e){return us.call(e)},cs=this.document;if(cs)try{ls(cs.documentElement.childNodes)[0].nodeType}catch(ps){ls=function(e){for(var t=e.length,n=new Array(t);t--;)n[t]=e[t];return n}}if(Date.now||(Date.now=function(){return+new Date}),cs)try{cs.createElement("DIV").style.setProperty("opacity",0,"")}catch(hs){var fs=this.Element.prototype,ds=fs.setAttribute,ms=fs.setAttributeNS,gs=this.CSSStyleDeclaration.prototype,vs=gs.setProperty;fs.setAttribute=function(e,t){ds.call(this,e,t+"")},fs.setAttributeNS=function(e,t,n){ms.call(this,e,t,n+"")},gs.setProperty=function(e,t,n){vs.call(this,e,t+"",n)}}as.ascending=a,as.descending=function(e,t){return e>t?-1:t>e?1:t>=e?0:NaN},as.min=function(e,t){var n,r,i=-1,o=e.length;if(1===arguments.length){for(;++i<o;)if(null!=(r=e[i])&&r>=r){n=r;break}for(;++i<o;)null!=(r=e[i])&&n>r&&(n=r)}else{for(;++i<o;)if(null!=(r=t.call(e,e[i],i))&&r>=r){n=r;break}for(;++i<o;)null!=(r=t.call(e,e[i],i))&&n>r&&(n=r)}return n},as.max=function(e,t){var n,r,i=-1,o=e.length;if(1===arguments.length){for(;++i<o;)if(null!=(r=e[i])&&r>=r){n=r;break}for(;++i<o;)null!=(r=e[i])&&r>n&&(n=r)}else{for(;++i<o;)if(null!=(r=t.call(e,e[i],i))&&r>=r){n=r;break}for(;++i<o;)null!=(r=t.call(e,e[i],i))&&r>n&&(n=r)}return n},as.extent=function(e,t){var n,r,i,o=-1,s=e.length;if(1===arguments.length){for(;++o<s;)if(null!=(r=e[o])&&r>=r){n=i=r;break}for(;++o<s;)null!=(r=e[o])&&(n>r&&(n=r),r>i&&(i=r))}else{for(;++o<s;)if(null!=(r=t.call(e,e[o],o))&&r>=r){n=i=r;break}for(;++o<s;)null!=(r=t.call(e,e[o],o))&&(n>r&&(n=r),r>i&&(i=r))}return[n,i]},as.sum=function(e,t){var n,r=0,i=e.length,o=-1;if(1===arguments.length)for(;++o<i;)l(n=+e[o])&&(r+=n);else for(;++o<i;)l(n=+t.call(e,e[o],o))&&(r+=n);return r},as.mean=function(e,t){var n,r=0,i=e.length,o=-1,s=i;if(1===arguments.length)for(;++o<i;)l(n=u(e[o]))?r+=n:--s;else for(;++o<i;)l(n=u(t.call(e,e[o],o)))?r+=n:--s;return s?r/s:void 0},as.quantile=function(e,t){var n=(e.length-1)*t+1,r=Math.floor(n),i=+e[r-1],o=n-r;return o?i+o*(e[r]-i):i},as.median=function(e,t){var n,r=[],i=e.length,o=-1;if(1===arguments.length)for(;++o<i;)l(n=u(e[o]))&&r.push(n);else for(;++o<i;)l(n=u(t.call(e,e[o],o)))&&r.push(n);return r.length?as.quantile(r.sort(a),.5):void 0},as.variance=function(e,t){var n,r,i=e.length,o=0,s=0,a=-1,c=0;if(1===arguments.length)for(;++a<i;)l(n=u(e[a]))&&(r=n-o,o+=r/++c,s+=r*(n-o));else for(;++a<i;)l(n=u(t.call(e,e[a],a)))&&(r=n-o,o+=r/++c,s+=r*(n-o));return c>1?s/(c-1):void 0},as.deviation=function(){var e=as.variance.apply(this,arguments);return e?Math.sqrt(e):e};var ys=c(a);as.bisectLeft=ys.left,as.bisect=as.bisectRight=ys.right,as.bisector=function(e){return c(1===e.length?function(t,n){return a(e(t),n)}:e)},as.shuffle=function(e,t,n){(o=arguments.length)<3&&(n=e.length,2>o&&(t=0));for(var r,i,o=n-t;o;)i=Math.random()*o--|0,r=e[o+t],e[o+t]=e[i+t],e[i+t]=r;return e},as.permute=function(e,t){for(var n=t.length,r=new Array(n);n--;)r[n]=e[t[n]];return r},as.pairs=function(e){for(var t,n=0,r=e.length-1,i=e[0],o=new Array(0>r?0:r);r>n;)o[n]=[t=i,i=e[++n]];return o},as.zip=function(){if(!(r=arguments.length))return[];for(var e=-1,t=as.min(arguments,p),n=new Array(t);++e<t;)for(var r,i=-1,o=n[e]=new Array(r);++i<r;)o[i]=arguments[i][e];return n},as.transpose=function(e){return as.zip.apply(as,e)},as.keys=function(e){var t=[];for(var n in e)t.push(n);return t},as.values=function(e){var t=[];for(var n in e)t.push(e[n]);return t},as.entries=function(e){var t=[];for(var n in e)t.push({key:n,value:e[n]});return t},as.merge=function(e){for(var t,n,r,i=e.length,o=-1,s=0;++o<i;)s+=e[o].length;for(n=new Array(s);--i>=0;)for(r=e[i],t=r.length;--t>=0;)n[--s]=r[t];return n};var bs=Math.abs;as.range=function(e,t,n){if(arguments.length<3&&(n=1,arguments.length<2&&(t=e,e=0)),(t-e)/n===1/0)throw new Error("infinite range");var r,i=[],o=h(bs(n)),s=-1;if(e*=o,t*=o,n*=o,0>n)for(;(r=e+n*++s)>t;)i.push(r/o);else for(;(r=e+n*++s)<t;)i.push(r/o);return i},as.map=function(e,t){var n=new d;if(e instanceof d)e.forEach(function(e,t){n.set(e,t)});else if(Array.isArray(e)){var r,i=-1,o=e.length;if(1===arguments.length)for(;++i<o;)n.set(i,e[i]);else for(;++i<o;)n.set(t.call(e,r=e[i],i),r)}else for(var s in e)n.set(s,e[s]);return n};var _s="__proto__",ws="\x00";f(d,{has:v,get:function(e){return this._[m(e)]},set:function(e,t){return this._[m(e)]=t},remove:y,keys:b,values:function(){var e=[];for(var t in this._)e.push(this._[t]);return e},entries:function(){var e=[];for(var t in this._)e.push({key:g(t),value:this._[t]});return e},size:_,empty:w,forEach:function(e){for(var t in this._)e.call(this,g(t),this._[t])}}),as.nest=function(){function e(t,s,a){if(a>=o.length)return r?r.call(i,s):n?s.sort(n):s;for(var u,l,c,p,h=-1,f=s.length,m=o[a++],g=new d;++h<f;)(p=g.get(u=m(l=s[h])))?p.push(l):g.set(u,[l]);return t?(l=t(),c=function(n,r){l.set(n,e(t,r,a))}):(l={},c=function(n,r){l[n]=e(t,r,a)}),g.forEach(c),l}function t(e,n){if(n>=o.length)return e;var r=[],i=s[n++];return e.forEach(function(e,i){r.push({key:e,values:t(i,n)})}),i?r.sort(function(e,t){return i(e.key,t.key)}):r}var n,r,i={},o=[],s=[];return i.map=function(t,n){return e(n,t,0)},i.entries=function(n){return t(e(as.map,n,0),0)},i.key=function(e){return o.push(e),i},i.sortKeys=function(e){return s[o.length-1]=e,i},i.sortValues=function(e){return n=e,i},i.rollup=function(e){return r=e,i},i},as.set=function(e){var t=new E;if(e)for(var n=0,r=e.length;r>n;++n)t.add(e[n]);return t},f(E,{has:v,add:function(e){return this._[m(e+="")]=!0,e},remove:y,values:b,size:_,empty:w,forEach:function(e){for(var t in this._)e.call(this,g(t))}}),as.behavior={},as.rebind=function(e,t){for(var n,r=1,i=arguments.length;++r<i;)e[n=arguments[r]]=N(e,t,t[n]);return e};var Es=["webkit","ms","moz","Moz","o","O"];as.dispatch=function(){for(var e=new S,t=-1,n=arguments.length;++t<n;)e[arguments[t]]=T(e);return e},S.prototype.on=function(e,t){var n=e.indexOf("."),r="";if(n>=0&&(r=e.slice(n+1),e=e.slice(0,n)),e)return arguments.length<2?this[e].on(r):this[e].on(r,t);if(2===arguments.length){if(null==t)for(e in this)this.hasOwnProperty(e)&&this[e].on(r,null);return this}},as.event=null,as.requote=function(e){return e.replace(xs,"\\$&")};var xs=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,Ns={}.__proto__?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)e[n]=t[n]},Cs=function(e,t){return t.querySelector(e)},Ms=function(e,t){return t.querySelectorAll(e)},Ss=function(e,t){var n=e.matches||e[C(e,"matchesSelector")];return(Ss=function(e,t){return n.call(e,t)})(e,t)};"function"==typeof Sizzle&&(Cs=function(e,t){return Sizzle(e,t)[0]||null},Ms=Sizzle,Ss=Sizzle.matchesSelector),as.selection=function(){return as.select(cs.documentElement)};var Ts=as.selection.prototype=[];Ts.select=function(e){var t,n,r,i,o=[];e=A(e);for(var s=-1,a=this.length;++s<a;){o.push(t=[]),t.parentNode=(r=this[s]).parentNode;for(var u=-1,l=r.length;++u<l;)(i=r[u])?(t.push(n=e.call(i,i.__data__,u,s)),n&&"__data__"in i&&(n.__data__=i.__data__)):t.push(null)}return O(o)},Ts.selectAll=function(e){var t,n,r=[];e=j(e);for(var i=-1,o=this.length;++i<o;)for(var s=this[i],a=-1,u=s.length;++a<u;)(n=s[a])&&(r.push(t=ls(e.call(n,n.__data__,a,i))),t.parentNode=n);return O(r)};var Ds={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};as.ns={prefix:Ds,qualify:function(e){var t=e.indexOf(":"),n=e;return t>=0&&(n=e.slice(0,t),e=e.slice(t+1)),Ds.hasOwnProperty(n)?{space:Ds[n],local:e}:e}},Ts.attr=function(e,t){if(arguments.length<2){if("string"==typeof e){var n=this.node();return e=as.ns.qualify(e),e.local?n.getAttributeNS(e.space,e.local):n.getAttribute(e)}for(t in e)this.each(R(t,e[t]));return this}return this.each(R(e,t))},Ts.classed=function(e,t){if(arguments.length<2){if("string"==typeof e){var n=this.node(),r=(e=V(e)).length,i=-1;if(t=n.classList){for(;++i<r;)if(!t.contains(e[i]))return!1}else for(t=n.getAttribute("class");++i<r;)if(!L(e[i]).test(t))return!1;return!0}for(t in e)this.each(U(t,e[t]));return this}return this.each(U(e,t))},Ts.style=function(e,t,n){var r=arguments.length;if(3>r){if("string"!=typeof e){2>r&&(t="");for(n in e)this.each(B(n,e[n],t));return this}if(2>r){var i=this.node();return s(i).getComputedStyle(i,null).getPropertyValue(e)}n=""}return this.each(B(e,t,n))},Ts.property=function(e,t){if(arguments.length<2){if("string"==typeof e)return this.node()[e];for(t in e)this.each(z(t,e[t]));return this}return this.each(z(e,t))},Ts.text=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}:null==e?function(){this.textContent=""}:function(){this.textContent=e}):this.node().textContent},Ts.html=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}:null==e?function(){this.innerHTML=""}:function(){this.innerHTML=e}):this.node().innerHTML},Ts.append=function(e){return e=H(e),this.select(function(){return this.appendChild(e.apply(this,arguments))})},Ts.insert=function(e,t){return e=H(e),t=A(t),this.select(function(){return this.insertBefore(e.apply(this,arguments),t.apply(this,arguments)||null)})},Ts.remove=function(){return this.each(W)},Ts.data=function(e,t){function n(e,n){var r,i,o,s=e.length,c=n.length,p=Math.min(s,c),h=new Array(c),f=new Array(c),m=new Array(s);if(t){var g,v=new d,y=new Array(s);for(r=-1;++r<s;)v.has(g=t.call(i=e[r],i.__data__,r))?m[r]=i:v.set(g,i),y[r]=g;for(r=-1;++r<c;)(i=v.get(g=t.call(n,o=n[r],r)))?i!==!0&&(h[r]=i,i.__data__=o):f[r]=$(o),v.set(g,!0);for(r=-1;++r<s;)v.get(y[r])!==!0&&(m[r]=e[r])}else{for(r=-1;++r<p;)i=e[r],o=n[r],i?(i.__data__=o,h[r]=i):f[r]=$(o);for(;c>r;++r)f[r]=$(n[r]);for(;s>r;++r)m[r]=e[r]}f.update=h,f.parentNode=h.parentNode=m.parentNode=e.parentNode,a.push(f),u.push(h),l.push(m)}var r,i,o=-1,s=this.length;if(!arguments.length){for(e=new Array(s=(r=this[0]).length);++o<s;)(i=r[o])&&(e[o]=i.__data__);return e}var a=Y([]),u=O([]),l=O([]);if("function"==typeof e)for(;++o<s;)n(r=this[o],e.call(r,r.parentNode.__data__,o));else for(;++o<s;)n(r=this[o],e);return u.enter=function(){return a},u.exit=function(){return l},u},Ts.datum=function(e){return arguments.length?this.property("__data__",e):this.property("__data__")},Ts.filter=function(e){var t,n,r,i=[];"function"!=typeof e&&(e=q(e));for(var o=0,s=this.length;s>o;o++){i.push(t=[]),t.parentNode=(n=this[o]).parentNode;for(var a=0,u=n.length;u>a;a++)(r=n[a])&&e.call(r,r.__data__,a,o)&&t.push(r)}return O(i)},Ts.order=function(){for(var e=-1,t=this.length;++e<t;)for(var n,r=this[e],i=r.length-1,o=r[i];--i>=0;)(n=r[i])&&(o&&o!==n.nextSibling&&o.parentNode.insertBefore(n,o),o=n);return this},Ts.sort=function(e){e=K.apply(this,arguments);for(var t=-1,n=this.length;++t<n;)this[t].sort(e);return this.order()},Ts.each=function(e){return G(this,function(t,n,r){e.call(t,t.__data__,n,r)})},Ts.call=function(e){var t=ls(arguments);return e.apply(t[0]=this,t),this},Ts.empty=function(){return!this.node()},Ts.node=function(){for(var e=0,t=this.length;t>e;e++)for(var n=this[e],r=0,i=n.length;i>r;r++){var o=n[r];if(o)return o}return null},Ts.size=function(){var e=0;return G(this,function(){++e}),e};var Ps=[];as.selection.enter=Y,as.selection.enter.prototype=Ps,Ps.append=Ts.append,Ps.empty=Ts.empty,Ps.node=Ts.node,Ps.call=Ts.call,Ps.size=Ts.size,Ps.select=function(e){for(var t,n,r,i,o,s=[],a=-1,u=this.length;++a<u;){r=(i=this[a]).update,s.push(t=[]),t.parentNode=i.parentNode;for(var l=-1,c=i.length;++l<c;)(o=i[l])?(t.push(r[l]=n=e.call(i.parentNode,o.__data__,l,a)),n.__data__=o.__data__):t.push(null)}return O(s)},Ps.insert=function(e,t){return arguments.length<2&&(t=X(this)),Ts.insert.call(this,e,t)},as.select=function(e){var t;return"string"==typeof e?(t=[Cs(e,cs)],t.parentNode=cs.documentElement):(t=[e],t.parentNode=o(e)),O([t])},as.selectAll=function(e){var t;return"string"==typeof e?(t=ls(Ms(e,cs)),t.parentNode=cs.documentElement):(t=e,t.parentNode=null),O([t])},Ts.on=function(e,t,n){var r=arguments.length;if(3>r){if("string"!=typeof e){2>r&&(t=!1);for(n in e)this.each(J(n,e[n],t));return this}if(2>r)return(r=this.node()["__on"+e])&&r._;n=!1}return this.each(J(e,t,n))};var ks=as.map({mouseenter:"mouseover",mouseleave:"mouseout"});cs&&ks.forEach(function(e){"on"+e in cs&&ks.remove(e)});var Os,As=0;as.mouse=function(e){return te(e,P())};var js=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;as.touch=function(e,t,n){if(arguments.length<3&&(n=t,t=P().changedTouches),t)for(var r,i=0,o=t.length;o>i;++i)if((r=t[i]).identifier===n)return te(e,r)},as.behavior.drag=function(){function e(){this.on("mousedown.drag",i).on("touchstart.drag",o)}function t(e,t,i,o,s){return function(){function a(){var e,n,r=t(h,m);r&&(e=r[0]-b[0],n=r[1]-b[1],d|=e|n,b=r,f({type:"drag",x:r[0]+l[0],y:r[1]+l[1],dx:e,dy:n}))}function u(){t(h,m)&&(v.on(o+g,null).on(s+g,null),y(d&&as.event.target===p),f({type:"dragend"}))}var l,c=this,p=as.event.target,h=c.parentNode,f=n.of(c,arguments),d=0,m=e(),g=".drag"+(null==m?"":"-"+m),v=as.select(i(p)).on(o+g,a).on(s+g,u),y=ee(p),b=t(h,m);r?(l=r.apply(c,arguments),l=[l.x-b[0],l.y-b[1]]):l=[0,0],f({type:"dragstart"})}}var n=k(e,"drag","dragstart","dragend"),r=null,i=t(M,as.mouse,s,"mousemove","mouseup"),o=t(ne,as.touch,x,"touchmove","touchend");return e.origin=function(t){return arguments.length?(r=t,e):r},as.rebind(e,n,"on")},as.touches=function(e,t){return arguments.length<2&&(t=P().touches),t?ls(t).map(function(t){var n=te(e,t);return n.identifier=t.identifier,n}):[]};var Rs=1e-6,Is=Rs*Rs,Ls=Math.PI,Vs=2*Ls,Us=Vs-Rs,Fs=Ls/2,Bs=Ls/180,zs=180/Ls,Hs=Math.SQRT2,Ws=2,$s=4;as.interpolateZoom=function(e,t){function n(e){var t=e*y;if(v){var n=ue(m),s=o/(Ws*h)*(n*le(Hs*t+m)-ae(m));return[r+s*l,i+s*c,o*n/ue(Hs*t+m)]}return[r+e*l,i+e*c,o*Math.exp(Hs*t)]}var r=e[0],i=e[1],o=e[2],s=t[0],a=t[1],u=t[2],l=s-r,c=a-i,p=l*l+c*c,h=Math.sqrt(p),f=(u*u-o*o+$s*p)/(2*o*Ws*h),d=(u*u-o*o-$s*p)/(2*u*Ws*h),m=Math.log(Math.sqrt(f*f+1)-f),g=Math.log(Math.sqrt(d*d+1)-d),v=g-m,y=(v||Math.log(u/o))/Hs;return n.duration=1e3*y,n},as.behavior.zoom=function(){function e(e){e.on(P,p).on(Ks+".zoom",f).on("dblclick.zoom",d).on(j,h)}function t(e){return[(e[0]-N.x)/N.k,(e[1]-N.y)/N.k]}function n(e){return[e[0]*N.k+N.x,e[1]*N.k+N.y]}function r(e){N.k=Math.max(M[0],Math.min(M[1],e))}function i(e,t){t=n(t),N.x+=e[0]-t[0],N.y+=e[1]-t[1]}function o(t,n,o,s){t.__chart__={x:N.x,y:N.y,k:N.k},r(Math.pow(2,s)),i(g=n,o),t=as.select(t),S>0&&(t=t.transition().duration(S)),t.call(e.event)}function a(){w&&w.domain(_.range().map(function(e){return(e-N.x)/N.k}).map(_.invert)),x&&x.domain(E.range().map(function(e){return(e-N.y)/N.k}).map(E.invert))}function u(e){T++||e({type:"zoomstart"})}function l(e){a(),e({type:"zoom",scale:N.k,translate:[N.x,N.y]})}function c(e){--T||(e({type:"zoomend"}),g=null)}function p(){function e(){p=1,i(as.mouse(r),f),l(a)}function n(){h.on(O,null).on(A,null),d(p&&as.event.target===o),c(a)}var r=this,o=as.event.target,a=R.of(r,arguments),p=0,h=as.select(s(r)).on(O,e).on(A,n),f=t(as.mouse(r)),d=ee(r);Bu.call(r),u(a)}function h(){function e(){var e=as.touches(d);return f=N.k,e.forEach(function(e){e.identifier in g&&(g[e.identifier]=t(e))}),e}function n(){var t=as.event.target;as.select(t).on(_,s).on(w,a),E.push(t);for(var n=as.event.changedTouches,r=0,i=n.length;i>r;++r)g[n[r].identifier]=null;var u=e(),l=Date.now();if(1===u.length){if(500>l-b){var c=u[0];o(d,c,g[c.identifier],Math.floor(Math.log(N.k)/Math.LN2)+1),D()}b=l}else if(u.length>1){var c=u[0],p=u[1],h=c[0]-p[0],f=c[1]-p[1];v=h*h+f*f}}function s(){var e,t,n,o,s=as.touches(d);Bu.call(d);for(var a=0,u=s.length;u>a;++a,o=null)if(n=s[a],o=g[n.identifier]){if(t)break;e=n,t=o}if(o){var c=(c=n[0]-e[0])*c+(c=n[1]-e[1])*c,p=v&&Math.sqrt(c/v);e=[(e[0]+n[0])/2,(e[1]+n[1])/2],t=[(t[0]+o[0])/2,(t[1]+o[1])/2],r(p*f)}b=null,i(e,t),l(m)}function a(){if(as.event.touches.length){for(var t=as.event.changedTouches,n=0,r=t.length;r>n;++n)delete g[t[n].identifier];for(var i in g)return void e()}as.selectAll(E).on(y,null),x.on(P,p).on(j,h),C(),c(m)}var f,d=this,m=R.of(d,arguments),g={},v=0,y=".zoom-"+as.event.changedTouches[0].identifier,_="touchmove"+y,w="touchend"+y,E=[],x=as.select(d),C=ee(d);n(),u(m),x.on(P,null).on(j,n)}function f(){var e=R.of(this,arguments);y?clearTimeout(y):(Bu.call(this),m=t(g=v||as.mouse(this)),u(e)),y=setTimeout(function(){y=null,c(e)},50),D(),r(Math.pow(2,.002*qs())*N.k),i(g,m),l(e)}function d(){var e=as.mouse(this),n=Math.log(N.k)/Math.LN2;o(this,e,t(e),as.event.shiftKey?Math.ceil(n)-1:Math.floor(n)+1)}var m,g,v,y,b,_,w,E,x,N={x:0,y:0,k:1},C=[960,500],M=Gs,S=250,T=0,P="mousedown.zoom",O="mousemove.zoom",A="mouseup.zoom",j="touchstart.zoom",R=k(e,"zoomstart","zoom","zoomend");return Ks||(Ks="onwheel"in cs?(qs=function(){return-as.event.deltaY*(as.event.deltaMode?120:1)},"wheel"):"onmousewheel"in cs?(qs=function(){return as.event.wheelDelta},"mousewheel"):(qs=function(){return-as.event.detail},"MozMousePixelScroll")),e.event=function(e){e.each(function(){var e=R.of(this,arguments),t=N;Uu?as.select(this).transition().each("start.zoom",function(){N=this.__chart__||{x:0,y:0,k:1},u(e)}).tween("zoom:zoom",function(){var n=C[0],r=C[1],i=g?g[0]:n/2,o=g?g[1]:r/2,s=as.interpolateZoom([(i-N.x)/N.k,(o-N.y)/N.k,n/N.k],[(i-t.x)/t.k,(o-t.y)/t.k,n/t.k]);return function(t){var r=s(t),a=n/r[2];this.__chart__=N={x:i-r[0]*a,y:o-r[1]*a,k:a},l(e)}}).each("interrupt.zoom",function(){c(e)}).each("end.zoom",function(){c(e)}):(this.__chart__=N,u(e),l(e),c(e))})},e.translate=function(t){return arguments.length?(N={x:+t[0],y:+t[1],k:N.k},a(),e):[N.x,N.y]},e.scale=function(t){return arguments.length?(N={x:N.x,y:N.y,k:+t},a(),e):N.k},e.scaleExtent=function(t){return arguments.length?(M=null==t?Gs:[+t[0],+t[1]],e):M},e.center=function(t){return arguments.length?(v=t&&[+t[0],+t[1]],e):v},e.size=function(t){return arguments.length?(C=t&&[+t[0],+t[1]],e):C},e.duration=function(t){return arguments.length?(S=+t,e):S},e.x=function(t){return arguments.length?(w=t,_=t.copy(),N={x:0,y:0,k:1},e):w},e.y=function(t){return arguments.length?(x=t,E=t.copy(),N={x:0,y:0,k:1},e):x},as.rebind(e,R,"on")};var qs,Ks,Gs=[0,1/0];as.color=pe,pe.prototype.toString=function(){return this.rgb()+""},as.hsl=he;var Ys=he.prototype=new pe;Ys.brighter=function(e){return e=Math.pow(.7,arguments.length?e:1),new he(this.h,this.s,this.l/e)},Ys.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),new he(this.h,this.s,e*this.l)},Ys.rgb=function(){return fe(this.h,this.s,this.l)},as.hcl=de;var Xs=de.prototype=new pe;Xs.brighter=function(e){return new de(this.h,this.c,Math.min(100,this.l+Js*(arguments.length?e:1)))},Xs.darker=function(e){return new de(this.h,this.c,Math.max(0,this.l-Js*(arguments.length?e:1)))},Xs.rgb=function(){return me(this.h,this.c,this.l).rgb()},as.lab=ge;var Js=18,Qs=.95047,Zs=1,ea=1.08883,ta=ge.prototype=new pe;ta.brighter=function(e){return new ge(Math.min(100,this.l+Js*(arguments.length?e:1)),this.a,this.b)},ta.darker=function(e){return new ge(Math.max(0,this.l-Js*(arguments.length?e:1)),this.a,this.b)},ta.rgb=function(){return ve(this.l,this.a,this.b)},as.rgb=Ee;var na=Ee.prototype=new pe;na.brighter=function(e){e=Math.pow(.7,arguments.length?e:1);var t=this.r,n=this.g,r=this.b,i=30;return t||n||r?(t&&i>t&&(t=i),n&&i>n&&(n=i),r&&i>r&&(r=i),new Ee(Math.min(255,t/e),Math.min(255,n/e),Math.min(255,r/e))):new Ee(i,i,i)},na.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),new Ee(e*this.r,e*this.g,e*this.b)},na.hsl=function(){return Se(this.r,this.g,this.b)},na.toString=function(){return"#"+Ce(this.r)+Ce(this.g)+Ce(this.b)};var ra=as.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});ra.forEach(function(e,t){ra.set(e,xe(t))}),as.functor=ke,as.xhr=Oe(x),as.dsv=function(e,t){function n(e,n,o){arguments.length<3&&(o=n,n=null);var s=Ae(e,t,null==n?r:i(n),o);return s.row=function(e){return arguments.length?s.response(null==(n=e)?r:i(e)):n},s}function r(e){return n.parse(e.responseText)}function i(e){return function(t){return n.parse(t.responseText,e)}}function o(t){return t.map(s).join(e)}function s(e){return a.test(e)?'"'+e.replace(/\"/g,'""')+'"':e}var a=new RegExp('["'+e+"\n]"),u=e.charCodeAt(0);return n.parse=function(e,t){var r;return n.parseRows(e,function(e,n){if(r)return r(e,n-1);var i=new Function("d","return {"+e.map(function(e,t){return JSON.stringify(e)+": d["+t+"]"}).join(",")+"}");r=t?function(e,n){return t(i(e),n)}:i})},n.parseRows=function(e,t){function n(){if(c>=l)return s;if(i)return i=!1,o;var t=c;if(34===e.charCodeAt(t)){for(var n=t;n++<l;)if(34===e.charCodeAt(n)){if(34!==e.charCodeAt(n+1))break;++n}c=n+2;var r=e.charCodeAt(n+1);return 13===r?(i=!0,10===e.charCodeAt(n+2)&&++c):10===r&&(i=!0),e.slice(t+1,n).replace(/""/g,'"')}for(;l>c;){var r=e.charCodeAt(c++),a=1;if(10===r)i=!0;else if(13===r)i=!0,10===e.charCodeAt(c)&&(++c,++a);else if(r!==u)continue;return e.slice(t,c-a)}return e.slice(t)}for(var r,i,o={},s={},a=[],l=e.length,c=0,p=0;(r=n())!==s;){for(var h=[];r!==o&&r!==s;)h.push(r),r=n();t&&null==(h=t(h,p++))||a.push(h)}return a},n.format=function(t){if(Array.isArray(t[0]))return n.formatRows(t);var r=new E,i=[];return t.forEach(function(e){for(var t in e)r.has(t)||i.push(r.add(t));
}),[i.map(s).join(e)].concat(t.map(function(t){return i.map(function(e){return s(t[e])}).join(e)})).join("\n")},n.formatRows=function(e){return e.map(o).join("\n")},n},as.csv=as.dsv(",","text/csv"),as.tsv=as.dsv("	","text/tab-separated-values");var ia,oa,sa,aa,ua,la=this[C(this,"requestAnimationFrame")]||function(e){setTimeout(e,17)};as.timer=function(e,t,n){var r=arguments.length;2>r&&(t=0),3>r&&(n=Date.now());var i=n+t,o={c:e,t:i,f:!1,n:null};oa?oa.n=o:ia=o,oa=o,sa||(aa=clearTimeout(aa),sa=1,la(Ie))},as.timer.flush=function(){Le(),Ve()},as.round=function(e,t){return t?Math.round(e*(t=Math.pow(10,t)))/t:Math.round(e)};var ca=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"].map(Fe);as.formatPrefix=function(e,t){var n=0;return e&&(0>e&&(e*=-1),t&&(e=as.round(e,Ue(e,t))),n=1+Math.floor(1e-12+Math.log(e)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),ca[8+n/3]};var pa=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,ha=as.map({b:function(e){return e.toString(2)},c:function(e){return String.fromCharCode(e)},o:function(e){return e.toString(8)},x:function(e){return e.toString(16)},X:function(e){return e.toString(16).toUpperCase()},g:function(e,t){return e.toPrecision(t)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},r:function(e,t){return(e=as.round(e,Ue(e,t))).toFixed(Math.max(0,Math.min(20,Ue(e*(1+1e-15),t))))}}),fa=as.time={},da=Date;He.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){ma.setUTCDate.apply(this._,arguments)},setDay:function(){ma.setUTCDay.apply(this._,arguments)},setFullYear:function(){ma.setUTCFullYear.apply(this._,arguments)},setHours:function(){ma.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){ma.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){ma.setUTCMinutes.apply(this._,arguments)},setMonth:function(){ma.setUTCMonth.apply(this._,arguments)},setSeconds:function(){ma.setUTCSeconds.apply(this._,arguments)},setTime:function(){ma.setTime.apply(this._,arguments)}};var ma=Date.prototype;fa.year=We(function(e){return e=fa.day(e),e.setMonth(0,1),e},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e){return e.getFullYear()}),fa.years=fa.year.range,fa.years.utc=fa.year.utc.range,fa.day=We(function(e){var t=new da(2e3,0);return t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t},function(e,t){e.setDate(e.getDate()+t)},function(e){return e.getDate()-1}),fa.days=fa.day.range,fa.days.utc=fa.day.utc.range,fa.dayOfYear=function(e){var t=fa.year(e);return Math.floor((e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(e,t){t=7-t;var n=fa[e]=We(function(e){return(e=fa.day(e)).setDate(e.getDate()-(e.getDay()+t)%7),e},function(e,t){e.setDate(e.getDate()+7*Math.floor(t))},function(e){var n=fa.year(e).getDay();return Math.floor((fa.dayOfYear(e)+(n+t)%7)/7)-(n!==t)});fa[e+"s"]=n.range,fa[e+"s"].utc=n.utc.range,fa[e+"OfYear"]=function(e){var n=fa.year(e).getDay();return Math.floor((fa.dayOfYear(e)+(n+t)%7)/7)}}),fa.week=fa.sunday,fa.weeks=fa.sunday.range,fa.weeks.utc=fa.sunday.utc.range,fa.weekOfYear=fa.sundayOfYear;var ga={"-":"",_:" ",0:"0"},va=/^\s*\d+/,ya=/^%/;as.locale=function(e){return{numberFormat:Be(e),timeFormat:qe(e)}};var ba=as.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});as.format=ba.numberFormat,as.geo={},ft.prototype={s:0,t:0,add:function(e){dt(e,this.t,_a),dt(_a.s,this.s,this),this.s?this.t+=_a.t:this.s=_a.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var _a=new ft;as.geo.stream=function(e,t){e&&wa.hasOwnProperty(e.type)?wa[e.type](e,t):mt(e,t)};var wa={Feature:function(e,t){mt(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)mt(n[r].geometry,t)}},Ea={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){gt(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)gt(n[r],t,0)},Polygon:function(e,t){vt(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)vt(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)mt(n[r],t)}};as.geo.area=function(e){return xa=0,as.geo.stream(e,Ca),xa};var xa,Na=new ft,Ca={sphere:function(){xa+=4*Ls},point:M,lineStart:M,lineEnd:M,polygonStart:function(){Na.reset(),Ca.lineStart=yt},polygonEnd:function(){var e=2*Na;xa+=0>e?4*Ls+e:e,Ca.lineStart=Ca.lineEnd=Ca.point=M}};as.geo.bounds=function(){function e(e,t){b.push(_=[c=e,h=e]),p>t&&(p=t),t>f&&(f=t)}function t(t,n){var r=bt([t*Bs,n*Bs]);if(v){var i=wt(v,r),o=[i[1],-i[0],0],s=wt(o,i);Nt(s),s=Ct(s);var u=t-d,l=u>0?1:-1,m=s[0]*zs*l,g=bs(u)>180;if(g^(m>l*d&&l*t>m)){var y=s[1]*zs;y>f&&(f=y)}else if(m=(m+360)%360-180,g^(m>l*d&&l*t>m)){var y=-s[1]*zs;p>y&&(p=y)}else p>n&&(p=n),n>f&&(f=n);g?d>t?a(c,t)>a(c,h)&&(h=t):a(t,h)>a(c,h)&&(c=t):h>=c?(c>t&&(c=t),t>h&&(h=t)):t>d?a(c,t)>a(c,h)&&(h=t):a(t,h)>a(c,h)&&(c=t)}else e(t,n);v=r,d=t}function n(){w.point=t}function r(){_[0]=c,_[1]=h,w.point=e,v=null}function i(e,n){if(v){var r=e-d;y+=bs(r)>180?r+(r>0?360:-360):r}else m=e,g=n;Ca.point(e,n),t(e,n)}function o(){Ca.lineStart()}function s(){i(m,g),Ca.lineEnd(),bs(y)>Rs&&(c=-(h=180)),_[0]=c,_[1]=h,v=null}function a(e,t){return(t-=e)<0?t+360:t}function u(e,t){return e[0]-t[0]}function l(e,t){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}var c,p,h,f,d,m,g,v,y,b,_,w={point:e,lineStart:n,lineEnd:r,polygonStart:function(){w.point=i,w.lineStart=o,w.lineEnd=s,y=0,Ca.polygonStart()},polygonEnd:function(){Ca.polygonEnd(),w.point=e,w.lineStart=n,w.lineEnd=r,0>Na?(c=-(h=180),p=-(f=90)):y>Rs?f=90:-Rs>y&&(p=-90),_[0]=c,_[1]=h}};return function(e){f=h=-(c=p=1/0),b=[],as.geo.stream(e,w);var t=b.length;if(t){b.sort(u);for(var n,r=1,i=b[0],o=[i];t>r;++r)n=b[r],l(n[0],i)||l(n[1],i)?(a(i[0],n[1])>a(i[0],i[1])&&(i[1]=n[1]),a(n[0],i[1])>a(i[0],i[1])&&(i[0]=n[0])):o.push(i=n);for(var s,n,d=-(1/0),t=o.length-1,r=0,i=o[t];t>=r;i=n,++r)n=o[r],(s=a(i[1],n[0]))>d&&(d=s,c=n[0],h=i[1])}return b=_=null,c===1/0||p===1/0?[[NaN,NaN],[NaN,NaN]]:[[c,p],[h,f]]}}(),as.geo.centroid=function(e){Ma=Sa=Ta=Da=Pa=ka=Oa=Aa=ja=Ra=Ia=0,as.geo.stream(e,La);var t=ja,n=Ra,r=Ia,i=t*t+n*n+r*r;return Is>i&&(t=ka,n=Oa,r=Aa,Rs>Sa&&(t=Ta,n=Da,r=Pa),i=t*t+n*n+r*r,Is>i)?[NaN,NaN]:[Math.atan2(n,t)*zs,se(r/Math.sqrt(i))*zs]};var Ma,Sa,Ta,Da,Pa,ka,Oa,Aa,ja,Ra,Ia,La={sphere:M,point:St,lineStart:Dt,lineEnd:Pt,polygonStart:function(){La.lineStart=kt},polygonEnd:function(){La.lineStart=Dt}},Va=Lt(At,Bt,Ht,[-Ls,-Ls/2]),Ua=1e9;as.geo.clipExtent=function(){var e,t,n,r,i,o,s={stream:function(e){return i&&(i.valid=!1),i=o(e),i.valid=!0,i},extent:function(a){return arguments.length?(o=Kt(e=+a[0][0],t=+a[0][1],n=+a[1][0],r=+a[1][1]),i&&(i.valid=!1,i=null),s):[[e,t],[n,r]]}};return s.extent([[0,0],[960,500]])},(as.geo.conicEqualArea=function(){return Gt(Yt)}).raw=Yt,as.geo.albers=function(){return as.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},as.geo.albersUsa=function(){function e(e){var o=e[0],s=e[1];return t=null,n(o,s),t||(r(o,s),t)||i(o,s),t}var t,n,r,i,o=as.geo.albers(),s=as.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a=as.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),u={point:function(e,n){t=[e,n]}};return e.invert=function(e){var t=o.scale(),n=o.translate(),r=(e[0]-n[0])/t,i=(e[1]-n[1])/t;return(i>=.12&&.234>i&&r>=-.425&&-.214>r?s:i>=.166&&.234>i&&r>=-.214&&-.115>r?a:o).invert(e)},e.stream=function(e){var t=o.stream(e),n=s.stream(e),r=a.stream(e);return{point:function(e,i){t.point(e,i),n.point(e,i),r.point(e,i)},sphere:function(){t.sphere(),n.sphere(),r.sphere()},lineStart:function(){t.lineStart(),n.lineStart(),r.lineStart()},lineEnd:function(){t.lineEnd(),n.lineEnd(),r.lineEnd()},polygonStart:function(){t.polygonStart(),n.polygonStart(),r.polygonStart()},polygonEnd:function(){t.polygonEnd(),n.polygonEnd(),r.polygonEnd()}}},e.precision=function(t){return arguments.length?(o.precision(t),s.precision(t),a.precision(t),e):o.precision()},e.scale=function(t){return arguments.length?(o.scale(t),s.scale(.35*t),a.scale(t),e.translate(o.translate())):o.scale()},e.translate=function(t){if(!arguments.length)return o.translate();var l=o.scale(),c=+t[0],p=+t[1];return n=o.translate(t).clipExtent([[c-.455*l,p-.238*l],[c+.455*l,p+.238*l]]).stream(u).point,r=s.translate([c-.307*l,p+.201*l]).clipExtent([[c-.425*l+Rs,p+.12*l+Rs],[c-.214*l-Rs,p+.234*l-Rs]]).stream(u).point,i=a.translate([c-.205*l,p+.212*l]).clipExtent([[c-.214*l+Rs,p+.166*l+Rs],[c-.115*l-Rs,p+.234*l-Rs]]).stream(u).point,e},e.scale(1070)};var Fa,Ba,za,Ha,Wa,$a,qa={point:M,lineStart:M,lineEnd:M,polygonStart:function(){Ba=0,qa.lineStart=Xt},polygonEnd:function(){qa.lineStart=qa.lineEnd=qa.point=M,Fa+=bs(Ba/2)}},Ka={point:Jt,lineStart:M,lineEnd:M,polygonStart:M,polygonEnd:M},Ga={point:en,lineStart:tn,lineEnd:nn,polygonStart:function(){Ga.lineStart=rn},polygonEnd:function(){Ga.point=en,Ga.lineStart=tn,Ga.lineEnd=nn}};as.geo.path=function(){function e(e){return e&&("function"==typeof a&&o.pointRadius(+a.apply(this,arguments)),s&&s.valid||(s=i(o)),as.geo.stream(e,s)),o.result()}function t(){return s=null,e}var n,r,i,o,s,a=4.5;return e.area=function(e){return Fa=0,as.geo.stream(e,i(qa)),Fa},e.centroid=function(e){return Ta=Da=Pa=ka=Oa=Aa=ja=Ra=Ia=0,as.geo.stream(e,i(Ga)),Ia?[ja/Ia,Ra/Ia]:Aa?[ka/Aa,Oa/Aa]:Pa?[Ta/Pa,Da/Pa]:[NaN,NaN]},e.bounds=function(e){return Wa=$a=-(za=Ha=1/0),as.geo.stream(e,i(Ka)),[[za,Ha],[Wa,$a]]},e.projection=function(e){return arguments.length?(i=(n=e)?e.stream||an(e):x,t()):n},e.context=function(e){return arguments.length?(o=null==(r=e)?new Qt:new on(e),"function"!=typeof a&&o.pointRadius(a),t()):r},e.pointRadius=function(t){return arguments.length?(a="function"==typeof t?t:(o.pointRadius(+t),+t),e):a},e.projection(as.geo.albersUsa()).context(null)},as.geo.transform=function(e){return{stream:function(t){var n=new un(t);for(var r in e)n[r]=e[r];return n}}},un.prototype={point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},as.geo.projection=cn,as.geo.projectionMutator=pn,(as.geo.equirectangular=function(){return cn(fn)}).raw=fn.invert=fn,as.geo.rotation=function(e){function t(t){return t=e(t[0]*Bs,t[1]*Bs),t[0]*=zs,t[1]*=zs,t}return e=mn(e[0]%360*Bs,e[1]*Bs,e.length>2?e[2]*Bs:0),t.invert=function(t){return t=e.invert(t[0]*Bs,t[1]*Bs),t[0]*=zs,t[1]*=zs,t},t},dn.invert=fn,as.geo.circle=function(){function e(){var e="function"==typeof r?r.apply(this,arguments):r,t=mn(-e[0]*Bs,-e[1]*Bs,0).invert,i=[];return n(null,null,1,{point:function(e,n){i.push(e=t(e,n)),e[0]*=zs,e[1]*=zs}}),{type:"Polygon",coordinates:[i]}}var t,n,r=[0,0],i=6;return e.origin=function(t){return arguments.length?(r=t,e):r},e.angle=function(r){return arguments.length?(n=bn((t=+r)*Bs,i*Bs),e):t},e.precision=function(r){return arguments.length?(n=bn(t*Bs,(i=+r)*Bs),e):i},e.angle(90)},as.geo.distance=function(e,t){var n,r=(t[0]-e[0])*Bs,i=e[1]*Bs,o=t[1]*Bs,s=Math.sin(r),a=Math.cos(r),u=Math.sin(i),l=Math.cos(i),c=Math.sin(o),p=Math.cos(o);return Math.atan2(Math.sqrt((n=p*s)*n+(n=l*c-u*p*a)*n),u*c+l*p*a)},as.geo.graticule=function(){function e(){return{type:"MultiLineString",coordinates:t()}}function t(){return as.range(Math.ceil(o/g)*g,i,g).map(h).concat(as.range(Math.ceil(l/v)*v,u,v).map(f)).concat(as.range(Math.ceil(r/d)*d,n,d).filter(function(e){return bs(e%g)>Rs}).map(c)).concat(as.range(Math.ceil(a/m)*m,s,m).filter(function(e){return bs(e%v)>Rs}).map(p))}var n,r,i,o,s,a,u,l,c,p,h,f,d=10,m=d,g=90,v=360,y=2.5;return e.lines=function(){return t().map(function(e){return{type:"LineString",coordinates:e}})},e.outline=function(){return{type:"Polygon",coordinates:[h(o).concat(f(u).slice(1),h(i).reverse().slice(1),f(l).reverse().slice(1))]}},e.extent=function(t){return arguments.length?e.majorExtent(t).minorExtent(t):e.minorExtent()},e.majorExtent=function(t){return arguments.length?(o=+t[0][0],i=+t[1][0],l=+t[0][1],u=+t[1][1],o>i&&(t=o,o=i,i=t),l>u&&(t=l,l=u,u=t),e.precision(y)):[[o,l],[i,u]]},e.minorExtent=function(t){return arguments.length?(r=+t[0][0],n=+t[1][0],a=+t[0][1],s=+t[1][1],r>n&&(t=r,r=n,n=t),a>s&&(t=a,a=s,s=t),e.precision(y)):[[r,a],[n,s]]},e.step=function(t){return arguments.length?e.majorStep(t).minorStep(t):e.minorStep()},e.majorStep=function(t){return arguments.length?(g=+t[0],v=+t[1],e):[g,v]},e.minorStep=function(t){return arguments.length?(d=+t[0],m=+t[1],e):[d,m]},e.precision=function(t){return arguments.length?(y=+t,c=wn(a,s,90),p=En(r,n,y),h=wn(l,u,90),f=En(o,i,y),e):y},e.majorExtent([[-180,-90+Rs],[180,90-Rs]]).minorExtent([[-180,-80-Rs],[180,80+Rs]])},as.geo.greatArc=function(){function e(){return{type:"LineString",coordinates:[t||r.apply(this,arguments),n||i.apply(this,arguments)]}}var t,n,r=xn,i=Nn;return e.distance=function(){return as.geo.distance(t||r.apply(this,arguments),n||i.apply(this,arguments))},e.source=function(n){return arguments.length?(r=n,t="function"==typeof n?null:n,e):r},e.target=function(t){return arguments.length?(i=t,n="function"==typeof t?null:t,e):i},e.precision=function(){return arguments.length?e:0},e},as.geo.interpolate=function(e,t){return Cn(e[0]*Bs,e[1]*Bs,t[0]*Bs,t[1]*Bs)},as.geo.length=function(e){return Ya=0,as.geo.stream(e,Xa),Ya};var Ya,Xa={sphere:M,point:M,lineStart:Mn,lineEnd:M,polygonStart:M,polygonEnd:M},Ja=Sn(function(e){return Math.sqrt(2/(1+e))},function(e){return 2*Math.asin(e/2)});(as.geo.azimuthalEqualArea=function(){return cn(Ja)}).raw=Ja;var Qa=Sn(function(e){var t=Math.acos(e);return t&&t/Math.sin(t)},x);(as.geo.azimuthalEquidistant=function(){return cn(Qa)}).raw=Qa,(as.geo.conicConformal=function(){return Gt(Tn)}).raw=Tn,(as.geo.conicEquidistant=function(){return Gt(Dn)}).raw=Dn;var Za=Sn(function(e){return 1/e},Math.atan);(as.geo.gnomonic=function(){return cn(Za)}).raw=Za,Pn.invert=function(e,t){return[e,2*Math.atan(Math.exp(t))-Fs]},(as.geo.mercator=function(){return kn(Pn)}).raw=Pn;var eu=Sn(function(){return 1},Math.asin);(as.geo.orthographic=function(){return cn(eu)}).raw=eu;var tu=Sn(function(e){return 1/(1+e)},function(e){return 2*Math.atan(e)});(as.geo.stereographic=function(){return cn(tu)}).raw=tu,On.invert=function(e,t){return[-t,2*Math.atan(Math.exp(e))-Fs]},(as.geo.transverseMercator=function(){var e=kn(On),t=e.center,n=e.rotate;return e.center=function(e){return e?t([-e[1],e[0]]):(e=t(),[e[1],-e[0]])},e.rotate=function(e){return e?n([e[0],e[1],e.length>2?e[2]+90:90]):(e=n(),[e[0],e[1],e[2]-90])},n([0,0,90])}).raw=On,as.geom={},as.geom.hull=function(e){function t(e){if(e.length<3)return[];var t,i=ke(n),o=ke(r),s=e.length,a=[],u=[];for(t=0;s>t;t++)a.push([+i.call(this,e[t],t),+o.call(this,e[t],t),t]);for(a.sort(In),t=0;s>t;t++)u.push([a[t][0],-a[t][1]]);var l=Rn(a),c=Rn(u),p=c[0]===l[0],h=c[c.length-1]===l[l.length-1],f=[];for(t=l.length-1;t>=0;--t)f.push(e[a[l[t]][2]]);for(t=+p;t<c.length-h;++t)f.push(e[a[c[t]][2]]);return f}var n=An,r=jn;return arguments.length?t(e):(t.x=function(e){return arguments.length?(n=e,t):n},t.y=function(e){return arguments.length?(r=e,t):r},t)},as.geom.polygon=function(e){return Ns(e,nu),e};var nu=as.geom.polygon.prototype=[];nu.area=function(){for(var e,t=-1,n=this.length,r=this[n-1],i=0;++t<n;)e=r,r=this[t],i+=e[1]*r[0]-e[0]*r[1];return.5*i},nu.centroid=function(e){var t,n,r=-1,i=this.length,o=0,s=0,a=this[i-1];for(arguments.length||(e=-1/(6*this.area()));++r<i;)t=a,a=this[r],n=t[0]*a[1]-a[0]*t[1],o+=(t[0]+a[0])*n,s+=(t[1]+a[1])*n;return[o*e,s*e]},nu.clip=function(e){for(var t,n,r,i,o,s,a=Un(e),u=-1,l=this.length-Un(this),c=this[l-1];++u<l;){for(t=e.slice(),e.length=0,i=this[u],o=t[(r=t.length-a)-1],n=-1;++n<r;)s=t[n],Ln(s,c,i)?(Ln(o,c,i)||e.push(Vn(o,s,c,i)),e.push(s)):Ln(o,c,i)&&e.push(Vn(o,s,c,i)),o=s;a&&e.push(e[0]),c=i}return e};var ru,iu,ou,su,au,uu=[],lu=[];Kn.prototype.prepare=function(){for(var e,t=this.edges,n=t.length;n--;)e=t[n].edge,e.b&&e.a||t.splice(n,1);return t.sort(Yn),t.length},or.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},sr.prototype={insert:function(e,t){var n,r,i;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){for(e=e.R;e.L;)e=e.L;e.L=t}else e.R=t;n=e}else this._?(e=cr(this._),t.P=null,t.N=e,e.P=e.L=t,n=e):(t.P=t.N=null,this._=t,n=null);for(t.L=t.R=null,t.U=n,t.C=!0,e=t;n&&n.C;)r=n.U,n===r.L?(i=r.R,i&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.R&&(ur(this,n),e=n,n=e.U),n.C=!1,r.C=!0,lr(this,r))):(i=r.L,i&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.L&&(lr(this,n),e=n,n=e.U),n.C=!1,r.C=!0,ur(this,r))),n=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t,n,r,i=e.U,o=e.L,s=e.R;if(n=o?s?cr(s):o:s,i?i.L===e?i.L=n:i.R=n:this._=n,o&&s?(r=n.C,n.C=e.C,n.L=o,o.U=n,n!==s?(i=n.U,n.U=e.U,e=n.R,i.L=e,n.R=s,s.U=n):(n.U=i,i=n,e=n.R)):(r=e.C,e=n),e&&(e.U=i),!r){if(e&&e.C)return void(e.C=!1);do{if(e===this._)break;if(e===i.L){if(t=i.R,t.C&&(t.C=!1,i.C=!0,ur(this,i),t=i.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,lr(this,t),t=i.R),t.C=i.C,i.C=t.R.C=!1,ur(this,i),e=this._;break}}else if(t=i.L,t.C&&(t.C=!1,i.C=!0,lr(this,i),t=i.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,ur(this,t),t=i.L),t.C=i.C,i.C=t.L.C=!1,lr(this,i),e=this._;break}t.C=!0,e=i,i=i.U}while(!e.C);e&&(e.C=!1)}}},as.geom.voronoi=function(e){function t(e){var t=new Array(e.length),r=a[0][0],i=a[0][1],o=a[1][0],s=a[1][1];return pr(n(e),a).cells.forEach(function(n,a){var u=n.edges,l=n.site,c=t[a]=u.length?u.map(function(e){var t=e.start();return[t.x,t.y]}):l.x>=r&&l.x<=o&&l.y>=i&&l.y<=s?[[r,s],[o,s],[o,i],[r,i]]:[];c.point=e[a]}),t}function n(e){return e.map(function(e,t){return{x:Math.round(o(e,t)/Rs)*Rs,y:Math.round(s(e,t)/Rs)*Rs,i:t}})}var r=An,i=jn,o=r,s=i,a=cu;return e?t(e):(t.links=function(e){return pr(n(e)).edges.filter(function(e){return e.l&&e.r}).map(function(t){return{source:e[t.l.i],target:e[t.r.i]}})},t.triangles=function(e){var t=[];return pr(n(e)).cells.forEach(function(n,r){for(var i,o,s=n.site,a=n.edges.sort(Yn),u=-1,l=a.length,c=a[l-1].edge,p=c.l===s?c.r:c.l;++u<l;)i=c,o=p,c=a[u].edge,p=c.l===s?c.r:c.l,r<o.i&&r<p.i&&fr(s,o,p)<0&&t.push([e[r],e[o.i],e[p.i]])}),t},t.x=function(e){return arguments.length?(o=ke(r=e),t):r},t.y=function(e){return arguments.length?(s=ke(i=e),t):i},t.clipExtent=function(e){return arguments.length?(a=null==e?cu:e,t):a===cu?null:a},t.size=function(e){return arguments.length?t.clipExtent(e&&[[0,0],e]):a===cu?null:a&&a[1]},t)};var cu=[[-1e6,-1e6],[1e6,1e6]];as.geom.delaunay=function(e){return as.geom.voronoi().triangles(e)},as.geom.quadtree=function(e,t,n,r,i){function o(e){function o(e,t,n,r,i,o,s,a){if(!isNaN(n)&&!isNaN(r))if(e.leaf){var u=e.x,c=e.y;if(null!=u)if(bs(u-n)+bs(c-r)<.01)l(e,t,n,r,i,o,s,a);else{var p=e.point;e.x=e.y=e.point=null,l(e,p,u,c,i,o,s,a),l(e,t,n,r,i,o,s,a)}else e.x=n,e.y=r,e.point=t}else l(e,t,n,r,i,o,s,a)}function l(e,t,n,r,i,s,a,u){var l=.5*(i+a),c=.5*(s+u),p=n>=l,h=r>=c,f=h<<1|p;e.leaf=!1,e=e.nodes[f]||(e.nodes[f]=gr()),p?i=l:a=l,h?s=c:u=c,o(e,t,n,r,i,s,a,u)}var c,p,h,f,d,m,g,v,y,b=ke(a),_=ke(u);if(null!=t)m=t,g=n,v=r,y=i;else if(v=y=-(m=g=1/0),p=[],h=[],d=e.length,s)for(f=0;d>f;++f)c=e[f],c.x<m&&(m=c.x),c.y<g&&(g=c.y),c.x>v&&(v=c.x),c.y>y&&(y=c.y),p.push(c.x),h.push(c.y);else for(f=0;d>f;++f){var w=+b(c=e[f],f),E=+_(c,f);m>w&&(m=w),g>E&&(g=E),w>v&&(v=w),E>y&&(y=E),p.push(w),h.push(E)}var x=v-m,N=y-g;x>N?y=g+x:v=m+N;var C=gr();if(C.add=function(e){o(C,e,+b(e,++f),+_(e,f),m,g,v,y)},C.visit=function(e){vr(e,C,m,g,v,y)},C.find=function(e){return yr(C,e[0],e[1],m,g,v,y)},f=-1,null==t){for(;++f<d;)o(C,e[f],p[f],h[f],m,g,v,y);--f}else e.forEach(C.add);return p=h=e=c=null,C}var s,a=An,u=jn;return(s=arguments.length)?(a=dr,u=mr,3===s&&(i=n,r=t,n=t=0),o(e)):(o.x=function(e){return arguments.length?(a=e,o):a},o.y=function(e){return arguments.length?(u=e,o):u},o.extent=function(e){return arguments.length?(null==e?t=n=r=i=null:(t=+e[0][0],n=+e[0][1],r=+e[1][0],i=+e[1][1]),o):null==t?null:[[t,n],[r,i]]},o.size=function(e){return arguments.length?(null==e?t=n=r=i=null:(t=n=0,r=+e[0],i=+e[1]),o):null==t?null:[r-t,i-n]},o)},as.interpolateRgb=br,as.interpolateObject=_r,as.interpolateNumber=wr,as.interpolateString=Er;var pu=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,hu=new RegExp(pu.source,"g");as.interpolate=xr,as.interpolators=[function(e,t){var n=typeof t;return("string"===n?ra.has(t.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(t)?br:Er:t instanceof pe?br:Array.isArray(t)?Nr:"object"===n&&isNaN(t)?_r:wr)(e,t)}],as.interpolateArray=Nr;var fu=function(){return x},du=as.map({linear:fu,poly:kr,quad:function(){return Tr},cubic:function(){return Dr},sin:function(){return Or},exp:function(){return Ar},circle:function(){return jr},elastic:Rr,back:Ir,bounce:function(){return Lr}}),mu=as.map({"in":x,out:Mr,"in-out":Sr,"out-in":function(e){return Sr(Mr(e))}});as.ease=function(e){var t=e.indexOf("-"),n=t>=0?e.slice(0,t):e,r=t>=0?e.slice(t+1):"in";return n=du.get(n)||fu,r=mu.get(r)||x,Cr(r(n.apply(null,us.call(arguments,1))))},as.interpolateHcl=Vr,as.interpolateHsl=Ur,as.interpolateLab=Fr,as.interpolateRound=Br,as.transform=function(e){var t=cs.createElementNS(as.ns.prefix.svg,"g");return(as.transform=function(e){if(null!=e){t.setAttribute("transform",e);var n=t.transform.baseVal.consolidate()}return new zr(n?n.matrix:gu)})(e)},zr.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var gu={a:1,b:0,c:0,d:1,e:0,f:0};as.interpolateTransform=qr,as.layout={},as.layout.bundle=function(){return function(e){for(var t=[],n=-1,r=e.length;++n<r;)t.push(Yr(e[n]));return t}},as.layout.chord=function(){function e(){var e,l,p,h,f,d={},m=[],g=as.range(o),v=[];for(n=[],r=[],e=0,h=-1;++h<o;){for(l=0,f=-1;++f<o;)l+=i[h][f];m.push(l),v.push(as.range(o)),e+=l}for(s&&g.sort(function(e,t){return s(m[e],m[t])}),a&&v.forEach(function(e,t){e.sort(function(e,n){return a(i[t][e],i[t][n])})}),e=(Vs-c*o)/e,l=0,h=-1;++h<o;){for(p=l,f=-1;++f<o;){var y=g[h],b=v[y][f],_=i[y][b],w=l,E=l+=_*e;d[y+"-"+b]={index:y,subindex:b,startAngle:w,endAngle:E,value:_}}r[y]={index:y,startAngle:p,endAngle:l,value:(l-p)/e},l+=c}for(h=-1;++h<o;)for(f=h-1;++f<o;){var x=d[h+"-"+f],N=d[f+"-"+h];(x.value||N.value)&&n.push(x.value<N.value?{source:N,target:x}:{source:x,target:N})}u&&t()}function t(){n.sort(function(e,t){return u((e.source.value+e.target.value)/2,(t.source.value+t.target.value)/2)})}var n,r,i,o,s,a,u,l={},c=0;return l.matrix=function(e){return arguments.length?(o=(i=e)&&i.length,n=r=null,l):i},l.padding=function(e){return arguments.length?(c=e,n=r=null,l):c},l.sortGroups=function(e){return arguments.length?(s=e,n=r=null,l):s},l.sortSubgroups=function(e){return arguments.length?(a=e,n=null,l):a},l.sortChords=function(e){return arguments.length?(u=e,n&&t(),l):u},l.chords=function(){return n||e(),n},l.groups=function(){return r||e(),r},l},as.layout.force=function(){function e(e){return function(t,n,r,i){if(t.point!==e){var o=t.cx-e.x,s=t.cy-e.y,a=i-n,u=o*o+s*s;if(u>a*a/g){if(d>u){var l=t.charge/u;e.px-=o*l,e.py-=s*l}return!0}if(t.point&&u&&d>u){var l=t.pointCharge/u;e.px-=o*l,e.py-=s*l}}return!t.charge}}function t(e){e.px=as.event.x,e.py=as.event.y,a.resume()}var n,r,i,o,s,a={},u=as.dispatch("start","tick","end"),l=[1,1],c=.9,p=vu,h=yu,f=-30,d=bu,m=.1,g=.64,v=[],y=[];return a.tick=function(){if((r*=.99)<.005)return u.end({type:"end",alpha:r=0}),!0;var t,n,a,p,h,d,g,b,_,w=v.length,E=y.length;for(n=0;E>n;++n)a=y[n],p=a.source,h=a.target,b=h.x-p.x,_=h.y-p.y,(d=b*b+_*_)&&(d=r*o[n]*((d=Math.sqrt(d))-i[n])/d,b*=d,_*=d,h.x-=b*(g=p.weight/(h.weight+p.weight)),h.y-=_*g,p.x+=b*(g=1-g),p.y+=_*g);if((g=r*m)&&(b=l[0]/2,_=l[1]/2,n=-1,g))for(;++n<w;)a=v[n],a.x+=(b-a.x)*g,a.y+=(_-a.y)*g;if(f)for(ni(t=as.geom.quadtree(v),r,s),n=-1;++n<w;)(a=v[n]).fixed||t.visit(e(a));for(n=-1;++n<w;)a=v[n],a.fixed?(a.x=a.px,a.y=a.py):(a.x-=(a.px-(a.px=a.x))*c,a.y-=(a.py-(a.py=a.y))*c);u.tick({type:"tick",alpha:r})},a.nodes=function(e){return arguments.length?(v=e,a):v},a.links=function(e){return arguments.length?(y=e,a):y},a.size=function(e){return arguments.length?(l=e,a):l},a.linkDistance=function(e){return arguments.length?(p="function"==typeof e?e:+e,a):p},a.distance=a.linkDistance,a.linkStrength=function(e){return arguments.length?(h="function"==typeof e?e:+e,a):h},a.friction=function(e){return arguments.length?(c=+e,a):c},a.charge=function(e){return arguments.length?(f="function"==typeof e?e:+e,a):f},a.chargeDistance=function(e){return arguments.length?(d=e*e,a):Math.sqrt(d)},a.gravity=function(e){return arguments.length?(m=+e,a):m},a.theta=function(e){return arguments.length?(g=e*e,a):Math.sqrt(g)},a.alpha=function(e){return arguments.length?(e=+e,r?r=e>0?e:0:e>0&&(u.start({type:"start",alpha:r=e}),as.timer(a.tick)),a):r},a.start=function(){function e(e,r){if(!n){for(n=new Array(u),a=0;u>a;++a)n[a]=[];for(a=0;c>a;++a){var i=y[a];n[i.source.index].push(i.target),n[i.target.index].push(i.source)}}for(var o,s=n[t],a=-1,l=s.length;++a<l;)if(!isNaN(o=s[a][e]))return o;return Math.random()*r}var t,n,r,u=v.length,c=y.length,d=l[0],m=l[1];for(t=0;u>t;++t)(r=v[t]).index=t,r.weight=0;for(t=0;c>t;++t)r=y[t],"number"==typeof r.source&&(r.source=v[r.source]),"number"==typeof r.target&&(r.target=v[r.target]),++r.source.weight,++r.target.weight;for(t=0;u>t;++t)r=v[t],isNaN(r.x)&&(r.x=e("x",d)),isNaN(r.y)&&(r.y=e("y",m)),isNaN(r.px)&&(r.px=r.x),isNaN(r.py)&&(r.py=r.y);if(i=[],"function"==typeof p)for(t=0;c>t;++t)i[t]=+p.call(this,y[t],t);else for(t=0;c>t;++t)i[t]=p;if(o=[],"function"==typeof h)for(t=0;c>t;++t)o[t]=+h.call(this,y[t],t);else for(t=0;c>t;++t)o[t]=h;if(s=[],"function"==typeof f)for(t=0;u>t;++t)s[t]=+f.call(this,v[t],t);else for(t=0;u>t;++t)s[t]=f;return a.resume()},a.resume=function(){return a.alpha(.1)},a.stop=function(){return a.alpha(0)},a.drag=function(){return n||(n=as.behavior.drag().origin(x).on("dragstart.force",Qr).on("drag.force",t).on("dragend.force",Zr)),arguments.length?void this.on("mouseover.force",ei).on("mouseout.force",ti).call(n):n},as.rebind(a,u,"on")};var vu=20,yu=1,bu=1/0;as.layout.hierarchy=function(){function e(i){var o,s=[i],a=[];for(i.depth=0;null!=(o=s.pop());)if(a.push(o),(l=n.call(e,o,o.depth))&&(u=l.length)){for(var u,l,c;--u>=0;)s.push(c=l[u]),c.parent=o,c.depth=o.depth+1;r&&(o.value=0),o.children=l}else r&&(o.value=+r.call(e,o,o.depth)||0),delete o.children;return oi(i,function(e){var n,i;t&&(n=e.children)&&n.sort(t),r&&(i=e.parent)&&(i.value+=e.value)}),a}var t=ui,n=si,r=ai;return e.sort=function(n){return arguments.length?(t=n,e):t},e.children=function(t){return arguments.length?(n=t,e):n},e.value=function(t){return arguments.length?(r=t,e):r},e.revalue=function(t){return r&&(ii(t,function(e){e.children&&(e.value=0)}),oi(t,function(t){var n;t.children||(t.value=+r.call(e,t,t.depth)||0),(n=t.parent)&&(n.value+=t.value)})),t},e},as.layout.partition=function(){function e(t,n,r,i){var o=t.children;if(t.x=n,t.y=t.depth*i,t.dx=r,t.dy=i,o&&(s=o.length)){var s,a,u,l=-1;for(r=t.value?r/t.value:0;++l<s;)e(a=o[l],n,u=a.value*r,i),n+=u}}function t(e){var n=e.children,r=0;if(n&&(i=n.length))for(var i,o=-1;++o<i;)r=Math.max(r,t(n[o]));return 1+r}function n(n,o){var s=r.call(this,n,o);return e(s[0],0,i[0],i[1]/t(s[0])),s}var r=as.layout.hierarchy(),i=[1,1];return n.size=function(e){return arguments.length?(i=e,n):i},ri(n,r)},as.layout.pie=function(){function e(s){var a,u=s.length,l=s.map(function(n,r){return+t.call(e,n,r)}),c=+("function"==typeof r?r.apply(this,arguments):r),p=("function"==typeof i?i.apply(this,arguments):i)-c,h=Math.min(Math.abs(p)/u,+("function"==typeof o?o.apply(this,arguments):o)),f=h*(0>p?-1:1),d=(p-u*f)/as.sum(l),m=as.range(u),g=[];return null!=n&&m.sort(n===_u?function(e,t){return l[t]-l[e]}:function(e,t){return n(s[e],s[t])}),m.forEach(function(e){g[e]={data:s[e],value:a=l[e],startAngle:c,endAngle:c+=a*d+f,padAngle:h}}),g}var t=Number,n=_u,r=0,i=Vs,o=0;return e.value=function(n){return arguments.length?(t=n,e):t},e.sort=function(t){return arguments.length?(n=t,e):n},e.startAngle=function(t){return arguments.length?(r=t,e):r},e.endAngle=function(t){return arguments.length?(i=t,e):i},e.padAngle=function(t){return arguments.length?(o=t,e):o},e};var _u={};as.layout.stack=function(){function e(a,u){if(!(h=a.length))return a;var l=a.map(function(n,r){return t.call(e,n,r)}),c=l.map(function(t){return t.map(function(t,n){return[o.call(e,t,n),s.call(e,t,n)]})}),p=n.call(e,c,u);l=as.permute(l,p),c=as.permute(c,p);var h,f,d,m,g=r.call(e,c,u),v=l[0].length;for(d=0;v>d;++d)for(i.call(e,l[0][d],m=g[d],c[0][d][1]),f=1;h>f;++f)i.call(e,l[f][d],m+=c[f-1][d][1],c[f][d][1]);return a}var t=x,n=fi,r=di,i=hi,o=ci,s=pi;return e.values=function(n){return arguments.length?(t=n,e):t},e.order=function(t){return arguments.length?(n="function"==typeof t?t:wu.get(t)||fi,e):n},e.offset=function(t){return arguments.length?(r="function"==typeof t?t:Eu.get(t)||di,e):r},e.x=function(t){return arguments.length?(o=t,e):o},e.y=function(t){return arguments.length?(s=t,e):s},e.out=function(t){return arguments.length?(i=t,e):i},e};var wu=as.map({"inside-out":function(e){var t,n,r=e.length,i=e.map(mi),o=e.map(gi),s=as.range(r).sort(function(e,t){return i[e]-i[t]}),a=0,u=0,l=[],c=[];for(t=0;r>t;++t)n=s[t],u>a?(a+=o[n],l.push(n)):(u+=o[n],c.push(n));return c.reverse().concat(l)},reverse:function(e){return as.range(e.length).reverse()},"default":fi}),Eu=as.map({silhouette:function(e){var t,n,r,i=e.length,o=e[0].length,s=[],a=0,u=[];for(n=0;o>n;++n){for(t=0,r=0;i>t;t++)r+=e[t][n][1];r>a&&(a=r),s.push(r)}for(n=0;o>n;++n)u[n]=(a-s[n])/2;return u},wiggle:function(e){var t,n,r,i,o,s,a,u,l,c=e.length,p=e[0],h=p.length,f=[];for(f[0]=u=l=0,n=1;h>n;++n){for(t=0,i=0;c>t;++t)i+=e[t][n][1];for(t=0,o=0,a=p[n][0]-p[n-1][0];c>t;++t){for(r=0,s=(e[t][n][1]-e[t][n-1][1])/(2*a);t>r;++r)s+=(e[r][n][1]-e[r][n-1][1])/a;o+=s*e[t][n][1]}f[n]=u-=i?o/i*a:0,l>u&&(l=u)}for(n=0;h>n;++n)f[n]-=l;return f},expand:function(e){var t,n,r,i=e.length,o=e[0].length,s=1/i,a=[];for(n=0;o>n;++n){for(t=0,r=0;i>t;t++)r+=e[t][n][1];if(r)for(t=0;i>t;t++)e[t][n][1]/=r;else for(t=0;i>t;t++)e[t][n][1]=s}for(n=0;o>n;++n)a[n]=0;return a},zero:di});as.layout.histogram=function(){function e(e,o){for(var s,a,u=[],l=e.map(n,this),c=r.call(this,l,o),p=i.call(this,c,l,o),o=-1,h=l.length,f=p.length-1,d=t?1:1/h;++o<f;)s=u[o]=[],s.dx=p[o+1]-(s.x=p[o]),s.y=0;if(f>0)for(o=-1;++o<h;)a=l[o],a>=c[0]&&a<=c[1]&&(s=u[as.bisect(p,a,1,f)-1],s.y+=d,s.push(e[o]));return u}var t=!0,n=Number,r=_i,i=yi;return e.value=function(t){return arguments.length?(n=t,e):n},e.range=function(t){return arguments.length?(r=ke(t),
e):r},e.bins=function(t){return arguments.length?(i="number"==typeof t?function(e){return bi(e,t)}:ke(t),e):i},e.frequency=function(n){return arguments.length?(t=!!n,e):t},e},as.layout.pack=function(){function e(e,o){var s=n.call(this,e,o),a=s[0],u=i[0],l=i[1],c=null==t?Math.sqrt:"function"==typeof t?t:function(){return t};if(a.x=a.y=0,oi(a,function(e){e.r=+c(e.value)}),oi(a,Ci),r){var p=r*(t?1:Math.max(2*a.r/u,2*a.r/l))/2;oi(a,function(e){e.r+=p}),oi(a,Ci),oi(a,function(e){e.r-=p})}return Ti(a,u/2,l/2,t?1:1/Math.max(2*a.r/u,2*a.r/l)),s}var t,n=as.layout.hierarchy().sort(wi),r=0,i=[1,1];return e.size=function(t){return arguments.length?(i=t,e):i},e.radius=function(n){return arguments.length?(t=null==n||"function"==typeof n?n:+n,e):t},e.padding=function(t){return arguments.length?(r=+t,e):r},ri(e,n)},as.layout.tree=function(){function e(e,i){var c=s.call(this,e,i),p=c[0],h=t(p);if(oi(h,n),h.parent.m=-h.z,ii(h,r),l)ii(p,o);else{var f=p,d=p,m=p;ii(p,function(e){e.x<f.x&&(f=e),e.x>d.x&&(d=e),e.depth>m.depth&&(m=e)});var g=a(f,d)/2-f.x,v=u[0]/(d.x+a(d,f)/2+g),y=u[1]/(m.depth||1);ii(p,function(e){e.x=(e.x+g)*v,e.y=e.depth*y})}return c}function t(e){for(var t,n={A:null,children:[e]},r=[n];null!=(t=r.pop());)for(var i,o=t.children,s=0,a=o.length;a>s;++s)r.push((o[s]=i={_:o[s],parent:t,children:(i=o[s].children)&&i.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:s}).a=i);return n.children[0]}function n(e){var t=e.children,n=e.parent.children,r=e.i?n[e.i-1]:null;if(t.length){ji(e);var o=(t[0].z+t[t.length-1].z)/2;r?(e.z=r.z+a(e._,r._),e.m=e.z-o):e.z=o}else r&&(e.z=r.z+a(e._,r._));e.parent.A=i(e,r,e.parent.A||n[0])}function r(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function i(e,t,n){if(t){for(var r,i=e,o=e,s=t,u=i.parent.children[0],l=i.m,c=o.m,p=s.m,h=u.m;s=Oi(s),i=ki(i),s&&i;)u=ki(u),o=Oi(o),o.a=e,r=s.z+p-i.z-l+a(s._,i._),r>0&&(Ai(Ri(s,e,n),e,r),l+=r,c+=r),p+=s.m,l+=i.m,h+=u.m,c+=o.m;s&&!Oi(o)&&(o.t=s,o.m+=p-c),i&&!ki(u)&&(u.t=i,u.m+=l-h,n=e)}return n}function o(e){e.x*=u[0],e.y=e.depth*u[1]}var s=as.layout.hierarchy().sort(null).value(null),a=Pi,u=[1,1],l=null;return e.separation=function(t){return arguments.length?(a=t,e):a},e.size=function(t){return arguments.length?(l=null==(u=t)?o:null,e):l?null:u},e.nodeSize=function(t){return arguments.length?(l=null==(u=t)?null:o,e):l?u:null},ri(e,s)},as.layout.cluster=function(){function e(e,o){var s,a=t.call(this,e,o),u=a[0],l=0;oi(u,function(e){var t=e.children;t&&t.length?(e.x=Li(t),e.y=Ii(t)):(e.x=s?l+=n(e,s):0,e.y=0,s=e)});var c=Vi(u),p=Ui(u),h=c.x-n(c,p)/2,f=p.x+n(p,c)/2;return oi(u,i?function(e){e.x=(e.x-u.x)*r[0],e.y=(u.y-e.y)*r[1]}:function(e){e.x=(e.x-h)/(f-h)*r[0],e.y=(1-(u.y?e.y/u.y:1))*r[1]}),a}var t=as.layout.hierarchy().sort(null).value(null),n=Pi,r=[1,1],i=!1;return e.separation=function(t){return arguments.length?(n=t,e):n},e.size=function(t){return arguments.length?(i=null==(r=t),e):i?null:r},e.nodeSize=function(t){return arguments.length?(i=null!=(r=t),e):i?r:null},ri(e,t)},as.layout.treemap=function(){function e(e,t){for(var n,r,i=-1,o=e.length;++i<o;)r=(n=e[i]).value*(0>t?0:t),n.area=isNaN(r)||0>=r?0:r}function t(n){var o=n.children;if(o&&o.length){var s,a,u,l=p(n),c=[],h=o.slice(),d=1/0,m="slice"===f?l.dx:"dice"===f?l.dy:"slice-dice"===f?1&n.depth?l.dy:l.dx:Math.min(l.dx,l.dy);for(e(h,l.dx*l.dy/n.value),c.area=0;(u=h.length)>0;)c.push(s=h[u-1]),c.area+=s.area,"squarify"!==f||(a=r(c,m))<=d?(h.pop(),d=a):(c.area-=c.pop().area,i(c,m,l,!1),m=Math.min(l.dx,l.dy),c.length=c.area=0,d=1/0);c.length&&(i(c,m,l,!0),c.length=c.area=0),o.forEach(t)}}function n(t){var r=t.children;if(r&&r.length){var o,s=p(t),a=r.slice(),u=[];for(e(a,s.dx*s.dy/t.value),u.area=0;o=a.pop();)u.push(o),u.area+=o.area,null!=o.z&&(i(u,o.z?s.dx:s.dy,s,!a.length),u.length=u.area=0);r.forEach(n)}}function r(e,t){for(var n,r=e.area,i=0,o=1/0,s=-1,a=e.length;++s<a;)(n=e[s].area)&&(o>n&&(o=n),n>i&&(i=n));return r*=r,t*=t,r?Math.max(t*i*d/r,r/(t*o*d)):1/0}function i(e,t,n,r){var i,o=-1,s=e.length,a=n.x,l=n.y,c=t?u(e.area/t):0;if(t==n.dx){for((r||c>n.dy)&&(c=n.dy);++o<s;)i=e[o],i.x=a,i.y=l,i.dy=c,a+=i.dx=Math.min(n.x+n.dx-a,c?u(i.area/c):0);i.z=!0,i.dx+=n.x+n.dx-a,n.y+=c,n.dy-=c}else{for((r||c>n.dx)&&(c=n.dx);++o<s;)i=e[o],i.x=a,i.y=l,i.dx=c,l+=i.dy=Math.min(n.y+n.dy-l,c?u(i.area/c):0);i.z=!1,i.dy+=n.y+n.dy-l,n.x+=c,n.dx-=c}}function o(r){var i=s||a(r),o=i[0];return o.x=0,o.y=0,o.dx=l[0],o.dy=l[1],s&&a.revalue(o),e([o],o.dx*o.dy/o.value),(s?n:t)(o),h&&(s=i),i}var s,a=as.layout.hierarchy(),u=Math.round,l=[1,1],c=null,p=Fi,h=!1,f="squarify",d=.5*(1+Math.sqrt(5));return o.size=function(e){return arguments.length?(l=e,o):l},o.padding=function(e){function t(t){var n=e.call(o,t,t.depth);return null==n?Fi(t):Bi(t,"number"==typeof n?[n,n,n,n]:n)}function n(t){return Bi(t,e)}if(!arguments.length)return c;var r;return p=null==(c=e)?Fi:"function"==(r=typeof e)?t:"number"===r?(e=[e,e,e,e],n):n,o},o.round=function(e){return arguments.length?(u=e?Math.round:Number,o):u!=Number},o.sticky=function(e){return arguments.length?(h=e,s=null,o):h},o.ratio=function(e){return arguments.length?(d=e,o):d},o.mode=function(e){return arguments.length?(f=e+"",o):f},ri(o,a)},as.random={normal:function(e,t){var n=arguments.length;return 2>n&&(t=1),1>n&&(e=0),function(){var n,r,i;do n=2*Math.random()-1,r=2*Math.random()-1,i=n*n+r*r;while(!i||i>1);return e+t*n*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var e=as.random.normal.apply(as,arguments);return function(){return Math.exp(e())}},bates:function(e){var t=as.random.irwinHall(e);return function(){return t()/e}},irwinHall:function(e){return function(){for(var t=0,n=0;e>n;n++)t+=Math.random();return t}}},as.scale={};var xu={floor:x,ceil:x};as.scale.linear=function(){return Gi([0,1],[0,1],xr,!1)};var Nu={s:1,g:1,p:1,r:1,e:1};as.scale.log=function(){return no(as.scale.linear().domain([0,1]),10,!0,[1,10])};var Cu=as.format(".0e"),Mu={floor:function(e){return-Math.ceil(-e)},ceil:function(e){return-Math.floor(-e)}};as.scale.pow=function(){return ro(as.scale.linear(),1,[0,1])},as.scale.sqrt=function(){return as.scale.pow().exponent(.5)},as.scale.ordinal=function(){return oo([],{t:"range",a:[[]]})},as.scale.category10=function(){return as.scale.ordinal().range(Su)},as.scale.category20=function(){return as.scale.ordinal().range(Tu)},as.scale.category20b=function(){return as.scale.ordinal().range(Du)},as.scale.category20c=function(){return as.scale.ordinal().range(Pu)};var Su=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(Ne),Tu=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(Ne),Du=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(Ne),Pu=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(Ne);as.scale.quantile=function(){return so([],[])},as.scale.quantize=function(){return ao(0,1,[0,1])},as.scale.threshold=function(){return uo([.5],[0,1])},as.scale.identity=function(){return lo([0,1])},as.svg={},as.svg.arc=function(){function e(){var e=Math.max(0,+n.apply(this,arguments)),l=Math.max(0,+r.apply(this,arguments)),c=s.apply(this,arguments)-Fs,p=a.apply(this,arguments)-Fs,h=Math.abs(p-c),f=c>p?0:1;if(e>l&&(d=l,l=e,e=d),h>=Us)return t(l,f)+(e?t(e,1-f):"")+"Z";var d,m,g,v,y,b,_,w,E,x,N,C,M=0,S=0,T=[];if((v=(+u.apply(this,arguments)||0)/2)&&(g=o===ku?Math.sqrt(e*e+l*l):+o.apply(this,arguments),f||(S*=-1),l&&(S=se(g/l*Math.sin(v))),e&&(M=se(g/e*Math.sin(v)))),l){y=l*Math.cos(c+S),b=l*Math.sin(c+S),_=l*Math.cos(p-S),w=l*Math.sin(p-S);var D=Math.abs(p-c-2*S)<=Ls?0:1;if(S&&vo(y,b,_,w)===f^D){var P=(c+p)/2;y=l*Math.cos(P),b=l*Math.sin(P),_=w=null}}else y=b=0;if(e){E=e*Math.cos(p-M),x=e*Math.sin(p-M),N=e*Math.cos(c+M),C=e*Math.sin(c+M);var k=Math.abs(c-p+2*M)<=Ls?0:1;if(M&&vo(E,x,N,C)===1-f^k){var O=(c+p)/2;E=e*Math.cos(O),x=e*Math.sin(O),N=C=null}}else E=x=0;if((d=Math.min(Math.abs(l-e)/2,+i.apply(this,arguments)))>.001){m=l>e^f?0:1;var A=null==N?[E,x]:null==_?[y,b]:Vn([y,b],[N,C],[_,w],[E,x]),j=y-A[0],R=b-A[1],I=_-A[0],L=w-A[1],V=1/Math.sin(Math.acos((j*I+R*L)/(Math.sqrt(j*j+R*R)*Math.sqrt(I*I+L*L)))/2),U=Math.sqrt(A[0]*A[0]+A[1]*A[1]);if(null!=_){var F=Math.min(d,(l-U)/(V+1)),B=yo(null==N?[E,x]:[N,C],[y,b],l,F,f),z=yo([_,w],[E,x],l,F,f);d===F?T.push("M",B[0],"A",F,",",F," 0 0,",m," ",B[1],"A",l,",",l," 0 ",1-f^vo(B[1][0],B[1][1],z[1][0],z[1][1]),",",f," ",z[1],"A",F,",",F," 0 0,",m," ",z[0]):T.push("M",B[0],"A",F,",",F," 0 1,",m," ",z[0])}else T.push("M",y,",",b);if(null!=N){var H=Math.min(d,(e-U)/(V-1)),W=yo([y,b],[N,C],e,-H,f),$=yo([E,x],null==_?[y,b]:[_,w],e,-H,f);d===H?T.push("L",$[0],"A",H,",",H," 0 0,",m," ",$[1],"A",e,",",e," 0 ",f^vo($[1][0],$[1][1],W[1][0],W[1][1]),",",1-f," ",W[1],"A",H,",",H," 0 0,",m," ",W[0]):T.push("L",$[0],"A",H,",",H," 0 0,",m," ",W[0])}else T.push("L",E,",",x)}else T.push("M",y,",",b),null!=_&&T.push("A",l,",",l," 0 ",D,",",f," ",_,",",w),T.push("L",E,",",x),null!=N&&T.push("A",e,",",e," 0 ",k,",",1-f," ",N,",",C);return T.push("Z"),T.join("")}function t(e,t){return"M0,"+e+"A"+e+","+e+" 0 1,"+t+" 0,"+-e+"A"+e+","+e+" 0 1,"+t+" 0,"+e}var n=po,r=ho,i=co,o=ku,s=fo,a=mo,u=go;return e.innerRadius=function(t){return arguments.length?(n=ke(t),e):n},e.outerRadius=function(t){return arguments.length?(r=ke(t),e):r},e.cornerRadius=function(t){return arguments.length?(i=ke(t),e):i},e.padRadius=function(t){return arguments.length?(o=t==ku?ku:ke(t),e):o},e.startAngle=function(t){return arguments.length?(s=ke(t),e):s},e.endAngle=function(t){return arguments.length?(a=ke(t),e):a},e.padAngle=function(t){return arguments.length?(u=ke(t),e):u},e.centroid=function(){var e=(+n.apply(this,arguments)+ +r.apply(this,arguments))/2,t=(+s.apply(this,arguments)+ +a.apply(this,arguments))/2-Fs;return[Math.cos(t)*e,Math.sin(t)*e]},e};var ku="auto";as.svg.line=function(){return bo(x)};var Ou=as.map({linear:_o,"linear-closed":wo,step:Eo,"step-before":xo,"step-after":No,basis:Po,"basis-open":ko,"basis-closed":Oo,bundle:Ao,cardinal:So,"cardinal-open":Co,"cardinal-closed":Mo,monotone:Uo});Ou.forEach(function(e,t){t.key=e,t.closed=/-closed$/.test(e)});var Au=[0,2/3,1/3,0],ju=[0,1/3,2/3,0],Ru=[0,1/6,2/3,1/6];as.svg.line.radial=function(){var e=bo(Fo);return e.radius=e.x,delete e.x,e.angle=e.y,delete e.y,e},xo.reverse=No,No.reverse=xo,as.svg.area=function(){return Bo(x)},as.svg.area.radial=function(){var e=Bo(Fo);return e.radius=e.x,delete e.x,e.innerRadius=e.x0,delete e.x0,e.outerRadius=e.x1,delete e.x1,e.angle=e.y,delete e.y,e.startAngle=e.y0,delete e.y0,e.endAngle=e.y1,delete e.y1,e},as.svg.chord=function(){function e(e,a){var u=t(this,o,e,a),l=t(this,s,e,a);return"M"+u.p0+r(u.r,u.p1,u.a1-u.a0)+(n(u,l)?i(u.r,u.p1,u.r,u.p0):i(u.r,u.p1,l.r,l.p0)+r(l.r,l.p1,l.a1-l.a0)+i(l.r,l.p1,u.r,u.p0))+"Z"}function t(e,t,n,r){var i=t.call(e,n,r),o=a.call(e,i,r),s=u.call(e,i,r)-Fs,c=l.call(e,i,r)-Fs;return{r:o,a0:s,a1:c,p0:[o*Math.cos(s),o*Math.sin(s)],p1:[o*Math.cos(c),o*Math.sin(c)]}}function n(e,t){return e.a0==t.a0&&e.a1==t.a1}function r(e,t,n){return"A"+e+","+e+" 0 "+ +(n>Ls)+",1 "+t}function i(e,t,n,r){return"Q 0,0 "+r}var o=xn,s=Nn,a=zo,u=fo,l=mo;return e.radius=function(t){return arguments.length?(a=ke(t),e):a},e.source=function(t){return arguments.length?(o=ke(t),e):o},e.target=function(t){return arguments.length?(s=ke(t),e):s},e.startAngle=function(t){return arguments.length?(u=ke(t),e):u},e.endAngle=function(t){return arguments.length?(l=ke(t),e):l},e},as.svg.diagonal=function(){function e(e,i){var o=t.call(this,e,i),s=n.call(this,e,i),a=(o.y+s.y)/2,u=[o,{x:o.x,y:a},{x:s.x,y:a},s];return u=u.map(r),"M"+u[0]+"C"+u[1]+" "+u[2]+" "+u[3]}var t=xn,n=Nn,r=Ho;return e.source=function(n){return arguments.length?(t=ke(n),e):t},e.target=function(t){return arguments.length?(n=ke(t),e):n},e.projection=function(t){return arguments.length?(r=t,e):r},e},as.svg.diagonal.radial=function(){var e=as.svg.diagonal(),t=Ho,n=e.projection;return e.projection=function(e){return arguments.length?n(Wo(t=e)):t},e},as.svg.symbol=function(){function e(e,r){return(Iu.get(t.call(this,e,r))||Ko)(n.call(this,e,r))}var t=qo,n=$o;return e.type=function(n){return arguments.length?(t=ke(n),e):t},e.size=function(t){return arguments.length?(n=ke(t),e):n},e};var Iu=as.map({circle:Ko,cross:function(e){var t=Math.sqrt(e/5)/2;return"M"+-3*t+","+-t+"H"+-t+"V"+-3*t+"H"+t+"V"+-t+"H"+3*t+"V"+t+"H"+t+"V"+3*t+"H"+-t+"V"+t+"H"+-3*t+"Z"},diamond:function(e){var t=Math.sqrt(e/(2*Vu)),n=t*Vu;return"M0,"+-t+"L"+n+",0 0,"+t+" "+-n+",0Z"},square:function(e){var t=Math.sqrt(e)/2;return"M"+-t+","+-t+"L"+t+","+-t+" "+t+","+t+" "+-t+","+t+"Z"},"triangle-down":function(e){var t=Math.sqrt(e/Lu),n=t*Lu/2;return"M0,"+n+"L"+t+","+-n+" "+-t+","+-n+"Z"},"triangle-up":function(e){var t=Math.sqrt(e/Lu),n=t*Lu/2;return"M0,"+-n+"L"+t+","+n+" "+-t+","+n+"Z"}});as.svg.symbolTypes=Iu.keys();var Lu=Math.sqrt(3),Vu=Math.tan(30*Bs);Ts.transition=function(e){for(var t,n,r=Uu||++Hu,i=Qo(e),o=[],s=Fu||{time:Date.now(),ease:Pr,delay:0,duration:250},a=-1,u=this.length;++a<u;){o.push(t=[]);for(var l=this[a],c=-1,p=l.length;++c<p;)(n=l[c])&&Zo(n,c,i,r,s),t.push(n)}return Yo(o,i,r)},Ts.interrupt=function(e){return this.each(null==e?Bu:Go(Qo(e)))};var Uu,Fu,Bu=Go(Qo()),zu=[],Hu=0;zu.call=Ts.call,zu.empty=Ts.empty,zu.node=Ts.node,zu.size=Ts.size,as.transition=function(e,t){return e&&e.transition?Uu?e.transition(t):e:as.selection().transition(e)},as.transition.prototype=zu,zu.select=function(e){var t,n,r,i=this.id,o=this.namespace,s=[];e=A(e);for(var a=-1,u=this.length;++a<u;){s.push(t=[]);for(var l=this[a],c=-1,p=l.length;++c<p;)(r=l[c])&&(n=e.call(r,r.__data__,c,a))?("__data__"in r&&(n.__data__=r.__data__),Zo(n,c,o,i,r[o][i]),t.push(n)):t.push(null)}return Yo(s,o,i)},zu.selectAll=function(e){var t,n,r,i,o,s=this.id,a=this.namespace,u=[];e=j(e);for(var l=-1,c=this.length;++l<c;)for(var p=this[l],h=-1,f=p.length;++h<f;)if(r=p[h]){o=r[a][s],n=e.call(r,r.__data__,h,l),u.push(t=[]);for(var d=-1,m=n.length;++d<m;)(i=n[d])&&Zo(i,d,a,s,o),t.push(i)}return Yo(u,a,s)},zu.filter=function(e){var t,n,r,i=[];"function"!=typeof e&&(e=q(e));for(var o=0,s=this.length;s>o;o++){i.push(t=[]);for(var n=this[o],a=0,u=n.length;u>a;a++)(r=n[a])&&e.call(r,r.__data__,a,o)&&t.push(r)}return Yo(i,this.namespace,this.id)},zu.tween=function(e,t){var n=this.id,r=this.namespace;return arguments.length<2?this.node()[r][n].tween.get(e):G(this,null==t?function(t){t[r][n].tween.remove(e)}:function(i){i[r][n].tween.set(e,t)})},zu.attr=function(e,t){function n(){this.removeAttribute(a)}function r(){this.removeAttributeNS(a.space,a.local)}function i(e){return null==e?n:(e+="",function(){var t,n=this.getAttribute(a);return n!==e&&(t=s(n,e),function(e){this.setAttribute(a,t(e))})})}function o(e){return null==e?r:(e+="",function(){var t,n=this.getAttributeNS(a.space,a.local);return n!==e&&(t=s(n,e),function(e){this.setAttributeNS(a.space,a.local,t(e))})})}if(arguments.length<2){for(t in e)this.attr(t,e[t]);return this}var s="transform"==e?qr:xr,a=as.ns.qualify(e);return Xo(this,"attr."+e,t,a.local?o:i)},zu.attrTween=function(e,t){function n(e,n){var r=t.call(this,e,n,this.getAttribute(i));return r&&function(e){this.setAttribute(i,r(e))}}function r(e,n){var r=t.call(this,e,n,this.getAttributeNS(i.space,i.local));return r&&function(e){this.setAttributeNS(i.space,i.local,r(e))}}var i=as.ns.qualify(e);return this.tween("attr."+e,i.local?r:n)},zu.style=function(e,t,n){function r(){this.style.removeProperty(e)}function i(t){return null==t?r:(t+="",function(){var r,i=s(this).getComputedStyle(this,null).getPropertyValue(e);return i!==t&&(r=xr(i,t),function(t){this.style.setProperty(e,r(t),n)})})}var o=arguments.length;if(3>o){if("string"!=typeof e){2>o&&(t="");for(n in e)this.style(n,e[n],t);return this}n=""}return Xo(this,"style."+e,t,i)},zu.styleTween=function(e,t,n){function r(r,i){var o=t.call(this,r,i,s(this).getComputedStyle(this,null).getPropertyValue(e));return o&&function(t){this.style.setProperty(e,o(t),n)}}return arguments.length<3&&(n=""),this.tween("style."+e,r)},zu.text=function(e){return Xo(this,"text",e,Jo)},zu.remove=function(){var e=this.namespace;return this.each("end.transition",function(){var t;this[e].count<2&&(t=this.parentNode)&&t.removeChild(this)})},zu.ease=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].ease:("function"!=typeof e&&(e=as.ease.apply(as,arguments)),G(this,function(r){r[n][t].ease=e}))},zu.delay=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].delay:G(this,"function"==typeof e?function(r,i,o){r[n][t].delay=+e.call(r,r.__data__,i,o)}:(e=+e,function(r){r[n][t].delay=e}))},zu.duration=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].duration:G(this,"function"==typeof e?function(r,i,o){r[n][t].duration=Math.max(1,e.call(r,r.__data__,i,o))}:(e=Math.max(1,e),function(r){r[n][t].duration=e}))},zu.each=function(e,t){var n=this.id,r=this.namespace;if(arguments.length<2){var i=Fu,o=Uu;try{Uu=n,G(this,function(t,i,o){Fu=t[r][n],e.call(t,t.__data__,i,o)})}finally{Fu=i,Uu=o}}else G(this,function(i){var o=i[r][n];(o.event||(o.event=as.dispatch("start","end","interrupt"))).on(e,t)});return this},zu.transition=function(){for(var e,t,n,r,i=this.id,o=++Hu,s=this.namespace,a=[],u=0,l=this.length;l>u;u++){a.push(e=[]);for(var t=this[u],c=0,p=t.length;p>c;c++)(n=t[c])&&(r=n[s][i],Zo(n,c,s,o,{time:r.time,ease:r.ease,delay:r.delay+r.duration,duration:r.duration})),e.push(n)}return Yo(a,s,o)},as.svg.axis=function(){function e(e){e.each(function(){var e,l=as.select(this),c=this.__chart__||n,p=this.__chart__=n.copy(),h=null==u?p.ticks?p.ticks.apply(p,a):p.domain():u,f=null==t?p.tickFormat?p.tickFormat.apply(p,a):x:t,d=l.selectAll(".tick").data(h,p),m=d.enter().insert("g",".domain").attr("class","tick").style("opacity",Rs),g=as.transition(d.exit()).style("opacity",Rs).remove(),v=as.transition(d.order()).style("opacity",1),y=Math.max(i,0)+s,b=Hi(p),_=l.selectAll(".domain").data([0]),w=(_.enter().append("path").attr("class","domain"),as.transition(_));m.append("line"),m.append("text");var E,N,C,M,S=m.select("line"),T=v.select("line"),D=d.select("text").text(f),P=m.select("text"),k=v.select("text"),O="top"===r||"left"===r?-1:1;if("bottom"===r||"top"===r?(e=es,E="x",C="y",N="x2",M="y2",D.attr("dy",0>O?"0em":".71em").style("text-anchor","middle"),w.attr("d","M"+b[0]+","+O*o+"V0H"+b[1]+"V"+O*o)):(e=ts,E="y",C="x",N="y2",M="x2",D.attr("dy",".32em").style("text-anchor",0>O?"end":"start"),w.attr("d","M"+O*o+","+b[0]+"H0V"+b[1]+"H"+O*o)),S.attr(M,O*i),P.attr(C,O*y),T.attr(N,0).attr(M,O*i),k.attr(E,0).attr(C,O*y),p.rangeBand){var A=p,j=A.rangeBand()/2;c=p=function(e){return A(e)+j}}else c.rangeBand?c=p:g.call(e,p,c);m.call(e,c,p),v.call(e,p,p)})}var t,n=as.scale.linear(),r=Wu,i=6,o=6,s=3,a=[10],u=null;return e.scale=function(t){return arguments.length?(n=t,e):n},e.orient=function(t){return arguments.length?(r=t in $u?t+"":Wu,e):r},e.ticks=function(){return arguments.length?(a=arguments,e):a},e.tickValues=function(t){return arguments.length?(u=t,e):u},e.tickFormat=function(n){return arguments.length?(t=n,e):t},e.tickSize=function(t){var n=arguments.length;return n?(i=+t,o=+arguments[n-1],e):i},e.innerTickSize=function(t){return arguments.length?(i=+t,e):i},e.outerTickSize=function(t){return arguments.length?(o=+t,e):o},e.tickPadding=function(t){return arguments.length?(s=+t,e):s},e.tickSubdivide=function(){return arguments.length&&e},e};var Wu="bottom",$u={top:1,right:1,bottom:1,left:1};as.svg.brush=function(){function e(o){o.each(function(){var o=as.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",i).on("touchstart.brush",i),s=o.selectAll(".background").data([0]);s.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),o.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var a=o.selectAll(".resize").data(m,x);a.exit().remove(),a.enter().append("g").attr("class",function(e){return"resize "+e}).style("cursor",function(e){return qu[e]}).append("rect").attr("x",function(e){return/[ew]$/.test(e)?-3:null}).attr("y",function(e){return/^[ns]/.test(e)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),a.style("display",e.empty()?"none":null);var u,p=as.transition(o),h=as.transition(s);l&&(u=Hi(l),h.attr("x",u[0]).attr("width",u[1]-u[0]),n(p)),c&&(u=Hi(c),h.attr("y",u[0]).attr("height",u[1]-u[0]),r(p)),t(p)})}function t(e){e.selectAll(".resize").attr("transform",function(e){return"translate("+p[+/e$/.test(e)]+","+h[+/^s/.test(e)]+")"})}function n(e){e.select(".extent").attr("x",p[0]),e.selectAll(".extent,.n>rect,.s>rect").attr("width",p[1]-p[0])}function r(e){e.select(".extent").attr("y",h[0]),e.selectAll(".extent,.e>rect,.w>rect").attr("height",h[1]-h[0])}function i(){function i(){32==as.event.keyCode&&(T||(b=null,k[0]-=p[1],k[1]-=h[1],T=2),D())}function m(){32==as.event.keyCode&&2==T&&(k[0]+=p[1],k[1]+=h[1],T=0,D())}function g(){var e=as.mouse(w),i=!1;_&&(e[0]+=_[0],e[1]+=_[1]),T||(as.event.altKey?(b||(b=[(p[0]+p[1])/2,(h[0]+h[1])/2]),k[0]=p[+(e[0]<b[0])],k[1]=h[+(e[1]<b[1])]):b=null),M&&v(e,l,0)&&(n(N),i=!0),S&&v(e,c,1)&&(r(N),i=!0),i&&(t(N),x({type:"brush",mode:T?"move":"resize"}))}function v(e,t,n){var r,i,s=Hi(t),u=s[0],l=s[1],c=k[n],m=n?h:p,g=m[1]-m[0];return T&&(u-=c,l-=g+c),r=(n?d:f)?Math.max(u,Math.min(l,e[n])):e[n],T?i=(r+=c)+g:(b&&(c=Math.max(u,Math.min(l,2*b[n]-r))),r>c?(i=r,r=c):i=c),m[0]!=r||m[1]!=i?(n?a=null:o=null,m[0]=r,m[1]=i,!0):void 0}function y(){g(),N.style("pointer-events","all").selectAll(".resize").style("display",e.empty()?"none":null),as.select("body").style("cursor",null),O.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),P(),x({type:"brushend"})}var b,_,w=this,E=as.select(as.event.target),x=u.of(w,arguments),N=as.select(w),C=E.datum(),M=!/^(n|s)$/.test(C)&&l,S=!/^(e|w)$/.test(C)&&c,T=E.classed("extent"),P=ee(w),k=as.mouse(w),O=as.select(s(w)).on("keydown.brush",i).on("keyup.brush",m);if(as.event.changedTouches?O.on("touchmove.brush",g).on("touchend.brush",y):O.on("mousemove.brush",g).on("mouseup.brush",y),N.interrupt().selectAll("*").interrupt(),T)k[0]=p[0]-k[0],k[1]=h[0]-k[1];else if(C){var A=+/w$/.test(C),j=+/^n/.test(C);_=[p[1-A]-k[0],h[1-j]-k[1]],k[0]=p[A],k[1]=h[j]}else as.event.altKey&&(b=k.slice());N.style("pointer-events","none").selectAll(".resize").style("display",null),as.select("body").style("cursor",E.style("cursor")),x({type:"brushstart"}),g()}var o,a,u=k(e,"brushstart","brush","brushend"),l=null,c=null,p=[0,0],h=[0,0],f=!0,d=!0,m=Ku[0];return e.event=function(e){e.each(function(){var e=u.of(this,arguments),t={x:p,y:h,i:o,j:a},n=this.__chart__||t;this.__chart__=t,Uu?as.select(this).transition().each("start.brush",function(){o=n.i,a=n.j,p=n.x,h=n.y,e({type:"brushstart"})}).tween("brush:brush",function(){var n=Nr(p,t.x),r=Nr(h,t.y);return o=a=null,function(i){p=t.x=n(i),h=t.y=r(i),e({type:"brush",mode:"resize"})}}).each("end.brush",function(){o=t.i,a=t.j,e({type:"brush",mode:"resize"}),e({type:"brushend"})}):(e({type:"brushstart"}),e({type:"brush",mode:"resize"}),e({type:"brushend"}))})},e.x=function(t){return arguments.length?(l=t,m=Ku[!l<<1|!c],e):l},e.y=function(t){return arguments.length?(c=t,m=Ku[!l<<1|!c],e):c},e.clamp=function(t){return arguments.length?(l&&c?(f=!!t[0],d=!!t[1]):l?f=!!t:c&&(d=!!t),e):l&&c?[f,d]:l?f:c?d:null},e.extent=function(t){var n,r,i,s,u;return arguments.length?(l&&(n=t[0],r=t[1],c&&(n=n[0],r=r[0]),o=[n,r],l.invert&&(n=l(n),r=l(r)),n>r&&(u=n,n=r,r=u),(n!=p[0]||r!=p[1])&&(p=[n,r])),c&&(i=t[0],s=t[1],l&&(i=i[1],s=s[1]),a=[i,s],c.invert&&(i=c(i),s=c(s)),i>s&&(u=i,i=s,s=u),(i!=h[0]||s!=h[1])&&(h=[i,s])),e):(l&&(o?(n=o[0],r=o[1]):(n=p[0],r=p[1],l.invert&&(n=l.invert(n),r=l.invert(r)),n>r&&(u=n,n=r,r=u))),c&&(a?(i=a[0],s=a[1]):(i=h[0],s=h[1],c.invert&&(i=c.invert(i),s=c.invert(s)),i>s&&(u=i,i=s,s=u))),l&&c?[[n,i],[r,s]]:l?[n,r]:c&&[i,s])},e.clear=function(){return e.empty()||(p=[0,0],h=[0,0],o=a=null),e},e.empty=function(){return!!l&&p[0]==p[1]||!!c&&h[0]==h[1]},as.rebind(e,u,"on")};var qu={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Ku=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Gu=fa.format=ba.timeFormat,Yu=Gu.utc,Xu=Yu("%Y-%m-%dT%H:%M:%S.%LZ");Gu.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?ns:Xu,ns.parse=function(e){var t=new Date(e);return isNaN(t)?null:t},ns.toString=Xu.toString,fa.second=We(function(e){return new da(1e3*Math.floor(e/1e3))},function(e,t){e.setTime(e.getTime()+1e3*Math.floor(t))},function(e){return e.getSeconds()}),fa.seconds=fa.second.range,fa.seconds.utc=fa.second.utc.range,fa.minute=We(function(e){return new da(6e4*Math.floor(e/6e4))},function(e,t){e.setTime(e.getTime()+6e4*Math.floor(t))},function(e){return e.getMinutes()}),fa.minutes=fa.minute.range,fa.minutes.utc=fa.minute.utc.range,fa.hour=We(function(e){var t=e.getTimezoneOffset()/60;return new da(36e5*(Math.floor(e/36e5-t)+t))},function(e,t){e.setTime(e.getTime()+36e5*Math.floor(t))},function(e){return e.getHours()}),fa.hours=fa.hour.range,fa.hours.utc=fa.hour.utc.range,fa.month=We(function(e){return e=fa.day(e),e.setDate(1),e},function(e,t){e.setMonth(e.getMonth()+t)},function(e){return e.getMonth()}),fa.months=fa.month.range,fa.months.utc=fa.month.utc.range;var Ju=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Qu=[[fa.second,1],[fa.second,5],[fa.second,15],[fa.second,30],[fa.minute,1],[fa.minute,5],[fa.minute,15],[fa.minute,30],[fa.hour,1],[fa.hour,3],[fa.hour,6],[fa.hour,12],[fa.day,1],[fa.day,2],[fa.week,1],[fa.month,1],[fa.month,3],[fa.year,1]],Zu=Gu.multi([[".%L",function(e){return e.getMilliseconds()}],[":%S",function(e){return e.getSeconds()}],["%I:%M",function(e){return e.getMinutes()}],["%I %p",function(e){return e.getHours()}],["%a %d",function(e){return e.getDay()&&1!=e.getDate()}],["%b %d",function(e){return 1!=e.getDate()}],["%B",function(e){return e.getMonth()}],["%Y",At]]),el={range:function(e,t,n){return as.range(Math.ceil(e/n)*n,+t,n).map(is)},floor:x,ceil:x};Qu.year=fa.year,fa.scale=function(){return rs(as.scale.linear(),Qu,Zu)};var tl=Qu.map(function(e){return[e[0].utc,e[1]]}),nl=Yu.multi([[".%L",function(e){return e.getUTCMilliseconds()}],[":%S",function(e){return e.getUTCSeconds()}],["%I:%M",function(e){return e.getUTCMinutes()}],["%I %p",function(e){return e.getUTCHours()}],["%a %d",function(e){return e.getUTCDay()&&1!=e.getUTCDate()}],["%b %d",function(e){return 1!=e.getUTCDate()}],["%B",function(e){return e.getUTCMonth()}],["%Y",At]]);tl.year=fa.year.utc,fa.scale.utc=function(){return rs(as.scale.linear(),tl,nl)},as.text=Oe(function(e){return e.responseText}),as.json=function(e,t){return Ae(e,"application/json",os,t)},as.html=function(e,t){return Ae(e,"text/html",ss,t)},as.xml=Oe(function(e){return e.responseXML}),r=as,i="function"==typeof r?r.call(t,n,t,e):r,!(void 0!==i&&(e.exports=i)),this.d3=as}()},,,function(e,t){e.exports={"@metadata":{locale:"en"},"alarms.anchorAlarmMethod":{shortName:"Anchor Alarm Method",longName:"Anchor Alarm Method"},"alarms.anchorAlarmState":{shortName:"Anchor Alarm State",longName:"Anchor Alarm State"},"alarms.autopilotAlarmMethod":{shortName:"Autopilot Alarm Method",longName:"Autopilot Alarm Method"},"alarms.autopilotAlarmState":{shortName:"Autopilot Alarm State",longName:"Autopilot Alarm State"},"alarms.engineAlarmMethod":{shortName:"Engine Alarm Method",longName:"Engine Alarm Method"},"alarms.engineAlarmState":{shortName:"Engine Alarm State",longName:"Engine Alarm State"},"alarms.fireAlarmMethod":{shortName:"Fire Alarm Method",longName:"Fire Alarm Method"},"alarms.fireAlarmState":{shortName:"Fire Alarm State",longName:"Fire Alarm State"},"alarms.gasAlarmMethod":{shortName:"Gas Alarm Method",longName:"Gas Alarm Method"},"alarms.gasAlarmState":{shortName:"Gas Alarm State",longName:"Gas Alarm State"},"alarms.gpsAlarmMethod":{shortName:"GPS Alarm Method",longName:"GPS Alarm Method"},"alarms.gpsAlarmState":{shortName:"GPS Alarm State",longName:"GPS Alarm State"},"alarms.maydayAlarmMethod":{shortName:"Mayday Alarm Method",longName:"Mayday Alarm Method"},"alarms.maydayAlarmState":{shortName:"Mayday Alarm State",longName:"Mayday Alarm State"},"alarms.panpanAlarmMethod":{shortName:"Panpan Alarm Method",longName:"Panpan Alarm Method"},"alarms.panpanAlarmState":{shortName:"Panpan Alarm State",longName:"Panpan Alarm State"},"alarms.powerAlarmMethod":{shortName:"Power Alarm Method",longName:"Power Alarm Method"},"alarms.powerAlarmState":{shortName:"Power Alarm State",longName:"Power Alarm State"},"alarms.silentInterval":{shortName:"Silent Interval",longName:"Silent Interval"},"alarms.windAlarmMethod":{shortName:"Wind Alarm Method",longName:"Wind Alarm Method"},"alarms.windAlarmState":{shortName:"Wind Alarm State",longName:"Wind Alarm State"},"communication.callsignDsc":{shortName:"Callsign DSC",longName:"Callsign Digital Selective Calling"},"communication.callsignHf":{shortName:"Callsign HF",longName:"Callsign HF Radio"},"communication.callsignVhf":{shortName:"Callsign VHF",longName:"Callsign VHF Radio"},"communication.cellPhone":{shortName:"Cell Phone",longName:"Cell Phone Number"},"communication.emailHf":{shortName:"Email HF",longName:"Email HF"},"communication.email":{shortName:"Email",longName:"Email Address"},"communication.satPhone":{shortName:"Sat Phone",longName:"Satellite Phone"},"communication.skipperName":{shortName:"Skipper Name",longName:"Skipper Name"},"communication.crewNames":{shortName:"Crew Names",longName:"Crew Names"},"design.name":{shortName:"Name",longName:"Common Name"},"design.displacement":{shortName:"Displacement",longName:"Displacement"},"design.draft":{shortName:"Draft",longName:"Draft in Meters"},"design.canoeDraft":{shortName:"Canoe Draft",longName:"Canoe Draft in Meters"},"design.loa":{shortName:"LOA",longName:"Length Overall in Meters"},"design.loh":{shortName:"LOH",longName:"Length Over Hull in Meters"},"design.lwl":{shortName:"LWL",longName:"Waterline Length in Meters"},"design.beam":{shortName:"Beam",longName:"Beam in Meters"},"design.sailArea":{shortName:"Sail Area",longName:"Sail Area in Square Meters"},"design.airHeight":{shortName:"Air Height",longName:"Air Height in Meters"},"environment.airPressureChangeRateAlarm":{shortName:"Air Pressure Change Rate Alarm",longName:"Air Pressure Change Rate Alarm in kPa"},"environment.airPressure":{shortName:"Air Pressure",longName:"Air Pressure in kPa"},"environment.airTemp":{shortName:"Air Temperature",longName:"Air Temperature in Celsius"},"environment.depth":{shortName:"Depth",longName:"Depth in Meters"},"environment.depth.belowKeel":{shortName:"DBK",longName:"Depth Below Keel",unit:"m"},"environment.depth.belowTransducer":{shortName:"DBT",longName:"Depth Below Transducer",unit:"m"},"environment.depth.belowSurface":{shortName:"Depth Below Surface",longName:"Depth Below Surface in Meters"},"environment.depth.transducerToKeel":{shortName:"Depth Transducer to Keel",longName:"Depth Transducer to Keel in Meters"},"environment.depth.surfaceToTransducer":{shortName:"Depth Surface to Transducer",longName:"Depth Surface to Transducer in Meters"},"environment.humidity":{shortName:"Humidity",longName:"Relative Humidity"},"environment.salinity":{shortName:"Salinity",longName:"Water Salinity"},"environment.tide":{shortName:"Tide",longName:"Tide Data"},"environment.tide.heightHigh":{shortName:"High Tide Height",longName:"High tide Height in Meters"},"environment.tide.heightNow":{
shortName:"Current Tide Height",longName:"Current Tide Height in Meters"},"environment.tide.heightLow":{shortName:"Low Tide Height",longName:"Low tide Height in Meters"},"environment.tide.timeLow":{shortName:"Low Tide Time",longName:"Time of Next Low Tide"},"environment.tide.timeHigh":{shortName:"High Tide Time",longName:"Time of Next Low Tide"},"environment.waterTemp":{shortName:"Water Temperature",longName:"Water Temperature in Celsius"},"environment.wind":{shortName:"Wind",longName:"Wind Data"},"environment.wind.angleApparent":{shortName:"Angle Apparent",longName:"Apparent Wind Angle"},"environment.wind.angleTrue":{shortName:"Angle True",longName:"True Wind Angle"},"environment.wind.directionChangeAlarm":{shortName:"Direction Change Alarm",longName:"Wind Direction Change to Raise Alarm"},"environment.wind.directionTrue":{shortName:"Direction True",longName:"True Wind Direction"},"environment.wind.directionMagnetic":{shortName:"Direction Magnetic",longName:"Wind Direction Magnetic"},"environment.wind.speedAlarm":{shortName:"Speed Alarm",longName:"Wind Speed Alarm in Meters/Second"},"environment.wind.speedTrue":{shortName:"Speed True",longName:"True Wind Speed in Meters/Second"},"environment.wind.speedOverGround":{shortName:"TWS",longName:"Wind Speed Over Ground in Meters/Second"},"environment.wind.speedApparent":{shortName:"AWS",longName:"Apparent Wind Speed in Meters/Second"},"navigation.courseOverGroundTrue":{shortName:"COG(t)",longName:"Course Over Ground, True"},"navigation.courseOverGroundMagnetic":{shortName:"COG(m)",longName:"Course Over Ground, Magnetic"},"navigation.activeRoute":{shortName:"Active Route",longName:"Active Route"},"navigation.activeRoute.timestamp":{shortName:"Timestamp",longName:"Active Route Timestamp"},"navigation.activeRoute.source":{shortName:"Source",longName:"Active Route Source"},"navigation.activeRoute.bearingActual":{shortName:"Actual Bearing",longName:"Active Route Actual Bearing"},"navigation.activeRoute.bearingDirect":{shortName:"Direct Bearing",longName:"Active Route Direct Bearing"},"navigation.activeRoute.courseRequired":{shortName:"Required Course",longName:"Active Route Required Course"},"navigation.activeRoute.eta":{shortName:"ETA",longName:"Active Route Estimated Time of Arrival"},"navigation.activeRoute.route":{shortName:"Route",longName:"Active Route - Route From Route List"},"navigation.activeRoute.startTime":{shortName:"Start Time",longName:"Active Route Start Time"},"navigation.activeRoute.waypoint":{shortName:"Waypoint",longName:"Active Route Waypoint"},"navigation.activeRoute.waypoint.lastTime":{shortName:"AR Waypoint TLR",longName:"Active Route Waypoint Time Last Reached"},"navigation.activeRoute.waypoint.last":{shortName:"Waypoint Last",longName:"Active Route Waypoint Last"},"navigation.activeRoute.waypoint.nextEta":{shortName:"Waypoint Next ETA",longName:"Active Route Waypoint Next Estimated Time of Arrival"},"navigation.activeRoute.waypoint.next":{shortName:"Waypoint Next",longName:"Active Route Next Waypoint"},"navigation.activeRoute.waypoint.xte":{shortName:"Waypoint XTE",longName:"Active Route Waypoint Cross Track Error in Meters"},"navigation.magneticVariation":{shortName:"Magnetic Variation",longName:"Magnetic Variation at Current Position"},"navigation.destination":{shortName:"Destination",longName:"Trip Destination"},"navigation.destination.eta":{shortName:"ETA",longName:"Estimated Time of Arrival"},"navigation.destination.source":{shortName:"Source",longName:"Source of Data"},"navigation.destination.timestamp":{shortName:"Timestamp",longName:"Timestamp of Last Update"},"navigation.destination.longitude":{shortName:"Longitude",longName:"Longitude od Destination"},"navigation.destination.latitude":{shortName:"Latitude",longName:"Latitude of Destination"},"navigation.destination.altitude":{shortName:"Altitude",longName:"Altitude of Destination"},"navigation.current":{shortName:"Current",longName:"Current"},"navigation.current.timestamp":{shortName:"Timestamp",longName:"Timestamp"},"navigation.current.drift":{shortName:"Drift",longName:"Current Drift"},"navigation.current.setTrue":{shortName:"Set True",longName:"Current Set True"},"navigation.current.setMagnetic":{shortName:"Set Magnetic",longName:"Current Set Magnetic"},"navigation.gnss":{shortName:"GNSS",longName:"Global Navigation Satellite System"},"navigation.gnss.timestamp":{shortName:"Timestamp",longName:"Timestamp"},"navigation.gnss.quality":{shortName:"Quality",longName:"Quality of Fix"},"navigation.gnss.satellites":{shortName:"Number",longName:"Number of Satellites"},"navigation.gnss.antennaAltitude":{shortName:"Antenna Altitude",longName:"Altitude of Antenna"},"navigation.gnss.horizontalDilution":{shortName:"Horizontal Dilution",longName:"Horizontal Position Error"},"navigation.gnss.geoidalSeparation":{shortName:"Geoidal Separation",longName:"Geoidal Separation"},"navigation.gnss.differentialAge":{shortName:"DGPS Age",longName:"DGPS Age in Seconds"},"navigation.gnss.differentialReference":{shortName:"Differential Reference",longName:"DGPS Base Station ID"},"navigation.headingMagnetic":{shortName:"Heading Magnetic",longName:"Heading Magnetic in Degrees"},"navigation.headingTrue":{shortName:"Heading True",longName:"Heading True in Degrees"},"navigation.position":{shortName:"Position 3D",longName:"Position in 3 Dimensions"},"navigation.position.source":{shortName:"Source",longName:"Source of Data"},"navigation.position.timestamp":{shortName:"Timestamp",longName:"Timestamp of Last Update"},"navigation.position.longitude":{shortName:"Longitude",longName:"Current Longitude"},"navigation.position.latitude":{shortName:"Latitude",longName:"Current Latitude"},"navigation.position.altitude":{shortName:"Altitude",longName:"Current Altitude"},"navigation.pitch":{shortName:"Pitch",longName:"Pitch in Degrees"},"navigation.yaw":{shortName:"Yaw",longName:"Yaw in Degrees"},"navigation.rateOfTurn":{shortName:"Rate of Turn",longName:"Rate of Turn in Degrees/Second"},"navigation.roll":{shortName:"Roll",longName:"Roll in Degrees"},"navigation.speedOverGround":{shortName:"SOG",longName:"Speed Over Ground",unit:"mps"},"navigation.speedThroughWater":{shortName:"STW",longName:"Speed Through Water",unit:"mps"},"navigation.log":{shortName:"Log",longName:"Log in Nautical Miles"},"navigation.logTrip":{shortName:"Trip Log",longName:"Trip Log in Nautical Miles"},"navigation.state":{shortName:"State",longName:"Navigational State of Vessel"},"navigation.state.source":{shortName:"Source",longName:"Source of Data"},"navigation.state.timestamp":{shortName:"Timestamp",longName:"Timestamp"},"navigation.state.value":{shortName:"Value",longName:"Value"},"navigation.anchor":{shortName:"Anchor",longName:"Anchor Data"},"navigation.anchor.source":{shortName:"Source",longName:"Source of Data"},"navigation.anchor.timestamp":{shortName:"Timestamp",longName:"Timestamp"},"navigation.anchor.maxRadius":{shortName:"Max Radius",longName:"Maximum Anchor Radius in Meters"},"navigation.anchor.currentRadius":{shortName:"Current Radius",longName:"Distance to Anchor in Meters"},"navigation.anchor.position":{shortName:"Anchor Position",longName:"Anchor Position 3D"},"navigation.anchor.position.source":{shortName:"Source",longName:"Source of Data"},"navigation.anchor.position.timestamp":{shortName:"Timestamp",longName:"Timestamp"},"navigation.anchor.position.longitude":{shortName:"Longitude",longName:"Longitude of Anchor Position"},"navigation.anchor.position.latitude":{shortName:"Latitude",longName:"Latitude of Anchor Position"},"navigation.anchor.position.altitude":{shortName:"Altitude",longName:"Altitude of Anchor Position"},"propulsion.engineType":{shortName:"Engine Type",longName:"Type of Engine"},"propulsion.state":{shortName:"State",longName:"State of Engine"},"propulsion.rpm":{shortName:"RPM",longName:"Revolutions Per Minute"},"propulsion.rpmAlarm":{shortName:"RPM Alarm",longName:"RPM Limit to Raise Alarm"},"propulsion.engineTemperature":{shortName:"Engine Temperature",longName:"Engine Temperature in Degrees Celsius"},"propulsion.engineTemperatureAlarm":{shortName:"Engine Temperature Alarm",longName:"Engine Temperature in Degrees Celsius to Raise Alarm"},"propulsion.oilTemperature":{shortName:"Oil Temperature",longName:"Oil Temperature in Degrees Celsius"},"propulsion.oilTemperatureAlarm":{shortName:"Oil Temperature Alarm",longName:"Oil Temperature in Degrees Celsius to Raise Alarm"},"propulsion.oilPressure":{shortName:"Oil Pressure",longName:"Oil Pressure in kPa"},"propulsion.oilPressureAlarm":{shortName:"Oil Pressure Alarm",longName:"Oil Pressure Alarm in kPa to Raise Alarm"},"propulsion.waterTemp":{shortName:"Water Temperature",longName:"Water Temperature in Degrees Celsius"},"propulsion.waterTempAlarm":{shortName:"Water Temperature Alarm",longName:"Water Temperature in Degrees Celsius to Raise Alarm"},"propulsion.exhaustTemp":{shortName:"Exhaust Temperature",longName:"Exhaust Temperature in Degrees Celsius"},"propulsion.exhaustTempAlarm":{shortName:"Exhaust Temperature Alarm",longName:"Exhaust Temperature in Degrees Celsius to Raise Alarm"},"propulsion.fuelUsageRate":{shortName:"Fuel Usage Rate",longName:"Fuel Usage Rate in Liters/Hour"},"resources.charts":{shortName:"Charts",longName:"Charts"},"resources.charts.name":{shortName:"Name",longName:"Chart Name"},"resources.charts.identifier":{shortName:"Identifier",longName:"Chart Number"},"resources.charts.description":{shortName:"Description",longName:"Chart Description"},"resources.charts.tilemapUrl":{shortName:"Tile Map URL",longName:"Tile Map URL"},"resources.charts.chartUrl":{shortName:"Chart URL",longName:"URL to Chart Storage Location"},"resources.charts.chartFormat":{shortName:"Chart Format",longName:"Chart Format"},"resources.routes":{shortName:"Routes",longName:"Routes"},"resources.routes.name":{shortName:"Route Name",longName:"Route Common Name"},"resources.routes.description":{shortName:"Description",longName:"Route Description"},"resources.routes.distance":{shortName:"Distance",longName:"Distance of Route "},"resources.routes.waypoints":{shortName:"Waypoints",longName:"Route Waypoints"},"resources.notes":{shortName:"Notes",longName:"Notes"},"resources.notes.title":{shortName:"Title",longName:"Common Name of Area"},"resources.notes.description":{shortName:"Description",longName:"Description of Notes"},"resources.notes.region":{shortName:"Region",longName:"Region UUID"},"resources.notes.mimeType":{shortName:"MIME Type",longName:"MIME Type"},"resources.notes.url":{shortName:"URL",longName:"URL"},"resources.regions":{shortName:"Regions",longName:"Regions"},"resources.regions.name":{shortName:"Name",longName:"Common Name of Region"},"resources.regions.description":{shortName:"Description",longName:"Description"},"resources.regions.waypoints":{shortName:"Waypoints",longName:"Set of Waypoints Describing Boundary of Region"},"resources.waypoints":{shortName:"Waypoints",longName:"Waypoints"},"resources.waypoints.name":{shortName:"Name",longName:"Name of Waypoint"},"resources.waypoints.position":{shortName:"Position",longName:"Position of Waypoint in 3D"},"resources.waypoints.position.source":{shortName:"Source",longName:"Source of Waypoint Position Data"},"resources.waypoints.position.timestamp":{shortName:"Timestamp",longName:"Timestamp of Last Update"},"resources.waypoints.position.longitude":{shortName:"Longitude",longName:"Longitude of Waypoint"},"resources.waypoints.position.latitude":{shortName:"Latitude",longName:"Latitude of Waypoint"},"resources.waypoints.position.altitude":{shortName:"Altitude",longName:"Altitude of Waypoint"},"resources.waypoints.description":{shortName:"Description",longName:"Description of Waypoint"},"resources.waypoints.type":{shortName:"Type",longName:"Type of Waypoint"},"sensors.name":{shortName:"Name",longName:"Name of Sensor"},"sensors.sensorType":{shortName:"Sensor Type",longName:"Sensor Type"},"sensors.sensorData":{shortName:"Sensor Data",longName:"Sensor Data"},"sensors.fromBow":{shortName:"From Bow",longName:"Distance From Bow in Meters"},"sensors.fromCenter":{shortName:"From Center",longName:"Distance From Center in Meters"},"steering.rudderAngle":{shortName:"Rudder Angle",longName:"Rudder Angle in Degrees"},"steering.rudderAngleTarget":{shortName:"Rudder Angle Target",longName:"Rudder Angle Target in Degrees"},"steering.autopilot":{shortName:"Autopilot",longName:"Autopilot Data"},"steering.autopilot.state":{shortName:"State",longName:"Autopilot State"},"steering.autopilot.mode":{shortName:"Mode",longName:"Operational Mode of Autopilot"},"steering.autopilot.targetHeadingNorth":{shortName:"Target Heading North",longName:"Target Heading North in Degrees True"},"steering.autopilot.targetHeadingMagnetic":{shortName:"Target Heading Magnetic",longName:"Target Heading Magnetic in Degrees True"},"steering.autopilot.alarmHeadingXte":{shortName:"Alarm Heading XTE",longName:"Heading Cross Track Error in Meters to Raise Alarm"},"steering.autopilot.headingSource":{shortName:"Heading Source",longName:"Current Source of Heading"},"steering.autopilot.deadZone":{shortName:"Dead Zone",longName:"Dead Zone for Rudder Corrections in Degrees"},"steering.autopilot.backlash":{shortName:"Backlash",longName:"Rudder Slack in Degrees"},"steering.autopilot.gain":{shortName:"Gain",longName:"Autopilot Gain"},"steering.autopilot.maxDriveAmps":{shortName:"Max Drive Amps",longName:"Maximum Amperage to Drive Servo"},"steering.autopilot.maxDriveRate":{shortName:"Max Drive Rate",longName:"Maximum Degrees/Second to Turn Rudder"},"steering.autopilot.portLock":{shortName:"Port Lock",longName:"Position of Servo on Port Lock"},"steering.autopilot.starboardLock":{shortName:"Starboard Lock",longName:"Position of Servo on Starboard Lock"}}},,function(e,t,n){var r=n(1),i=n(113),o=r.createClass({displayName:"Accordion",render:function(){return r.createElement(i,r.__spread({},this.props,{accordion:!0}),this.props.children)}});e.exports=o},function(e,t,n){var r=n(1),i=n(4),o=n(109),s=n(43),a=r.createClass({displayName:"Affix",statics:{domUtils:s},mixins:[o],render:function(){var e={top:this.state.affixPositionTop};return r.createElement("div",r.__spread({},this.props,{className:i(this.props.className,this.state.affixClass),style:e}),this.props.children)}});e.exports=a},function(e,t,n){var r=n(1),i=n(4),o=n(5),s=n(6),a=r.createClass({displayName:"Alert",mixins:[s],propTypes:{onDismiss:r.PropTypes.func,dismissAfter:r.PropTypes.number},getDefaultProps:function(){return{bsClass:"alert",bsStyle:"info"}},renderDismissButton:function(){return r.createElement("button",{type:"button",className:"close",onClick:this.props.onDismiss,"aria-hidden":"true"},"")},render:function(){var e=this.getBsClassSet(),t=!!this.props.onDismiss;return e["alert-dismissable"]=t,r.createElement("div",r.__spread({},this.props,{className:i(this.props.className,o(e))}),t?this.renderDismissButton():null,this.props.children)},componentDidMount:function(){this.props.dismissAfter&&this.props.onDismiss&&(this.dismissTimer=setTimeout(this.props.onDismiss,this.props.dismissAfter))},componentWillUnmount:function(){clearTimeout(this.dismissTimer)}});e.exports=a},function(e,t,n){var r=n(1),i=n(4),o=n(12),s=n(5),a=r.createClass({displayName:"Badge",propTypes:{pullRight:r.PropTypes.bool},hasContent:function(){return o.hasValidComponent(this.props.children)||"string"==typeof this.props.children||"number"==typeof this.props.children},render:function(){var e={"pull-right":this.props.pullRight,badge:this.hasContent()};return r.createElement("span",r.__spread({},this.props,{className:i(this.props.className,s(e))}),this.props.children)}});e.exports=a},function(e,t,n){var r=n(1),i=n(4),o=n(5),s=n(6),a=(n(27),r.createClass({displayName:"ButtonToolbar",mixins:[s],getDefaultProps:function(){return{bsClass:"button-toolbar"}},render:function(){var e=this.getBsClassSet();return r.createElement("div",r.__spread({},this.props,{role:"toolbar",className:i(this.props.className,o(e))}),this.props.children)}}));e.exports=a},function(e,t,n){var r=n(1),i=n(4),o=n(5),s=n(11),a=n(6),u=n(12),l=r.createClass({displayName:"Carousel",mixins:[a],propTypes:{slide:r.PropTypes.bool,indicators:r.PropTypes.bool,controls:r.PropTypes.bool,pauseOnHover:r.PropTypes.bool,wrap:r.PropTypes.bool,onSelect:r.PropTypes.func,onSlideEnd:r.PropTypes.func,activeIndex:r.PropTypes.number,defaultActiveIndex:r.PropTypes.number,direction:r.PropTypes.oneOf(["prev","next"])},getDefaultProps:function(){return{slide:!0,interval:5e3,pauseOnHover:!0,wrap:!0,indicators:!0,controls:!0}},getInitialState:function(){return{activeIndex:null==this.props.defaultActiveIndex?0:this.props.defaultActiveIndex,previousActiveIndex:null,direction:null}},getDirection:function(e,t){return e===t?null:e>t?"prev":"next"},componentWillReceiveProps:function(e){var t=this.getActiveIndex();null!=e.activeIndex&&e.activeIndex!==t&&(clearTimeout(this.timeout),this.setState({previousActiveIndex:t,direction:null!=e.direction?e.direction:this.getDirection(t,e.activeIndex)}))},componentDidMount:function(){this.waitForNext()},componentWillUnmount:function(){clearTimeout(this.timeout)},next:function(e){e&&e.preventDefault();var t=this.getActiveIndex()+1,n=u.numberOf(this.props.children);if(t>n-1){if(!this.props.wrap)return;t=0}this.handleSelect(t,"next")},prev:function(e){e&&e.preventDefault();var t=this.getActiveIndex()-1;if(0>t){if(!this.props.wrap)return;t=u.numberOf(this.props.children)-1}this.handleSelect(t,"prev")},pause:function(){this.isPaused=!0,clearTimeout(this.timeout)},play:function(){this.isPaused=!1,this.waitForNext()},waitForNext:function(){!this.isPaused&&this.props.slide&&this.props.interval&&null==this.props.activeIndex&&(this.timeout=setTimeout(this.next,this.props.interval))},handleMouseOver:function(){this.props.pauseOnHover&&this.pause()},handleMouseOut:function(){this.isPaused&&this.play()},render:function(){var e={carousel:!0,slide:this.props.slide};return r.createElement("div",r.__spread({},this.props,{className:i(this.props.className,o(e)),onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut}),this.props.indicators?this.renderIndicators():null,r.createElement("div",{className:"carousel-inner",ref:"inner"},u.map(this.props.children,this.renderItem)),this.props.controls?this.renderControls():null)},renderPrev:function(){return r.createElement("a",{className:"left carousel-control",href:"#prev",key:0,onClick:this.prev},r.createElement("span",{className:"glyphicon glyphicon-chevron-left"}))},renderNext:function(){return r.createElement("a",{className:"right carousel-control",href:"#next",key:1,onClick:this.next},r.createElement("span",{className:"glyphicon glyphicon-chevron-right"}))},renderControls:function(){if(this.props.wrap){var e=this.getActiveIndex(),t=u.numberOf(this.props.children);return[0!==e?this.renderPrev():null,e!==t-1?this.renderNext():null]}return[this.renderPrev(),this.renderNext()]},renderIndicator:function(e,t){var n=t===this.getActiveIndex()?"active":null;return r.createElement("li",{key:t,className:n,onClick:this.handleSelect.bind(this,t,null)})},renderIndicators:function(){var e=[];return u.forEach(this.props.children,function(t,n){e.push(this.renderIndicator(t,n)," ")},this),r.createElement("ol",{className:"carousel-indicators"},e)},getActiveIndex:function(){return null!=this.props.activeIndex?this.props.activeIndex:this.state.activeIndex},handleItemAnimateOutEnd:function(){this.setState({previousActiveIndex:null,direction:null},function(){this.waitForNext(),this.props.onSlideEnd&&this.props.onSlideEnd()})},renderItem:function(e,t){var n=this.getActiveIndex(),r=t===n,i=null!=this.state.previousActiveIndex&&this.state.previousActiveIndex===t&&this.props.slide;return s(e,{active:r,ref:e.ref,key:e.key?e.key:t,index:t,animateOut:i,animateIn:r&&null!=this.state.previousActiveIndex&&this.props.slide,direction:this.state.direction,onAnimateOutEnd:i?this.handleItemAnimateOutEnd:null})},handleSelect:function(e,t){clearTimeout(this.timeout);var n=this.getActiveIndex();if(t=t||this.getDirection(n,e),this.props.onSelect&&this.props.onSelect(e,t),null==this.props.activeIndex&&e!==n){if(null!=this.state.previousActiveIndex)return;this.setState({activeIndex:e,previousActiveIndex:n,direction:t})}}});e.exports=l},function(e,t,n){var r=n(1),i=n(4),o=n(5),s=n(74),a=r.createClass({displayName:"CarouselItem",propTypes:{direction:r.PropTypes.oneOf(["prev","next"]),onAnimateOutEnd:r.PropTypes.func,active:r.PropTypes.bool,caption:r.PropTypes.node},getInitialState:function(){return{direction:null}},getDefaultProps:function(){return{animation:!0}},handleAnimateOutEnd:function(){this.props.onAnimateOutEnd&&this.isMounted()&&this.props.onAnimateOutEnd(this.props.index)},componentWillReceiveProps:function(e){this.props.active!==e.active&&this.setState({direction:null})},componentDidUpdate:function(e){!this.props.active&&e.active&&s.addEndEventListener(this.getDOMNode(),this.handleAnimateOutEnd),this.props.active!==e.active&&setTimeout(this.startAnimation,20)},startAnimation:function(){this.isMounted()&&this.setState({direction:"prev"===this.props.direction?"right":"left"})},render:function(){var e={item:!0,active:this.props.active&&!this.props.animateIn||this.props.animateOut,next:this.props.active&&this.props.animateIn&&"next"===this.props.direction,prev:this.props.active&&this.props.animateIn&&"prev"===this.props.direction};return this.state.direction&&(this.props.animateIn||this.props.animateOut)&&(e[this.state.direction]=!0),r.createElement("div",r.__spread({},this.props,{className:i(this.props.className,o(e))}),this.props.children,this.props.caption?this.renderCaption():null)},renderCaption:function(){return r.createElement("div",{className:"carousel-caption"},this.props.caption)}});e.exports=a},function(e,t,n){var r=n(1),i=n(4),o=n(5),s=n(71),a=r.createClass({displayName:"Col",propTypes:{xs:r.PropTypes.number,sm:r.PropTypes.number,md:r.PropTypes.number,lg:r.PropTypes.number,xsOffset:r.PropTypes.number,smOffset:r.PropTypes.number,mdOffset:r.PropTypes.number,lgOffset:r.PropTypes.number,xsPush:r.PropTypes.number,smPush:r.PropTypes.number,mdPush:r.PropTypes.number,lgPush:r.PropTypes.number,xsPull:r.PropTypes.number,smPull:r.PropTypes.number,mdPull:r.PropTypes.number,lgPull:r.PropTypes.number,componentClass:r.PropTypes.node.isRequired},getDefaultProps:function(){return{componentClass:"div"}},render:function(){var e=this.props.componentClass,t={};return Object.keys(s.SIZES).forEach(function(e){var n=s.SIZES[e],r=n,i=n+"-";this.props[r]&&(t["col-"+i+this.props[r]]=!0),r=n+"Offset",i=n+"-offset-",this.props[r]&&(t["col-"+i+this.props[r]]=!0),r=n+"Push",i=n+"-push-",this.props[r]&&(t["col-"+i+this.props[r]]=!0),r=n+"Pull",i=n+"-pull-",this.props[r]&&(t["col-"+i+this.props[r]]=!0)},this),r.createElement(e,r.__spread({},this.props,{className:i(this.props.className,o(t))}),this.props.children)}});e.exports=a},function(e,t,n){var r=n(1),i=n(4),o=n(5),s=n(11),a=n(18),u=n(6),l=n(68),c=n(27),p=n(65),h=n(67),f=n(12),d=r.createClass({displayName:"DropdownButton",mixins:[u,l],propTypes:{pullRight:r.PropTypes.bool,dropup:r.PropTypes.bool,title:r.PropTypes.node,href:r.PropTypes.string,onClick:r.PropTypes.func,onSelect:r.PropTypes.func,navItem:r.PropTypes.bool},render:function(){var e="dropdown-toggle",t=this.props.navItem?"renderNavItem":"renderButtonGroup";return this[t]([r.createElement(c,r.__spread({},this.props,{ref:"dropdownButton",className:i(this.props.className,e),onClick:this.handleDropdownClick,key:0,navDropdown:this.props.navItem,navItem:null,title:null,pullRight:null,dropup:null}),this.props.title," ",r.createElement("span",{className:"caret"})),r.createElement(h,{ref:"menu","aria-labelledby":this.props.id,pullRight:this.props.pullRight,key:1},f.map(this.props.children,this.renderMenuItem))])},renderButtonGroup:function(e){var t={open:this.state.open,dropup:this.props.dropup};return r.createElement(p,{bsSize:this.props.bsSize,className:o(t)},e)},renderNavItem:function(e){var t={dropdown:!0,open:this.state.open,dropup:this.props.dropup};return r.createElement("li",{className:o(t)},e)},renderMenuItem:function(e,t){var n=this.props.onSelect||e.props.onSelect?this.handleOptionSelect:null;return s(e,{onSelect:a(e.props.onSelect,n),key:e.key?e.key:t,ref:e.ref})},handleDropdownClick:function(e){e.preventDefault(),this.setDropdownState(!this.state.open)},handleOptionSelect:function(e){this.props.onSelect&&this.props.onSelect(e),this.setDropdownState(!1)}});e.exports=d},function(e,t,n){var r=n(1),i=n(4),o=n(5),s=n(6),a=n(71),u=r.createClass({displayName:"Glyphicon",mixins:[s],propTypes:{glyph:r.PropTypes.oneOf(a.GLYPHS).isRequired},getDefaultProps:function(){return{bsClass:"glyphicon"}},render:function(){var e=this.getBsClassSet();return e["glyphicon-"+this.props.glyph]=!0,r.createElement("span",r.__spread({},this.props,{className:i(this.props.className,o(e))}),this.props.children)}});e.exports=u},function(e,t,n){var r=n(1),i=n(4),o=r.createClass({displayName:"Grid",propTypes:{fluid:r.PropTypes.bool,componentClass:r.PropTypes.node.isRequired},getDefaultProps:function(){return{componentClass:"div"}},render:function(){var e=this.props.componentClass,t=this.props.fluid?"container-fluid":"container";return r.createElement(e,r.__spread({},this.props,{className:i(this.props.className,t)}),this.props.children)}});e.exports=o},function(e,t,n){var r=n(1),i=n(4),o=n(5),s=n(27),a=r.createClass({displayName:"Input",propTypes:{type:r.PropTypes.string,label:r.PropTypes.node,help:r.PropTypes.node,addonBefore:r.PropTypes.node,addonAfter:r.PropTypes.node,buttonBefore:r.PropTypes.node,buttonAfter:r.PropTypes.node,bsStyle:function(e){return"submit"!==e.type?r.PropTypes.oneOf(["success","warning","error"]).apply(null,arguments):void 0},hasFeedback:r.PropTypes.bool,groupClassName:r.PropTypes.string,wrapperClassName:r.PropTypes.string,labelClassName:r.PropTypes.string,disabled:r.PropTypes.bool},getInputDOMNode:function(){return this.refs.input.getDOMNode()},getValue:function(){if("static"===this.props.type)return this.props.value;if(this.props.type)return this.getInputDOMNode().value;throw Error("Cannot use getValue without specifying input type.")},getChecked:function(){return this.getInputDOMNode().checked},isCheckboxOrRadio:function(){return"radio"===this.props.type||"checkbox"===this.props.type},isFile:function(){return"file"===this.props.type},renderInput:function(){var e=null;if(!this.props.type)return this.props.children;switch(this.props.type){case"select":e=r.createElement("select",r.__spread({},this.props,{className:i(this.props.className,"form-control"),ref:"input",key:"input"}),this.props.children);break;case"textarea":e=r.createElement("textarea",r.__spread({},this.props,{className:i(this.props.className,"form-control"),ref:"input",key:"input"}));break;case"static":e=r.createElement("p",r.__spread({},this.props,{className:i(this.props.className,"form-control-static"),ref:"input",key:"input"}),this.props.value);break;case"submit":e=r.createElement(s,r.__spread({},this.props,{componentClass:"input",ref:"input",key:"input"}));break;default:var t=this.isCheckboxOrRadio()||this.isFile()?"":"form-control";e=r.createElement("input",r.__spread({},this.props,{className:i(this.props.className,t),ref:"input",key:"input"}))}return e},renderInputGroup:function(e){var t=this.props.addonBefore?r.createElement("span",{className:"input-group-addon",key:"addonBefore"},this.props.addonBefore):null,n=this.props.addonAfter?r.createElement("span",{className:"input-group-addon",key:"addonAfter"},this.props.addonAfter):null,i=this.props.buttonBefore?r.createElement("span",{className:"input-group-btn"},this.props.buttonBefore):null,o=this.props.buttonAfter?r.createElement("span",{className:"input-group-btn"},this.props.buttonAfter):null;return t||n||i||o?r.createElement("div",{className:"input-group",key:"input-group"},t,i,e,n,o):e},renderIcon:function(){var e={glyphicon:!0,"form-control-feedback":!0,"glyphicon-ok":"success"===this.props.bsStyle,"glyphicon-warning-sign":"warning"===this.props.bsStyle,"glyphicon-remove":"error"===this.props.bsStyle};return this.props.hasFeedback?r.createElement("span",{className:o(e),key:"icon"}):null},renderHelp:function(){return this.props.help?r.createElement("span",{className:"help-block",key:"help"},this.props.help):null},renderCheckboxandRadioWrapper:function(e){var t={checkbox:"checkbox"===this.props.type,radio:"radio"===this.props.type};return r.createElement("div",{className:o(t),key:"checkboxRadioWrapper"},e)},renderWrapper:function(e){return this.props.wrapperClassName?r.createElement("div",{className:this.props.wrapperClassName,key:"wrapper"},e):e},renderLabel:function(e){var t={"control-label":!this.isCheckboxOrRadio()};return t[this.props.labelClassName]=this.props.labelClassName,this.props.label?r.createElement("label",{htmlFor:this.props.id,className:o(t),key:"label"},e,this.props.label):e},renderFormGroup:function(e){var t={"form-group":!0,"has-feedback":this.props.hasFeedback,"has-success":"success"===this.props.bsStyle,"has-warning":"warning"===this.props.bsStyle,"has-error":"error"===this.props.bsStyle};return t[this.props.groupClassName]=this.props.groupClassName,r.createElement("div",{className:o(t)},e)},render:function(){return this.isCheckboxOrRadio()?this.renderFormGroup(this.renderWrapper([this.renderCheckboxandRadioWrapper(this.renderLabel(this.renderInput())),this.renderHelp()])):this.renderFormGroup([this.renderLabel(),this.renderWrapper([this.renderInputGroup(this.renderInput()),this.renderIcon(),this.renderHelp()])])}});e.exports=a},function(e,t,n){var r=n(1),i=n(4),o=r.createClass({displayName:"Jumbotron",render:function(){return r.createElement("div",r.__spread({},this.props,{className:i(this.props.className,"jumbotron")}),this.props.children)}});e.exports=o},function(e,t,n){var r=n(1),i=n(4),o=n(5),s=n(6),a=r.createClass({displayName:"Label",mixins:[s],getDefaultProps:function(){return{bsClass:"label",bsStyle:"default"}},render:function(){var e=this.getBsClassSet();return r.createElement("span",r.__spread({},this.props,{className:i(this.props.className,o(e))}),this.props.children)}});e.exports=a},function(e,t,n){var r=n(1),i=(n(5),n(11)),o=n(12),s=n(18),a=r.createClass({displayName:"ListGroup",propTypes:{onClick:r.PropTypes.func},render:function(){return r.createElement("div",{className:"list-group"},o.map(this.props.children,this.renderListItem))},renderListItem:function(e,t){return i(e,{onClick:s(e.props.onClick,this.props.onClick),ref:e.ref,key:e.key?e.key:t})}});e.exports=a},function(e,t,n){var r=n(1),i=n(4),o=n(6),s=n(5),a=n(11),u=(n(12),r.createClass({displayName:"ListGroupItem",mixins:[o],propTypes:{bsStyle:r.PropTypes.oneOf(["danger","info","success","warning"]),active:r.PropTypes.any,disabled:r.PropTypes.any,header:r.PropTypes.node,onClick:r.PropTypes.func,eventKey:r.PropTypes.any,href:r.PropTypes.string,target:r.PropTypes.string},getDefaultProps:function(){return{bsClass:"list-group-item"}},render:function(){var e=this.getBsClassSet();return e.active=this.props.active,e.disabled=this.props.disabled,this.props.href||this.props.target||this.props.onClick?this.renderAnchor(e):this.renderSpan(e)},renderSpan:function(e){return r.createElement("span",r.__spread({},this.props,{className:i(this.props.className,s(e))}),this.props.header?this.renderStructuredContent():this.props.children)},renderAnchor:function(e){return r.createElement("a",r.__spread({},this.props,{className:i(this.props.className,s(e)),onClick:this.handleClick}),this.props.header?this.renderStructuredContent():this.props.children)},renderStructuredContent:function(){var e;e=r.isValidElement(this.props.header)?a(this.props.header,{className:"list-group-item-heading"}):r.createElement("h4",{className:"list-group-item-heading"},this.props.header);var t=r.createElement("p",{className:"list-group-item-text"},this.props.children);return{header:e,content:t}},handleClick:function(e){this.props.onClick&&(e.preventDefault(),this.props.onClick(this.props.eventKey,this.props.href,this.props.target));
}}));e.exports=u},function(e,t,n){var r=n(1),i=n(4),o=n(5),s=r.createClass({displayName:"MenuItem",propTypes:{header:r.PropTypes.bool,divider:r.PropTypes.bool,href:r.PropTypes.string,title:r.PropTypes.string,target:r.PropTypes.string,onSelect:r.PropTypes.func,eventKey:r.PropTypes.any},getDefaultProps:function(){return{href:"#"}},handleClick:function(e){this.props.onSelect&&(e.preventDefault(),this.props.onSelect(this.props.eventKey,this.props.href,this.props.target))},renderAnchor:function(){return r.createElement("a",{onClick:this.handleClick,href:this.props.href,target:this.props.target,title:this.props.title,tabIndex:"-1"},this.props.children)},render:function(){var e={"dropdown-header":this.props.header,divider:this.props.divider},t=null;return this.props.header?t=this.props.children:this.props.divider||(t=this.renderAnchor()),r.createElement("li",r.__spread({},this.props,{role:"presentation",title:null,href:null,className:i(this.props.className,o(e))}),t)}});e.exports=s},function(e,t,n){var r=n(1),i=n(4),o=n(5),s=n(6),a=n(110),u=n(72),l=r.createClass({displayName:"Modal",mixins:[s,a],propTypes:{title:r.PropTypes.node,backdrop:r.PropTypes.oneOf(["static",!0,!1]),keyboard:r.PropTypes.bool,closeButton:r.PropTypes.bool,animation:r.PropTypes.bool,onRequestHide:r.PropTypes.func.isRequired},getDefaultProps:function(){return{bsClass:"modal",backdrop:!0,keyboard:!0,animation:!0,closeButton:!0}},render:function(){var e={display:"block"},t=this.getBsClassSet();delete t.modal,t["modal-dialog"]=!0;var n={modal:!0,fade:this.props.animation,"in":!this.props.animation||!document.querySelectorAll},s=r.createElement("div",r.__spread({},this.props,{title:null,tabIndex:"-1",role:"dialog",style:e,className:i(this.props.className,o(n)),onClick:this.props.backdrop===!0?this.handleBackdropClick:null,ref:"modal"}),r.createElement("div",{className:o(t)},r.createElement("div",{className:"modal-content"},this.props.title?this.renderHeader():null,this.props.children)));return this.props.backdrop?this.renderBackdrop(s):s},renderBackdrop:function(e){var t={"modal-backdrop":!0,fade:this.props.animation};t["in"]=!this.props.animation||!document.querySelectorAll;var n=this.props.backdrop===!0?this.handleBackdropClick:null;return r.createElement("div",null,r.createElement("div",{className:o(t),ref:"backdrop",onClick:n}),e)},renderHeader:function(){var e;return this.props.closeButton&&(e=r.createElement("button",{type:"button",className:"close","aria-hidden":"true",onClick:this.props.onRequestHide},"")),r.createElement("div",{className:"modal-header"},e,this.renderTitle())},renderTitle:function(){return r.isValidElement(this.props.title)?this.props.title:r.createElement("h4",{className:"modal-title"},this.props.title)},iosClickHack:function(){this.refs.modal.getDOMNode().onclick=function(){},this.refs.backdrop.getDOMNode().onclick=function(){}},componentDidMount:function(){this._onDocumentKeyupListener=u.listen(document,"keyup",this.handleDocumentKeyUp);var e=this.props.container&&this.props.container.getDOMNode()||document.body;e.className+=e.className.length?" modal-open":"modal-open",this.props.backdrop&&this.iosClickHack()},componentDidUpdate:function(e){this.props.backdrop&&this.props.backdrop!==e.backdrop&&this.iosClickHack()},componentWillUnmount:function(){this._onDocumentKeyupListener.remove();var e=this.props.container&&this.props.container.getDOMNode()||document.body;e.className=e.className.replace(/ ?modal-open/,"")},handleBackdropClick:function(e){e.target===e.currentTarget&&this.props.onRequestHide()},handleDocumentKeyUp:function(e){this.props.keyboard&&27===e.keyCode&&this.props.onRequestHide()}});e.exports=l},function(e,t,n){var r=n(1),i=n(70),o=n(11),s=n(18),a=r.createClass({displayName:"ModalTrigger",mixins:[i],propTypes:{modal:r.PropTypes.node.isRequired},getInitialState:function(){return{isOverlayShown:!1}},show:function(){this.setState({isOverlayShown:!0})},hide:function(){this.setState({isOverlayShown:!1})},toggle:function(){this.setState({isOverlayShown:!this.state.isOverlayShown})},renderOverlay:function(){return this.state.isOverlayShown?o(this.props.modal,{onRequestHide:this.hide}):r.createElement("span",null)},render:function(){var e=r.Children.only(this.props.children);return o(e,{onClick:s(e.props.onClick,this.toggle)})}});e.exports=a},function(e,t,n){var r=n(1),i=n(4),o=n(6),s=n(5),a=n(11),u=n(12),l=n(18),c=(n(69),r.createClass({displayName:"Navbar",mixins:[o],propTypes:{fixedTop:r.PropTypes.bool,fixedBottom:r.PropTypes.bool,staticTop:r.PropTypes.bool,inverse:r.PropTypes.bool,fluid:r.PropTypes.bool,role:r.PropTypes.string,componentClass:r.PropTypes.node.isRequired,brand:r.PropTypes.node,toggleButton:r.PropTypes.node,onToggle:r.PropTypes.func,navExpanded:r.PropTypes.bool,defaultNavExpanded:r.PropTypes.bool},getDefaultProps:function(){return{bsClass:"navbar",bsStyle:"default",role:"navigation",componentClass:"Nav"}},getInitialState:function(){return{navExpanded:this.props.defaultNavExpanded}},shouldComponentUpdate:function(){return!this._isChanging},handleToggle:function(){this.props.onToggle&&(this._isChanging=!0,this.props.onToggle(),this._isChanging=!1),this.setState({navExpanded:!this.state.navExpanded})},isNavExpanded:function(){return null!=this.props.navExpanded?this.props.navExpanded:this.state.navExpanded},render:function(){var e=this.getBsClassSet(),t=this.props.componentClass;return e["navbar-fixed-top"]=this.props.fixedTop,e["navbar-fixed-bottom"]=this.props.fixedBottom,e["navbar-static-top"]=this.props.staticTop,e["navbar-inverse"]=this.props.inverse,r.createElement(t,r.__spread({},this.props,{className:i(this.props.className,s(e))}),r.createElement("div",{className:this.props.fluid?"container-fluid":"container"},this.props.brand||this.props.toggleButton||this.props.toggleNavKey?this.renderHeader():null,u.map(this.props.children,this.renderChild)))},renderChild:function(e,t){return a(e,{navbar:!0,collapsable:null!=this.props.toggleNavKey&&this.props.toggleNavKey===e.props.eventKey,expanded:null!=this.props.toggleNavKey&&this.props.toggleNavKey===e.props.eventKey&&this.isNavExpanded(),key:e.key?e.key:t,ref:e.ref})},renderHeader:function(){var e;return this.props.brand&&(e=r.isValidElement(this.props.brand)?a(this.props.brand,{className:"navbar-brand"}):r.createElement("span",{className:"navbar-brand"},this.props.brand)),r.createElement("div",{className:"navbar-header"},e,this.props.toggleButton||null!=this.props.toggleNavKey?this.renderToggleButton():null)},renderToggleButton:function(){var e;return r.isValidElement(this.props.toggleButton)?a(this.props.toggleButton,{className:"navbar-toggle",onClick:l(this.handleToggle,this.props.toggleButton.props.onClick)}):(e=null!=this.props.toggleButton?this.props.toggleButton:[r.createElement("span",{className:"sr-only",key:0},"Toggle navigation"),r.createElement("span",{className:"icon-bar",key:1}),r.createElement("span",{className:"icon-bar",key:2}),r.createElement("span",{className:"icon-bar",key:3})],r.createElement("button",{className:"navbar-toggle",type:"button",onClick:this.handleToggle},e))}}));e.exports=c},function(e,t,n){function r(e,t){return Array.isArray(t)?t.indexOf(e)>=0:e===t}var i=n(1),o=n(70),s=n(43),a=n(11),u=n(18),l=n(73),c=i.createClass({displayName:"OverlayTrigger",mixins:[o],propTypes:{trigger:i.PropTypes.oneOfType([i.PropTypes.oneOf(["manual","click","hover","focus"]),i.PropTypes.arrayOf(i.PropTypes.oneOf(["click","hover","focus"]))]),placement:i.PropTypes.oneOf(["top","right","bottom","left"]),delay:i.PropTypes.number,delayShow:i.PropTypes.number,delayHide:i.PropTypes.number,defaultOverlayShown:i.PropTypes.bool,overlay:i.PropTypes.node.isRequired},getDefaultProps:function(){return{placement:"right",trigger:["hover","focus"]}},getInitialState:function(){return{isOverlayShown:null==this.props.defaultOverlayShown?!1:this.props.defaultOverlayShown,overlayLeft:null,overlayTop:null}},show:function(){this.setState({isOverlayShown:!0},function(){this.updateOverlayPosition()})},hide:function(){this.setState({isOverlayShown:!1})},toggle:function(){this.state.isOverlayShown?this.hide():this.show()},renderOverlay:function(){return this.state.isOverlayShown?a(this.props.overlay,{onRequestHide:this.hide,placement:this.props.placement,positionLeft:this.state.overlayLeft,positionTop:this.state.overlayTop}):i.createElement("span",null)},render:function(){if("manual"===this.props.trigger)return i.Children.only(this.props.children);var e={};return r("click",this.props.trigger)&&(e.onClick=u(this.toggle,this.props.onClick)),r("hover",this.props.trigger)&&(e.onMouseOver=u(this.handleDelayedShow,this.props.onMouseOver),e.onMouseOut=u(this.handleDelayedHide,this.props.onMouseOut)),r("focus",this.props.trigger)&&(e.onFocus=u(this.handleDelayedShow,this.props.onFocus),e.onBlur=u(this.handleDelayedHide,this.props.onBlur)),a(i.Children.only(this.props.children),e)},componentWillUnmount:function(){clearTimeout(this._hoverDelay)},componentDidMount:function(){this.updateOverlayPosition()},handleDelayedShow:function(){if(null!=this._hoverDelay)return clearTimeout(this._hoverDelay),void(this._hoverDelay=null);var e=null!=this.props.delayShow?this.props.delayShow:this.props.delay;return e?void(this._hoverDelay=setTimeout(function(){this._hoverDelay=null,this.show()}.bind(this),e)):void this.show()},handleDelayedHide:function(){if(null!=this._hoverDelay)return clearTimeout(this._hoverDelay),void(this._hoverDelay=null);var e=null!=this.props.delayHide?this.props.delayHide:this.props.delay;return e?void(this._hoverDelay=setTimeout(function(){this._hoverDelay=null,this.hide()}.bind(this),e)):void this.hide()},updateOverlayPosition:function(){if(this.isMounted()){var e=this.calcOverlayPosition();this.setState({overlayLeft:e.left,overlayTop:e.top})}},calcOverlayPosition:function(){var e=this.getPosition(),t=this.getOverlayDOMNode(),n=t.offsetHeight,r=t.offsetWidth;switch(this.props.placement){case"right":return{top:e.top+e.height/2-n/2,left:e.left+e.width};case"left":return{top:e.top+e.height/2-n/2,left:e.left-r};case"top":return{top:e.top-n,left:e.left+e.width/2-r/2};case"bottom":return{top:e.top+e.height,left:e.left+e.width/2-r/2};default:throw new Error('calcOverlayPosition(): No such placement of "'+this.props.placement+'" found.')}},getPosition:function(){var e=this.getDOMNode(),t=this.getContainerDOMNode(),n="BODY"==t.tagName?s.getOffset(e):s.getPosition(e,t);return l({},n,{height:e.offsetHeight,width:e.offsetWidth})}});e.exports=c},function(e,t,n){var r=n(1),i=n(4),o=r.createClass({displayName:"PageHeader",render:function(){return r.createElement("div",r.__spread({},this.props,{className:i(this.props.className,"page-header")}),r.createElement("h1",null,this.props.children))}});e.exports=o},function(e,t,n){var r=n(1),i=n(4),o=n(5),s=r.createClass({displayName:"PageItem",propTypes:{href:r.PropTypes.string,target:r.PropTypes.string,disabled:r.PropTypes.bool,previous:r.PropTypes.bool,next:r.PropTypes.bool,onSelect:r.PropTypes.func,eventKey:r.PropTypes.any},getDefaultProps:function(){return{href:"#"}},render:function(){var e={disabled:this.props.disabled,previous:this.props.previous,next:this.props.next};return r.createElement("li",r.__spread({},this.props,{className:i(this.props.className,o(e))}),r.createElement("a",{href:this.props.href,title:this.props.title,target:this.props.target,onClick:this.handleSelect,ref:"anchor"},this.props.children))},handleSelect:function(e){this.props.onSelect&&(e.preventDefault(),this.props.disabled||this.props.onSelect(this.props.eventKey,this.props.href,this.props.target))}});e.exports=s},function(e,t,n){var r=n(1),i=n(4),o=n(11),s=n(12),a=n(18),u=r.createClass({displayName:"Pager",propTypes:{onSelect:r.PropTypes.func},render:function(){return r.createElement("ul",r.__spread({},this.props,{className:i(this.props.className,"pager")}),s.map(this.props.children,this.renderPageItem))},renderPageItem:function(e,t){return o(e,{onSelect:a(e.props.onSelect,this.props.onSelect),ref:e.ref,key:e.key?e.key:t})}});e.exports=u},function(e,t,n){var r=n(1),i=n(4),o=n(5),s=n(11),a=n(6),u=n(66),l=r.createClass({displayName:"Panel",mixins:[a,u],propTypes:{onSelect:r.PropTypes.func,header:r.PropTypes.node,footer:r.PropTypes.node,eventKey:r.PropTypes.any},getDefaultProps:function(){return{bsClass:"panel",bsStyle:"default"}},handleSelect:function(e){this.props.onSelect&&(this._isChanging=!0,this.props.onSelect(this.props.eventKey),this._isChanging=!1),e.preventDefault(),this.setState({expanded:!this.state.expanded})},shouldComponentUpdate:function(){return!this._isChanging},getCollapsableDimensionValue:function(){return this.refs.body.getDOMNode().offsetHeight},getCollapsableDOMNode:function(){return this.isMounted()&&this.refs&&this.refs.panel?this.refs.panel.getDOMNode():null},render:function(){var e=this.getBsClassSet();return e.panel=!0,r.createElement("div",r.__spread({},this.props,{className:i(this.props.className,o(e)),id:this.props.collapsable?null:this.props.id,onSelect:null}),this.renderHeading(),this.props.collapsable?this.renderCollapsableBody():this.renderBody(),this.renderFooter())},renderCollapsableBody:function(){return r.createElement("div",{className:o(this.getCollapsableClassSet("panel-collapse")),id:this.props.id,ref:"panel"},this.renderBody())},renderBody:function(){return r.createElement("div",{className:"panel-body",ref:"body"},this.props.children)},renderHeading:function(){var e=this.props.header;return e?(e=!r.isValidElement(e)||Array.isArray(e)?this.props.collapsable?this.renderCollapsableTitle(e):e:this.props.collapsable?s(e,{className:"panel-title",children:this.renderAnchor(e.props.children)}):s(e,{className:"panel-title"}),r.createElement("div",{className:"panel-heading"},e)):null},renderAnchor:function(e){return r.createElement("a",{href:"#"+(this.props.id||""),className:this.isExpanded()?null:"collapsed",onClick:this.handleSelect},e)},renderCollapsableTitle:function(e){return r.createElement("h4",{className:"panel-title"},this.renderAnchor(e))},renderFooter:function(){return this.props.footer?r.createElement("div",{className:"panel-footer"},this.props.footer):null}});e.exports=l},function(e,t,n){var r=n(1),i=n(4),o=n(5),s=n(6),a=r.createClass({displayName:"Popover",mixins:[s],propTypes:{placement:r.PropTypes.oneOf(["top","right","bottom","left"]),positionLeft:r.PropTypes.number,positionTop:r.PropTypes.number,arrowOffsetLeft:r.PropTypes.number,arrowOffsetTop:r.PropTypes.number,title:r.PropTypes.node},getDefaultProps:function(){return{placement:"right"}},render:function(){var e={};e.popover=!0,e[this.props.placement]=!0,e["in"]=null!=this.props.positionLeft||null!=this.props.positionTop;var t={};t.left=this.props.positionLeft,t.top=this.props.positionTop,t.display="block";var n={};return n.left=this.props.arrowOffsetLeft,n.top=this.props.arrowOffsetTop,r.createElement("div",r.__spread({},this.props,{className:i(this.props.className,o(e)),style:t,title:null}),r.createElement("div",{className:"arrow",style:n}),this.props.title?this.renderTitle():null,r.createElement("div",{className:"popover-content"},this.props.children))},renderTitle:function(){return r.createElement("h3",{className:"popover-title"},this.props.title)}});e.exports=a},function(e,t,n){var r=n(1),i=n(4),o=n(111),s=n(6),a=n(5),u=n(11),l=n(12),c=r.createClass({displayName:"ProgressBar",propTypes:{min:r.PropTypes.number,now:r.PropTypes.number,max:r.PropTypes.number,label:r.PropTypes.node,srOnly:r.PropTypes.bool,striped:r.PropTypes.bool,active:r.PropTypes.bool},mixins:[s],getDefaultProps:function(){return{bsClass:"progress-bar",min:0,max:100}},getPercentage:function(e,t,n){return Math.ceil((e-t)/(n-t)*100)},render:function(){var e={progress:!0};return this.props.active?(e["progress-striped"]=!0,e.active=!0):this.props.striped&&(e["progress-striped"]=!0),l.hasValidComponent(this.props.children)?r.createElement("div",r.__spread({},this.props,{className:i(this.props.className,a(e))}),l.map(this.props.children,this.renderChildBar)):this.props.isChild?this.renderProgressBar():r.createElement("div",r.__spread({},this.props,{className:i(this.props.className,a(e))}),this.renderProgressBar())},renderChildBar:function(e,t){return u(e,{isChild:!0,key:e.key?e.key:t,ref:e.ref})},renderProgressBar:function(){var e,t=this.getPercentage(this.props.now,this.props.min,this.props.max);"string"==typeof this.props.label?e=this.renderLabel(t):this.props.label&&(e=this.props.label),this.props.srOnly&&(e=this.renderScreenReaderOnlyLabel(e));var n=this.getBsClassSet();return r.createElement("div",r.__spread({},this.props,{className:i(this.props.className,a(n)),role:"progressbar",style:{width:t+"%"},"aria-valuenow":this.props.now,"aria-valuemin":this.props.min,"aria-valuemax":this.props.max}),e)},renderLabel:function(e){var t=this.props.interpolateClass||o;return r.createElement(t,{now:this.props.now,min:this.props.min,max:this.props.max,percent:e,bsStyle:this.props.bsStyle},this.props.label)},renderScreenReaderOnlyLabel:function(e){return r.createElement("span",{className:"sr-only"},e)}});e.exports=c},function(e,t,n){var r=n(1),i=n(4),o=r.createClass({displayName:"Row",propTypes:{componentClass:r.PropTypes.node.isRequired},getDefaultProps:function(){return{componentClass:"div"}},render:function(){var e=this.props.componentClass;return r.createElement(e,r.__spread({},this.props,{className:i(this.props.className,"row")}),this.props.children)}});e.exports=o},function(e,t,n){var r=n(1),i=n(4),o=n(5),s=n(6),a=n(68),u=n(27),l=n(65),c=n(67),p=r.createClass({displayName:"SplitButton",mixins:[s,a],propTypes:{pullRight:r.PropTypes.bool,title:r.PropTypes.node,href:r.PropTypes.string,target:r.PropTypes.string,dropdownTitle:r.PropTypes.node,onClick:r.PropTypes.func,onSelect:r.PropTypes.func,disabled:r.PropTypes.bool},getDefaultProps:function(){return{dropdownTitle:"Toggle dropdown"}},render:function(){var e={open:this.state.open,dropup:this.props.dropup},t=r.createElement(u,r.__spread({},this.props,{ref:"button",onClick:this.handleButtonClick,title:null,id:null}),this.props.title),n=r.createElement(u,r.__spread({},this.props,{ref:"dropdownButton",className:i(this.props.className,"dropdown-toggle"),onClick:this.handleDropdownClick,title:null,href:null,target:null,id:null}),r.createElement("span",{className:"sr-only"},this.props.dropdownTitle),r.createElement("span",{className:"caret"}));return r.createElement(l,{bsSize:this.props.bsSize,className:o(e),id:this.props.id},t,n,r.createElement(c,{ref:"menu",onSelect:this.handleOptionSelect,"aria-labelledby":this.props.id,pullRight:this.props.pullRight},this.props.children))},handleButtonClick:function(e){this.state.open&&this.setDropdownState(!1),this.props.onClick&&this.props.onClick(e,this.props.href,this.props.target)},handleDropdownClick:function(e){e.preventDefault(),this.setDropdownState(!this.state.open)},handleOptionSelect:function(e){this.props.onSelect&&this.props.onSelect(e),this.setDropdownState(!1)}});e.exports=p},function(e,t,n){var r=n(1),i=n(4),o=n(5),s=n(11),a=n(12),u=n(18),l=n(6),c=r.createClass({displayName:"SubNav",mixins:[l],propTypes:{onSelect:r.PropTypes.func,active:r.PropTypes.bool,disabled:r.PropTypes.bool,href:r.PropTypes.string,title:r.PropTypes.string,text:r.PropTypes.node,target:r.PropTypes.string},getDefaultProps:function(){return{bsClass:"nav"}},handleClick:function(e){this.props.onSelect&&(e.preventDefault(),this.props.disabled||this.props.onSelect(this.props.eventKey,this.props.href,this.props.target))},isActive:function(){return this.isChildActive(this)},isChildActive:function(e){if(e.props.active)return!0;if(null!=this.props.activeKey&&this.props.activeKey===e.props.eventKey)return!0;if(null!=this.props.activeHref&&this.props.activeHref===e.props.href)return!0;if(e.props.children){var t=!1;return a.forEach(e.props.children,function(e){this.isChildActive(e)&&(t=!0)},this),t}return!1},getChildActiveProp:function(e){return e.props.active?!0:null!=this.props.activeKey&&e.props.eventKey==this.props.activeKey?!0:null!=this.props.activeHref&&e.props.href===this.props.activeHref?!0:e.props.active},render:function(){var e={active:this.isActive(),disabled:this.props.disabled};return r.createElement("li",r.__spread({},this.props,{className:i(this.props.className,o(e))}),r.createElement("a",{href:this.props.href,title:this.props.title,target:this.props.target,onClick:this.handleClick,ref:"anchor"},this.props.text),r.createElement("ul",{className:"nav"},a.map(this.props.children,this.renderNavItem)))},renderNavItem:function(e,t){return s(e,{active:this.getChildActiveProp(e),onSelect:u(e.props.onSelect,this.props.onSelect),ref:e.ref,key:e.key?e.key:t})}});e.exports=c},function(e,t,n){var r=n(1),i=n(4),o=n(5),s=n(74),a=r.createClass({displayName:"TabPane",getDefaultProps:function(){return{animation:!0}},getInitialState:function(){return{animateIn:!1,animateOut:!1}},componentWillReceiveProps:function(e){this.props.animation&&(this.state.animateIn||!e.active||this.props.active?this.state.animateOut||e.active||!this.props.active||this.setState({animateOut:!0}):this.setState({animateIn:!0}))},componentDidUpdate:function(){this.state.animateIn&&setTimeout(this.startAnimateIn,0),this.state.animateOut&&s.addEndEventListener(this.getDOMNode(),this.stopAnimateOut)},startAnimateIn:function(){this.isMounted()&&this.setState({animateIn:!1})},stopAnimateOut:function(){this.isMounted()&&(this.setState({animateOut:!1}),"function"==typeof this.props.onAnimateOutEnd&&this.props.onAnimateOutEnd())},render:function(){var e={"tab-pane":!0,fade:!0,active:this.props.active||this.state.animateOut,"in":this.props.active&&!this.state.animateIn};return r.createElement("div",r.__spread({},this.props,{className:i(this.props.className,o(e))}),this.props.children)}});e.exports=a},function(e,t,n){function r(e){var t;return a.forEach(e,function(e){null==t&&(t=e.props.eventKey)}),t}var i=n(1),o=n(6),s=n(11),a=n(12),u=n(69),l=n(112),c=i.createClass({displayName:"TabbedArea",mixins:[o],propTypes:{bsStyle:i.PropTypes.oneOf(["tabs","pills"]),animation:i.PropTypes.bool,onSelect:i.PropTypes.func},getDefaultProps:function(){return{bsStyle:"tabs",animation:!0}},getInitialState:function(){var e=null!=this.props.defaultActiveKey?this.props.defaultActiveKey:r(this.props.children);return{activeKey:e,previousActiveKey:null}},componentWillReceiveProps:function(e){null!=e.activeKey&&e.activeKey!==this.props.activeKey&&this.setState({previousActiveKey:this.props.activeKey})},handlePaneAnimateOutEnd:function(){this.setState({previousActiveKey:null})},render:function(){function e(e){return null!=e.props.tab?this.renderTab(e):null}var t=null!=this.props.activeKey?this.props.activeKey:this.state.activeKey,n=i.createElement(u,i.__spread({},this.props,{activeKey:t,onSelect:this.handleSelect,ref:"tabs"}),a.map(this.props.children,e,this));return i.createElement("div",null,n,i.createElement("div",{id:this.props.id,className:"tab-content",ref:"panes"},a.map(this.props.children,this.renderPane)))},getActiveKey:function(){return null!=this.props.activeKey?this.props.activeKey:this.state.activeKey},renderPane:function(e,t){var n=this.getActiveKey();return s(e,{active:e.props.eventKey===n&&(null==this.state.previousActiveKey||!this.props.animation),ref:e.ref,key:e.key?e.key:t,animation:this.props.animation,onAnimateOutEnd:null!=this.state.previousActiveKey&&e.props.eventKey===this.state.previousActiveKey?this.handlePaneAnimateOutEnd:null})},renderTab:function(e){var t=e.props.eventKey;return i.createElement(l,{ref:"tab"+t,eventKey:t},e.props.tab)},shouldComponentUpdate:function(){return!this._isChanging},handleSelect:function(e){this.props.onSelect?(this._isChanging=!0,this.props.onSelect(e),this._isChanging=!1):e!==this.getActiveKey()&&this.setState({activeKey:e,previousActiveKey:this.getActiveKey()})}});e.exports=c},function(e,t,n){var r=n(1),i=n(4),o=n(5),s=r.createClass({displayName:"Table",propTypes:{striped:r.PropTypes.bool,bordered:r.PropTypes.bool,condensed:r.PropTypes.bool,hover:r.PropTypes.bool,responsive:r.PropTypes.bool},render:function(){var e={table:!0,"table-striped":this.props.striped,"table-bordered":this.props.bordered,"table-condensed":this.props.condensed,"table-hover":this.props.hover},t=r.createElement("table",r.__spread({},this.props,{className:i(this.props.className,o(e))}),this.props.children);return this.props.responsive?r.createElement("div",{className:"table-responsive"},t):t}});e.exports=s},function(e,t,n){var r=n(1),i=n(4),o=n(5),s=n(6),a=r.createClass({displayName:"Tooltip",mixins:[s],propTypes:{placement:r.PropTypes.oneOf(["top","right","bottom","left"]),positionLeft:r.PropTypes.number,positionTop:r.PropTypes.number,arrowOffsetLeft:r.PropTypes.number,arrowOffsetTop:r.PropTypes.number},getDefaultProps:function(){return{placement:"right"}},render:function(){var e={};e.tooltip=!0,e[this.props.placement]=!0,e["in"]=null!=this.props.positionLeft||null!=this.props.positionTop;var t={};t.left=this.props.positionLeft,t.top=this.props.positionTop;var n={};return n.left=this.props.arrowOffsetLeft,n.top=this.props.arrowOffsetTop,r.createElement("div",r.__spread({},this.props,{className:i(this.props.className,o(e)),style:t}),r.createElement("div",{className:"tooltip-arrow",style:n}),r.createElement("div",{className:"tooltip-inner"},this.props.children))}});e.exports=a},function(e,t,n){var r=n(1),i=n(4),o=n(5),s=n(6),a=r.createClass({displayName:"Well",mixins:[s],getDefaultProps:function(){return{bsClass:"well"}},render:function(){var e=this.getBsClassSet();return r.createElement("div",r.__spread({},this.props,{className:i(this.props.className,o(e))}),this.props.children)}});e.exports=a},function(e,t,n){function r(e){function t(t,n,r,i){return i=i||o,null!=n[r]?e(n,r,i):t?new Error("Required prop `"+r+"` was not specified in `"+i+"`."):void 0}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n}function i(){function e(e,t,n){return"object"!=typeof e[t]||"function"!=typeof e[t].getDOMNode&&1!==e[t].nodeType?new Error("Invalid prop `"+t+"` supplied to `"+n+"`, expected a DOM element or an object that has a `getDOMNode` method"):void 0}return r(e)}var o=(n(1),"<<anonymous>>"),s={mountable:i()};e.exports=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(1),s=r(o);t["default"]=s["default"].createClass({displayName:"FontAwesome",propTypes:{border:s["default"].PropTypes.bool,className:s["default"].PropTypes.string,fixedWidth:s["default"].PropTypes.bool,flip:s["default"].PropTypes.oneOf(["horizontal","vertical"]),inverse:s["default"].PropTypes.bool,name:s["default"].PropTypes.string.isRequired,pulse:s["default"].PropTypes.bool,rotate:s["default"].PropTypes.oneOf([90,180,270]),size:s["default"].PropTypes.oneOf(["lg","2x","3x","4x","5x"]),spin:s["default"].PropTypes.bool,stack:s["default"].PropTypes.oneOf(["1x","2x"])},render:function(){var e="fa fa-"+this.props.name;return this.props.size&&(e+=" fa-"+this.props.size),this.props.spin&&(e+=" fa-spin"),this.props.pulse&&(e+=" fa-pulse"),this.props.border&&(e+=" fa-border"),this.props.fixedWidth&&(e+=" fa-fw"),this.props.inverse&&(e+=" fa-inverse"),this.props.flip&&(e+=" fa-flip-"+this.props.flip),this.props.rotate&&(e+=" fa-rotate-"+this.props.rotate),this.props.stack&&(e+=" fa-stack-"+this.props.stack),this.props.className&&(e+=" "+this.props.className),s["default"].createElement("span",i({},this.props,{className:e}))}}),e.exports=t["default"]},function(e,t,n){(function(t){"use strict";function r(e,t){throw delete t.children,new Error(e+" overrides contraints on gridItem "+t.i+". Full props: "+JSON.stringify(t))}var i=n(1),o=n(50),s=n(44),a=n(212),u=n(215).Resizable,l=n(75),c=i.createClass({displayName:"GridItem",mixins:[l],propTypes:{cols:i.PropTypes.number.isRequired,containerWidth:i.PropTypes.number.isRequired,rowHeight:i.PropTypes.number.isRequired,margin:i.PropTypes.array.isRequired,x:i.PropTypes.number.isRequired,y:i.PropTypes.number.isRequired,w:i.PropTypes.number.isRequired,h:i.PropTypes.number.isRequired,minW:function(e,t,n){i.PropTypes.number.apply(this,arguments),(e.minW>e.w||e.minW>e.maxW)&&r("minW",e)},maxW:function(e,t,n){i.PropTypes.number.apply(this,arguments),(e.maxW<e.w||e.maxW<e.minW)&&r("maxW",e)},minH:function(e,t,n){i.PropTypes.number.apply(this,arguments),(e.minH>e.h||e.minH>e.maxH)&&r("minH",e)},maxH:function(e,t,n){i.PropTypes.number.apply(this,arguments),(e.maxH<e.h||e.maxH<e.minH)&&r("maxH",e)},i:i.PropTypes.string.isRequired,moveOnStartChange:i.PropTypes.bool,onDragStop:i.PropTypes.func,onDragStart:i.PropTypes.func,onDrag:i.PropTypes.func,onResizeStop:i.PropTypes.func,onResizeStart:i.PropTypes.func,onResize:i.PropTypes.func,isDraggable:i.PropTypes.bool,isResizable:i.PropTypes.bool,useCSSTransforms:i.PropTypes.bool,isPlaceholder:i.PropTypes.bool,className:i.PropTypes.string,handle:i.PropTypes.string,cancel:i.PropTypes.string},getDefaultProps:function(){return{isDraggable:!0,isResizable:!0,useCSSTransforms:!0,className:"",cancel:"",minH:1,minW:1,maxH:1/0,maxW:1/0}},getInitialState:function(){return{resizing:!1,className:""}},calcPosition:function(e,t,n,r){var i=this.props,o=i.containerWidth-i.margin[0],s={left:o*(e/i.cols)+i.margin[0],top:i.rowHeight*t+i.margin[1],width:o*(n/i.cols)-i.margin[0],height:r*i.rowHeight-i.margin[1]};return s},calcXY:function(e){var t=e.left,n=e.top;t-=this.props.margin[0],n-=this.props.margin[1];var r=Math.round(t/this.props.containerWidth*this.props.cols),i=Math.floor(n/this.props.rowHeight);return r=Math.max(Math.min(r,this.props.cols),0),i=Math.max(i,0),{x:r,y:i}},calcWH:function(e){var t=e.height,n=e.width;n+=this.props.margin[0],t+=this.props.margin[1];var r=Math.round(n/this.props.containerWidth*this.props.cols),i=Math.round(t/this.props.rowHeight);return r=Math.max(Math.min(r,this.props.cols-this.props.x),0),i=Math.max(i,0),{w:r,h:i}},mixinDraggable:function(e,t){return i.createElement(a,{start:{x:t.left,y:t.top},moveOnStartChange:this.props.moveOnStartChange,onStop:this.onDragHandler("onDragStop"),onStart:this.onDragHandler("onDragStart"),onDrag:this.onDragHandler("onDrag"),handle:this.props.handle,cancel:".react-resizable-handle "+this.props.cancel,useCSSTransforms:this.props.useCSSTransforms&&this.isMounted()},e)},mixinResizable:function(e,t){var n=this.props,r=this.calcPosition(0,0,n.cols-n.x,0).width,o=this.calcPosition(0,0,n.minW,n.minH),s=this.calcPosition(0,0,n.maxW,n.maxH),a=[o.width,o.height],l=[Math.min(s.width,r),Math.min(s.height,1/0)];return i.createElement(u,{width:t.width,height:t.height,minConstraints:a,maxConstraints:l,onResizeStop:this.onResizeHandler("onResizeStop"),onResizeStart:this.onResizeHandler("onResizeStart"),onResize:this.onResizeHandler("onResize")},e)},onDragHandler:function(e){var t=this;return function(n,r){var i=(r.element,r.position);if(t.props[e]){var o=t.calcXY(i),s=o.x,a=o.y;s=Math.min(s,t.props.cols-t.props.w),t.props[e](t.props.i,s,a)}}},onResizeHandler:function(e){var t=this;return function(n,r){var i=(r.element,r.size);if(t.props[e]){var o=t.calcWH(i),s=o.w,a=o.h;s=Math.min(s,t.props.cols-t.props.x),s=Math.max(s,1),s=Math.max(Math.min(s,t.props.maxW),t.props.minW),a=Math.max(Math.min(a,t.props.maxH),t.props.minH),t.setState({resizing:"onResizeStop"===e?null:i}),t.props[e](t.props.i,s,a)}}},render:function(){var e=this.props,n=this.calcPosition(e.x,e.y,e.w,e.h);this.state.resizing&&(n.width=this.state.resizing.width,n.height=this.state.resizing.height);var r=o(i.Children.only(this.props.children),{className:["react-grid-item",this.props.children.props.className||"",this.props.className,this.state.resizing?"resizing":""].join(" "),style:{width:n.width+"px",height:n.height+"px",left:n.left+"px",top:n.top+"px",position:"absolute"}});return t.browser&&this.props.useCSSTransforms&&(s.setTransform(r.props.style,[n.left,n.top]),delete r.props.style.left,delete r.props.style.top),
t.browser||(n.left=s.perc(n.left/e.containerWidth),r.props.style.width=s.perc(n.width/e.containerWidth)),this.props.isResizable&&this.isMounted()&&(r=this.mixinResizable(r,n)),this.props.isDraggable&&(r=this.mixinDraggable(r,n)),r}});e.exports=c}).call(t,n(2))},function(e,t,n){"use strict";var r=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},i=n(1),o=n(44),s=n(207),a=n(75),u=n(115),l=n(114),c=i.createClass({displayName:"ResponsiveReactGridLayout",mixins:[a,u],propTypes:{breakpoint:i.PropTypes.string,breakpoints:i.PropTypes.object,cols:i.PropTypes.object,layouts:function(e,t,n){i.PropTypes.object.isRequired.apply(this,arguments);var r=e.layouts;Object.keys(r).map(function(e){o.validateLayout(r[e],"layouts."+e)})},onBreakpointChange:i.PropTypes.func,onLayoutChange:i.PropTypes.func},getDefaultProps:function(){return{breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},cols:{lg:12,md:10,sm:6,xs:4,xxs:2},layouts:{},onBreakpointChange:function(){},onLayoutChange:function(){}}},getInitialState:function(){var e=this.props.breakpoint||s.getBreakpointFromWidth(this.props.breakpoints,this.props.initialWidth),t=s.getColsFromBreakpoint(e,this.props.cols),n=s.findOrGenerateResponsiveLayout(this.props.layouts,this.props.breakpoints,e,e,t);return{layout:n,layouts:this.props.layouts||{},breakpoint:e,cols:t,width:this.props.initialWidth}},componentWillReceiveProps:function(e){if(e.width&&this.onWidthChange(e.width),e.breakpoint!==this.props.breakpoint&&this.onWidthChange(this.state.width),e.layouts&&e.layouts!==this.state.layouts){var t=s.findOrGenerateResponsiveLayout(e.layouts,e.breakpoints,this.state.breakpoint,this.state.breakpoint,this.state.cols);this.setState({layouts:e.layouts,layout:t})}},onLayoutChange:function(e){this.state.layouts[this.state.breakpoint]=e,this.setState({layout:e,layouts:this.state.layouts}),this.props.onLayoutChange(e,this.state.layouts)},onWidthChange:function(e){var t={width:e};t.breakpoint=this.props.breakpoint||s.getBreakpointFromWidth(this.props.breakpoints,t.width),t.cols=s.getColsFromBreakpoint(t.breakpoint,this.props.cols),t.cols!==this.state.cols&&(t.layouts=this.state.layouts,t.layouts[this.state.breakpoint]=JSON.parse(JSON.stringify(this.state.layout)),t.layout=s.findOrGenerateResponsiveLayout(t.layouts,this.props.breakpoints,t.breakpoint,this.state.breakpoint,t.cols),t.layout=o.synchronizeLayoutWithChildren(t.layout,this.props.children,t.cols),t.layouts[t.breakpoint]=t.layout,this.props.onBreakpointChange(t.breakpoint,t.cols)),this.setState(t)},render:function(){var e=(this.props.layouts,this.props.onBreakpointChange,this.props.breakpoints,r(this.props,["layouts","onBreakpointChange","breakpoints"]));return i.createElement(l,i.__spread({},e,{layout:this.state.layout,cols:this.state.cols,listenToWindowResize:!1,onLayoutChange:this.onLayoutChange,width:this.state.width}),this.props.children)}});e.exports=c},function(e,t,n){"use strict";var r=n(44),i=e.exports={getBreakpointFromWidth:function(e,t){for(var n=i.sortBreakpoints(e),r=n[0],o=1,s=n.length;s>o;o++){var a=n[o];t>e[a]&&(r=a)}return r},getColsFromBreakpoint:function(e,t){if(!t[e])throw new Error("ResponsiveReactGridLayout: `cols` entry for breakpoint "+e+" is missing!");return t[e]},findOrGenerateResponsiveLayout:function(e,t,n,o,s){if(e[n])return e[n];for(var a=e[o],u=i.sortBreakpoints(t),l=u.slice(u.indexOf(n)),c=0,p=l.length;p>c;c++){var h=l[c];if(e[h]){a=e[h];break}}return a=JSON.parse(JSON.stringify(a||[])),r.compact(r.correctBounds(a,{cols:s}))},sortBreakpoints:function(e){var t=Object.keys(e);return t.sort(function(t,n){return e[t]-e[n]})}}},function(e,t,n){e.exports=n(114),e.exports.Responsive=n(206)},function(e,t,n){function r(e){return null===e||void 0===e}function i(e){return e&&"object"==typeof e&&"number"==typeof e.length?"function"!=typeof e.copy||"function"!=typeof e.slice?!1:e.length>0&&"number"!=typeof e[0]?!1:!0:!1}function o(e,t,n){var o,c;if(r(e)||r(t))return!1;if(e.prototype!==t.prototype)return!1;if(u(e))return u(t)?(e=s.call(e),t=s.call(t),l(e,t,n)):!1;if(i(e)){if(!i(t))return!1;if(e.length!==t.length)return!1;for(o=0;o<e.length;o++)if(e[o]!==t[o])return!1;return!0}try{var p=a(e),h=a(t)}catch(f){return!1}if(p.length!=h.length)return!1;for(p.sort(),h.sort(),o=p.length-1;o>=0;o--)if(p[o]!=h[o])return!1;for(o=p.length-1;o>=0;o--)if(c=p[o],!l(e[c],t[c],n))return!1;return typeof e==typeof t}var s=Array.prototype.slice,a=n(211),u=n(210),l=e.exports=function(e,t,n){return n||(n={}),e===t?!0:e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():"object"!=typeof e&&"object"!=typeof t?n.strict?e===t:e==t:o(e,t,n)}},function(e,t){function n(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function r(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Object.prototype.hasOwnProperty.call(e,"callee")&&!Object.prototype.propertyIsEnumerable.call(e,"callee")||!1}var i="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();t=e.exports=i?n:r,t.supported=n,t.unsupported=r},function(e,t){function n(e){var t=[];for(var n in e)t.push(n);return t}t=e.exports="function"==typeof Object.keys?Object.keys:n,t.shim=n},function(e,t,n){e.exports=n(213)},function(e,t,n){"use strict";function r(e){return{element:e.getDOMNode(),position:{top:(e._pendingState||e.state).clientY,left:(e._pendingState||e.state).clientX}}}function i(e){return"both"===e.props.axis||"y"===e.props.axis}function o(e){return"both"===e.props.axis||"x"===e.props.axis}function s(e){return"function"==typeof e||"[object Function]"===Object.prototype.toString.call(e)}function a(e,t){for(var n=0,r=(e.length,null);r=e[n];n++)if(t.apply(t,[r,n,e]))return r}function u(e,t){var n=a(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(t){return s(e[t])});return e[n].call(e,t)}function l(e){var t=(""+e.left).replace(/(\d)$/,"$1px"),n=(""+e.top).replace(/(\d)$/,"$1px");return e.transform="translate("+t+","+n+")",e.WebkitTransform="translate("+t+","+n+")",e.OTransform="translate("+t+","+n+")",e.msTransform="translate("+t+","+n+")",e.MozTransform="translate("+t+","+n+")",delete e.left,delete e.top,e}function c(e){var t=e.touches&&e.touches[0]||e;return{clientX:t.clientX,clientY:t.clientY}}function p(e,t,n){e&&(e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener?e.addEventListener(t,n,!0):e["on"+t]=n)}function h(e,t,n){e&&(e.detachEvent?e.detachEvent("on"+t,n):e.removeEventListener?e.removeEventListener(t,n,!0):e["on"+t]=null)}var f=n(1),d=n(46),m=n(14),g=n(50);if("undefined"==typeof window)var v=!1;else var v="ontouchstart"in window||"onmsgesturechange"in window;var y=function(){var e={touch:{start:"touchstart",move:"touchmove",end:"touchend"},mouse:{start:"mousedown",move:"mousemove",end:"mouseup"}};return e[v?"touch":"mouse"]}();e.exports=f.createClass({displayName:"Draggable",mixins:[d],propTypes:{axis:f.PropTypes.oneOf(["both","x","y"]),handle:f.PropTypes.string,cancel:f.PropTypes.string,grid:f.PropTypes.arrayOf(f.PropTypes.number),start:f.PropTypes.object,moveOnStartChange:f.PropTypes.bool,useCSSTransforms:f.PropTypes.bool,zIndex:f.PropTypes.number,onStart:f.PropTypes.func,onDrag:f.PropTypes.func,onStop:f.PropTypes.func,onMouseDown:f.PropTypes.func},componentWillUnmount:function(){h(window,y.move,this.handleDrag),h(window,y.end,this.handleDragEnd)},componentWillReceiveProps:function(e){e.moveOnStartChange&&this.setState({clientX:e.start.x,clientY:e.start.y})},getDefaultProps:function(){return{axis:"both",handle:null,cancel:null,grid:null,start:{x:0,y:0},moveOnStartChange:!1,useCSSTransforms:!1,zIndex:NaN,onStart:m,onDrag:m,onStop:m,onMouseDown:m}},getInitialState:function(){return{dragging:!1,startX:0,startY:0,offsetX:0,offsetY:0,clientX:this.props.start.x,clientY:this.props.start.y}},handleDragStart:function(e){if(this.props.onMouseDown(e),"number"!=typeof e.button||0===e.button){this.getDOMNode();if(!(this.props.handle&&!u(e.target,this.props.handle)||this.props.cancel&&u(e.target,this.props.cancel))){var t=c(e);this.setState({dragging:!0,offsetX:parseInt(t.clientX,10),offsetY:parseInt(t.clientY,10),startX:parseInt(this.state.clientX,10)||0,startY:parseInt(this.state.clientY,10)||0}),document.body.className+=" react-draggable-active",this.props.onStart(e,r(this)),p(window,y.move,this.handleDrag),p(window,y.end,this.handleDragEnd)}}},handleDragEnd:function(e){this.state.dragging&&(this.setState({dragging:!1}),document.body.className=document.body.className.replace(" react-draggable-active",""),this.props.onStop(e,r(this)),h(window,y.move,this.handleDrag),h(window,y.end,this.handleDragEnd))},handleDrag:function(e){var t=c(e),n=this.state.startX+(t.clientX-this.state.offsetX),i=this.state.startY+(t.clientY-this.state.offsetY);if(Array.isArray(this.props.grid)){var o=n<parseInt(this.state.clientX,10)?-1:1,s=i<parseInt(this.state.clientY,10)?-1:1;n=Math.abs(n-parseInt(this.state.clientX,10))>=this.props.grid[0]?parseInt(this.state.clientX,10)+this.props.grid[0]*o:parseInt(this.state.clientX,10),i=Math.abs(i-parseInt(this.state.clientY,10))>=this.props.grid[1]?parseInt(this.state.clientY,10)+this.props.grid[1]*s:parseInt(this.state.clientY,10)}Array.isArray(this.props.minConstraints)&&(n=Math.max(this.props.minConstraints[0],n),i=Math.max(this.props.minConstraints[1],i)),Array.isArray(this.props.maxConstraints)&&(n=Math.min(this.props.maxConstraints[0],n),i=Math.min(this.props.maxConstraints[1],i)),this.setState({clientX:n,clientY:i}),this.props.onDrag(e,r(this))},render:function(){var e={top:i(this)?this.state.clientY:this.state.startY,left:o(this)?this.state.clientX:this.state.startX};return this.props.useCSSTransforms&&(e=l(e)),this.state.dragging&&!isNaN(this.props.zIndex)&&(e.zIndex=this.props.zIndex),g(f.Children.only(this.props.children),{style:e,className:"react-draggable"+(this.state.dragging?" react-draggable-dragging":""),onMouseDown:this.handleDragStart,onTouchStart:function(e){return e.preventDefault(),this.handleDragStart.apply(this,arguments)}.bind(this),onMouseUp:this.handleDragEnd,onTouchEnd:this.handleDragEnd})}})},function(e,t,n){"use strict";var r=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},i=n(1),o=n(46),s=n(117);e.exports=i.createClass({displayName:"ResizableBox",mixins:[o],propTypes:{},getInitialState:function(){return{width:this.props.width,height:this.props.height}},onResize:function(e,t){var n=(t.element,t.size);(n.width!==this.state.width||n.height!==this.state.height)&&this.setState({width:n.width,height:n.height})},render:function(){var e=this.props.handleSize,t=this.props.minConstraints,n=this.props.maxConstraints,o=r(this.props,["handleSize","minConstraints","maxConstraints"]);return i.createElement(s,{minConstraints:t,maxConstraints:n,handleSize:e,width:this.state.width,height:this.state.height,onResize:this.onResize,draggableOpts:this.props.draggableOpts},i.createElement("div",i.__spread({style:{width:this.state.width+"px",height:this.state.height+"px"}},o),this.props.children))}})},function(e,t,n){e.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")},e.exports.Resizable=n(117),e.exports.ResizableBox=n(214)},function(e,t,n){e.exports=n(217)},function(e,t,n){"use strict";function r(e){return{element:e.getDOMNode(),position:{top:(e._pendingState||e.state).clientY,left:(e._pendingState||e.state).clientX}}}function i(e){return"both"===e.props.axis||"y"===e.props.axis}function o(e){return"both"===e.props.axis||"x"===e.props.axis}function s(e){return"function"==typeof e||"[object Function]"===Object.prototype.toString.call(e)}function a(e,t){for(var n=0,r=(e.length,null);r=e[n];n++)if(t.apply(t,[r,n,e]))return r}function u(e,t){var n=a(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(t){return s(e[t])});return e[n].call(e,t)}function l(e){var t=(""+e.left).replace(/(\d)$/,"$1px"),n=(""+e.top).replace(/(\d)$/,"$1px");return e.transform="translate("+t+","+n+")",e.WebkitTransform="translate("+t+","+n+")",e.OTransform="translate("+t+","+n+")",e.msTransform="translate("+t+","+n+")",e.MozTransform="translate("+t+","+n+")",delete e.left,delete e.top,e}function c(e){var t=e.touches&&e.touches[0]||e;return{clientX:t.clientX,clientY:t.clientY}}function p(e,t,n){e&&(e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener?e.addEventListener(t,n,!0):e["on"+t]=n)}function h(e,t,n){e&&(e.detachEvent?e.detachEvent("on"+t,n):e.removeEventListener?e.removeEventListener(t,n,!0):e["on"+t]=null)}var f=n(1),d=n(46),m=n(14),g=n(50);if("undefined"==typeof window)var v=!1;else var v="ontouchstart"in window||"onmsgesturechange"in window;var y=function(){var e={touch:{start:"touchstart",move:"touchmove",end:"touchend"},mouse:{start:"mousedown",move:"mousemove",end:"mouseup"}};return e[v?"touch":"mouse"]}();e.exports=f.createClass({displayName:"Draggable",mixins:[d],propTypes:{axis:f.PropTypes.oneOf(["both","x","y"]),handle:f.PropTypes.string,cancel:f.PropTypes.string,grid:f.PropTypes.arrayOf(f.PropTypes.number),start:f.PropTypes.object,moveOnStartChange:f.PropTypes.bool,useCSSTransforms:f.PropTypes.bool,zIndex:f.PropTypes.number,onStart:f.PropTypes.func,onDrag:f.PropTypes.func,onStop:f.PropTypes.func,onMouseDown:f.PropTypes.func},componentWillUnmount:function(){h(window,y.move,this.handleDrag),h(window,y.end,this.handleDragEnd)},componentWillReceiveProps:function(e){e.moveOnStartChange&&this.setState({clientX:e.start.x,clientY:e.start.y})},getDefaultProps:function(){return{axis:"both",handle:null,cancel:null,grid:null,start:{x:0,y:0},moveOnStartChange:!1,useCSSTransforms:!1,zIndex:NaN,onStart:m,onDrag:m,onStop:m,onMouseDown:m}},getInitialState:function(){return{dragging:!1,startX:0,startY:0,offsetX:0,offsetY:0,clientX:this.props.start.x,clientY:this.props.start.y}},handleDragStart:function(e){if(this.props.onMouseDown(e),"number"!=typeof e.button||0===e.button){this.getDOMNode();if(!(this.props.handle&&!u(e.target,this.props.handle)||this.props.cancel&&u(e.target,this.props.cancel))){var t=c(e);this.setState({dragging:!0,offsetX:parseInt(t.clientX,10),offsetY:parseInt(t.clientY,10),startX:parseInt(this.state.clientX,10)||0,startY:parseInt(this.state.clientY,10)||0}),document.body.className+=" react-draggable-active",this.props.onStart(e,r(this)),p(window,y.move,this.handleDrag),p(window,y.end,this.handleDragEnd)}}},handleDragEnd:function(e){this.state.dragging&&(this.setState({dragging:!1}),document.body.className=document.body.className.replace(" react-draggable-active",""),this.props.onStop(e,r(this)),h(window,y.move,this.handleDrag),h(window,y.end,this.handleDragEnd))},handleDrag:function(e){var t=c(e),n=this.state.startX+(t.clientX-this.state.offsetX),i=this.state.startY+(t.clientY-this.state.offsetY);if(Array.isArray(this.props.grid)){var o=n<parseInt(this.state.clientX,10)?-1:1,s=i<parseInt(this.state.clientY,10)?-1:1;n=Math.abs(n-parseInt(this.state.clientX,10))>=this.props.grid[0]?parseInt(this.state.clientX,10)+this.props.grid[0]*o:parseInt(this.state.clientX,10),i=Math.abs(i-parseInt(this.state.clientY,10))>=this.props.grid[1]?parseInt(this.state.clientY,10)+this.props.grid[1]*s:parseInt(this.state.clientY,10)}Array.isArray(this.props.minConstraints)&&(n=Math.max(this.props.minConstraints[0],n),i=Math.max(this.props.minConstraints[1],i)),Array.isArray(this.props.maxConstraints)&&(n=Math.min(this.props.maxConstraints[0],n),i=Math.min(this.props.maxConstraints[1],i)),this.setState({clientX:n,clientY:i}),this.props.onDrag(e,r(this))},render:function(){var e={top:i(this)?this.state.clientY:this.state.startY,left:o(this)?this.state.clientX:this.state.startX};return this.props.useCSSTransforms&&(e=l(e)),this.state.dragging&&!isNaN(this.props.zIndex)&&(e.zIndex=this.props.zIndex),g(f.Children.only(this.props.children),{style:e,className:"react-draggable"+(this.state.dragging?" react-draggable-dragging":""),onMouseDown:this.handleDragStart,onTouchStart:function(e){return e.preventDefault(),this.handleDragStart.apply(this,arguments)}.bind(this),onMouseUp:this.handleDragEnd,onTouchEnd:this.handleDragEnd})}})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){e.exports.en=n(166)},function(e,t,n){function r(e,t){"use strict";var n=e.Assertion;n.addProperty("validSignalK",function(){var e=i(this._obj),t=0===e.errors.length?"":e.errors[0].message+":"+e.errors[0].dataPath+" ("+(e.errors.length-1)+" other errors not reported here)";this.assert(e.valid,t,"expected #{this} to not be valid SignalK")}),n.addProperty("validSignalKDelta",function(){var e=o(this._obj),t=0===e.errors.length?"":e.errors[0].message+":"+e.errors[0].dataPath+" ("+(e.errors.length-1)+" other errors not reported here)";this.assert(e.valid,t,"expected #{this} to not be valid SignalK delta")}),n.addProperty("validSubscribeMessage",function(){var e=s(msg,"messages/subscribe"),t=e.error?e.error.message+":"+e.error.dataPath:"";this.assert(e.valid,t,"expected #{this} to not be valid SignalK subscribe message")}),n.addProperty("validUnsubscribeMessage",function(){var e=s(msg,"messages/unsubscribe"),t=e.error?e.error.message+":"+e.error.dataPath:"";this.assert(e.valid,t,"expected #{this} to not be valid SignalK unsubscribe message")})}function i(e){var t=n(92),r=n(63),i=n(42);t.addSchema("https://signalk.github.io/specification/schemas/vessel.json",i);var o=n(41);t.addSchema("https://signalk.github.io/specification/schemas/definitions.json",o);var s={navigation:n(57),environment:n(56),propulsion:n(58),resources:n(59),sensors:n(60),steering:n(61),tanks:n(62)};for(var a in s)t.addSchema("https://signalk.github.io/specification/schemas/groups/"+a+".json",s[a]);var u={vessels:{230099999:e}},l=t.validateMultiple(u,r,!0,!0);return l}function o(e,t){var r=n(92),i=n(55),o=n(41);r.addSchema("https://signalk.github.io/specification/schemas/definitions.json",o),t&&(e.context="ignored the context, so place a placeholder there");var s=r.validateMultiple(e,i,!0,!0);return s}function s(e,t){var r=n(92),i=n(286)("./"+t),o=r.validateResult(e,i,!0,!0);return o}e.exports.validate=i,e.exports.validateDelta=o,e.exports.chaiModule=r,e.exports.i18n=n(284)},function(e,t,n){function r(e){return n(i(e))}function i(e){return o[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}var o={"./def_loader":99,"./def_loader.json":99,"./def_loader_pre":100,"./def_loader_pre.json":100,"./definitions":41,"./definitions.json":41,"./delta":55,"./delta.json":55,"./groups/alarms":101,"./groups/alarms.json":101,"./groups/communication":102,"./groups/communication.json":102,"./groups/electrical_ac":103,"./groups/electrical_ac.json":103,"./groups/electrical_dc":104,"./groups/electrical_dc.json":104,"./groups/environment":56,"./groups/environment.json":56,"./groups/navigation":57,"./groups/navigation.json":57,"./groups/performance":105,"./groups/performance.json":105,"./groups/propulsion":58,"./groups/propulsion.json":58,"./groups/resources":59,"./groups/resources.json":59,"./groups/sails":106,"./groups/sails.json":106,"./groups/sensors":60,"./groups/sensors.json":60,"./groups/steering":61,"./groups/steering.json":61,"./groups/tanks":62,"./groups/tanks.json":62,"./messages/subscribe":107,"./messages/subscribe.json":107,"./messages/unsubscribe":108,"./messages/unsubscribe.json":108,"./signalk":63,"./signalk.json":63,"./vessel":42,"./vessel.json":42};r.keys=function(){return Object.keys(o)},r.resolve=i,e.exports=r,r.id=286},function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},function(e,t){(function(t){e.exports=t}).call(t,{})},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t){function n(e,t,n){var r;return r=t?new i(e,t):new i(e)}var r=function(){return this}(),i=r.WebSocket||r.MozWebSocket;e.exports=i?n:null,i&&(n.prototype=i.prototype)}]);
//# sourceMappingURL=ui.js.map