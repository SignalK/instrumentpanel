<!-- template.html -->
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF8">
    <title>SignalK Instrumentpanel</title>
    <link rel="stylesheet" type="text/css" href="css/react-grid-layout.css">
    <link rel="stylesheet" type="text/css" href="css/react-resizable.css">
    <link href="/bower_components/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="/bower_components/font-awesome/css/font-awesome.css" rel="stylesheet">

    <style>
      .react-grid-item {
        background-color: whitesmoke;
        border-radius: 8px;
        border: 1px solid silver;      
      }
      .react-draggable {
        background-color: gold;
      }
<<<<<<< HEAD
      .navbar>.container {
        width: auto;
        padding-left: 0;
=======
    }
  });
  gridster = $(".gridster ul").gridster().data('gridster');
  if (window.localStorage['signalkGrid']) {
    JSON.parse(window.localStorage['signalkGrid']).forEach(function(item) {
      try {
        gridWidgets[item.id] = createWidget(item.id, item.size_x, item.size_y, item.col, item.row);
      } catch (ex) {
        console.log(ex);
      }
    });
  }
  connectWs(window.location.host, dispatch)
});

function saveToLocalStorage() {
  window.localStorage['signalkGrid'] = JSON.stringify(gridster.serialize());  
}


var pathValues = {}

function valueToText(updateValue) {
  var pathValueFunction = pathValues[updateValue.path] || function(value) { return value;};
  return pathValueFunction(updateValue.value);
}

function dispatch(delta) {
  delta.updates.forEach(function(update) {
    update.values.forEach(function(value) {
      var id = getIdFor(value.path);
      pushToStream(id, value);
      var widget = gridWidgets[id];
      if (!widget) {
        widget = createWidget(value.path, 3, 2);
        gridWidgets[id] = widget;
>>>>>>> master
      }
      .widgetlist {
        overflow: scroll;
        height: 70%;
      }
    </style>
  </head>

  <body>
    <div id="content"></div>
  </body>
  <script src="dist/ui.js"></script>

</html>